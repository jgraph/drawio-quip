{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///external \"quip\"","webpack:///./node_modules/regenerator-runtime/runtime.js","webpack:///./src/record.jsx","webpack:///./src/root.jsx"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","quip","runtime","Op","hasOwn","$Symbol","iteratorSymbol","iterator","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","define","obj","configurable","writable","err","wrap","innerFn","outerFn","self","tryLocsList","protoGenerator","Generator","generator","context","Context","_invoke","state","method","arg","Error","doneResult","delegate","delegateResult","maybeInvokeDelegate","ContinueSentinel","sent","_sent","dispatchException","abrupt","record","tryCatch","type","done","makeInvokeMethod","fn","GeneratorFunction","GeneratorFunctionPrototype","IteratorPrototype","this","getProto","getPrototypeOf","NativeIteratorPrototype","values","Gp","defineIteratorMethods","forEach","AsyncIterator","PromiseImpl","previousPromise","callInvokeWithMethodAndArg","resolve","reject","invoke","result","__await","then","unwrapped","error","undefined","TypeError","info","resultName","next","nextLoc","pushTryEntry","locs","entry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","push","resetTryEntry","completion","reset","iterable","iteratorMethod","isNaN","length","constructor","displayName","isGeneratorFunction","genFun","ctor","mark","setPrototypeOf","__proto__","awrap","async","Promise","iter","toString","keys","reverse","pop","skipTempReset","prev","charAt","slice","stop","rootRecord","rval","exception","handle","loc","caught","hasCatch","hasFinally","finallyEntry","complete","finish","thrown","delegateYield","regeneratorRuntime","accidentalStrictMode","Function","DiagramRoot","apps","RootRecord","config","storage","revisions","RecordList","Type","DataEntity","edits","snapshot","data","comments","registerClass","Record","isBrowserSupported","window","navigator","userAgent","indexOf","isReadOnlyMode","domain","location","search","debugOutput","drawImage","defaultConfig","defaultResources","viewerConfig","fullscreen","previousParent","padding","locked","border","container","preview","graph","dlg","ui","sessionId","guid","revCounter","deleteData","ignoreFocus","initialPageId","snapshotObj","ignoreEscape","hidingPreview","sidebarWindowVisible","formatWindowVisible","outlineWindowVisible","layersWindowVisible","tagsWindowVisible","findWindowVisible","findReplaceWindowVisible","pageVisible","gridVisible","style","document","createElement","innerHTML","getElementsByTagName","appendChild","e","tempParams","url","idx","lastIndexOf","params","substring","split","href","urlParams","toolbar","nav","mxBasePath","mxLoadSettings","mxLoadStylesheets","mxLanguage","SAVE_URL","OPEN_URL","PROXY_URL","RESOURCES_PATH","RESOURCE_BASE","SHAPES_PATH","ICONSEARCH_PATH","STENCIL_PATH","TEMPLATE_PATH","IMAGE_PATH","STYLE_PATH","CSS_PATH","OPEN_FORM","GRAPH_IMAGE_PATH","DRAW_MATH_URL","mxscript","src","onLoad","setAttribute","onload","onreadystatechange","readyState","body","revsListener","evt","session","getData","revisionId","id","debug","ignoreNotify","setFileData","editor","undoManager","clear","revs","count","initSession","rootRecordListener","tempConfig","JSON","stringify","parse","hidePreview","scratchpad","getLocalData","tmp","loadLibrary","StorageLibrary","reloadFromRecord","editsListener","onlineListener","updateActions","focusListener","vHandle","display","sidebarWindow","setVisible","fit","formatWindow","actions","outlineWindow","layersWindow","menus","tagsWindow","findWindow","findReplaceWindow","funct","updateBorder","enableResizing","maintainAspectRatio","minWidth","minHeight","blurListener","setFullscreen","cellEditor","focusContainer","stopEditing","isVisible","popupMenuHandler","hideMenu","clearSelection","hideDialog","isGridEnabled","noPreview","updateSnapshot","sizeListener","fitDiagram","mouseLeaveListener","connectionHandler","hoverIcons","console","log","apply","arguments","s4","Math","floor","random","getSelection","empty","removeAllRanges","selection","afterOnLoad","img","cssText","EditorUi","mxIntegrateCallback","createViewer","isDocumentEditable","isDocumentTemplate","isExplorerTemplate","saveDocument","user","getViewingUser","Date","getTime","getName","getId","add","setData","getFileData","noFade","addMenu","small","menu","elt","menuObj","mxResources","mxUtils","className","position","fontWeight","top","marginRight","height","paddingTop","paddingBottom","menuCreated","mxWindow","normalizeImage","addMenuItem","label","tooltip","action","defaultOpacity","btn","write","menubar","mxEvent","addListener","consume","updateState","isEnabled","removeAttribute","opacity","createGroup","btns","btnGroup","margin","boxShadow","checkSize","dim","getViewportDimensions","rect","getBoundingClientRect","wrapper","left","width","mxClient","IS_GC","IS_MAC","IS_SF","Menubar","toggleShapes","toggleFormat","doDelete","scale","view","tx","translate","x","ty","y","abs","chromelessResize","paddingRight","showBackdrop","setWidthAndAspectRatio","tabContainer","tabContainerHeight","parentNode","disableResizing","updateTabContainer","keyCode","dismissBackdrop","removeChild","pages","viewState","setTimeout","setPrefixedStyle","addEventListener","EventType","ELEMENT_BLUR","ONLINE_STATUS_CHANGED","CONTAINER_SIZE_UPDATE","ELEMENT_FOCUS","removeEventListener","destroy","unlisten","onselectstart","event","target","dialog","isSelectionAllowed","isEditing","lastWidth","theThread","force","immediate","w","getContainerWidth","isDiagramEmpty","scaleAndTranslate","fixedZoom","maxZoom","blankHeight","overflow","clearTimeout","zoomTo","cw","clientWidth","pb","getBackgroundPageBounds","min","clientHeight","lightboxFit","bounds2","getGraphBounds","h","max","ceil","isMobile","updateContainerSize","bounds","getCurrentDimensions","checkLast","temp","lastEdit","showConfigureDialog","div","textAlign","whiteSpace","zoomInput","marginLeft","marginBottom","maxRadio","fixedRadio","defaultChecked","checked","br","paddingInput","marginTop","borderChk","addCheckbox","noPreviewChk","isViewerSiteAdmin","button","showAdvancedDialog","currentConfig","getSitePreferences","getForKey","TextareaDialog","newValue","alert","save","td","helpBtn","openLink","resetBtn","confirm","getUserPreferences","formatFileSize","showDialog","init","Editor","password","FilenameDialog","btn2","bytes","link","compressHistory","getDataObjArray","compressData","referrer","timestamp","current","Graph","compress","saveLocalFile","CustomDialog","brd","padd","parseInt","initialConfig","set","focus","IS_FF","documentMode","IS_QUIRKS","select","execCommand","isSelectionEmpty","currentPage","removePage","WrapperWindow","formatWidth","format","createFormat","fireEvent","mxEventObject","minimumSize","mxRectangle","offset","getOffset","span","showLibraryDialog","pickLibrary","fileUrl","spinner","spin","realUrl","isCorsEnabledForUrl","encodeURIComponent","req","getStatus","UrlLibrary","getText","handleError","toggleScratchpad","sidebar","showEntries","restoreLibraries","menuCommands","DocumentMenuCommands","MENU_MAIN","subCommands","SEPARATOR","handler","selectNextPage","createCmd","quipIcon","MenuIcons","FULL_SCREEN","toggleLocked","showComments","addLayout","ignoreLocked","escape","backgroundImage","backgroundPosition","main","isCreateViewer","iframe","configData","trim","configure","message","isDiagramActive","editorUiUpdateActionStates","updateActionStates","setEnabled","filename","mimeType","base64Encoded","allowBrowser","allowTab","doSaveLocalFile","URL","createObjectURL","base64ToBlob","Blob","color","lineHeight","borderRadius","revokeObjectURL","openInNewWindow","isNative","textarea","editorUiIsRemoteVisioFormat","isRemoteVisioFormat","remoteConvert","editorUiIsRemoteFileFormat","isRemoteFileFormat","saveRequest","xhr","send","resp","getXmlFileData","ignoreSelection","node","getGraphXml","fileNode","zapGremlins","getXml","setTextContent","cloneNode","model","mxCodec","createXmlDocument","encode","popupMenuShowSubmenu","mxPopupMenu","showSubmenu","parent","row","addDetachedNode","ReactDOM","findDOMNode","editorUiExecuteLayout","executeLayout","exec","animate","post","visibility","PrintDialog","previewEnabled","printPreview","EmbedDialog","showPreviewOption","shadowOptionEnabled","isMac","isIOs","isAndroid","graphSetShadowVisible","setShadowVisible","graphIsCssTransformsSupported","isCssTransformsSupported","popupsAllowed","EditDiagramDialog","showNewWindowOption","createLinkForHint","isPopupTrigger","getAttribute","isCustomLink","graphHandlerUpdateHint","mxGraphHandler","updateHint","vertexHandlerUpdateHint","mxVertexHandler","edgeHandlerUpdateHint","mxEdgeHandler","me","setPageFormat","pageFormat","validateBackground","sizeDidChange","handlerInit","panHandler","linkHint","PAN","vertexHandlerInit","edgeHandlerInit","handlerDestroy","removeListener","vertexHandlerDestroy","edgeHandlerDestroy","updateLinkHint","vertexHandlerUpdateLinkHint","edgeHandlerUpdateLinkHint","redrawHandles","links","vertexHandlerRedrawHandles","edgeHandlerRedrawHandles","index","ROTATION_HANDLE","rotationShape","editBlankUrl","setScale","maxFitScale","isPageInsertTabVisible","setLocalData","removeLocalData","editorGetGraphXml","editorUiAddTrees","addTrees","createSidebar","sidebarShowEntries","Sidebar","remember","oldValue","sidebarItemClicked","itemClicked","cells","ds","fileSupport","IS_IE","IS_IE11","input","files","file","reader","FileReader","LocalLibrary","readAsText","click","saveLibrary","images","noSpin","noReload","xml","createLibraryDataFromImages","doSave","libraryLoaded","getTitle","oldHash","getHash","rename","mxSettings","removeCustomLibrary","addCustomLibrary","removeLibrarySidebar","test","pendingLibraries","ignore","load","libs","waiting","checkDone","decodeURIComponent","palettes","onerror","isOffline","nocache","defaultCustomLibraries","settings","isNew","version","currentVersion","getCustomLibraries","customLibraries","searchFileUrl","lightboxMaxFitScale","footerHeight","enablePlantUml","createTabContainer","editorUiRefresh","refresh","diagramContainer","bottom","checkmarkImage","createSvgImage","closeImage","minimizeImage","maximizeImage","resizeImage","mxConstants","VERTEX_SELECTION_COLOR","EDGE_SELECTION_COLOR","CONNECT_HANDLE_FILLCOLOR","DEFAULT_VALID_COLOR","GUIDE_COLOR","HIGHLIGHT_STROKEWIDTH","HIGHLIGHT_OPACITY","Format","inactiveTabBackgroundColor","previewColor","mxRubberband","HoverIcons","inactiveOpacity","editAfterInsert","svgShadowColor","svgShadowOpacity","svgShadowSize","svgShadowBlur","getTooltipOffset","off","menuCreatePopupMenu","Menus","createPopupMenu","cell","editorUi","smartSeparators","addMenuItems","defaultValue","parseFloat","getSelectionCount","isCellFoldable","getSelectionCell","isCellCollapsed","addSeparator","addSubmenu","mxUrlConverter","convert","isRelativeUrl","convertImageUrl","graphCreateSvgCanvas","createSvgCanvas","canvas","oldConvert","converter","sanitizeHtml","editing","html_sanitize","arg2","arg3","tag","toLowerCase","g","TYPE","XML_TAG","XML_ATTR","toggleFormatPanel","forceHide","addShortcut","item","shortcut","firstChild","nextSibling","showCloseButton","DiagramFormatPanel","isShadowOptionVisible","isMathOptionVisible","editorUiShowDialog","modal","closable","onClose","bg","Dialog","getPosition","mxPoint","innerHeight","windowInit","catcher","addCatcher","createDiv","removeCatcher","removeDetachedNode","MOVE_START","MOVE_END","RESIZE_START","RESIZE_END","zIndex","minZIndex","changePageSetupExecute","ChangePageSetup","execute","page","graphViewSetCurrentRoot","mxGraphView","setCurrentRoot","root","currentRoot","hint","fitWindow","Session","destroyNewDialog","getElementById","isAppFocused","setInitialData","cleanupRevisions","createUi","callback","loadDefaultBundle","bundle","getDefaultBundle","getSpecialBundle","start","resources","App","isOnline","MathJax","mathematicalTypesetting","initMath","doMathJaxRender","Hub","Queue","plantUml","iconfinder","internationalization","getAll","doInit","theUi","postfix","VERSION","prefix","cellRenderer","minSvgStrokeWidth","isMouseInsertPoint","fontCss","addMouseListener","mouseDown","sender","mouseMove","isMouseDown","isLeftMouseButton","getEvent","isRightMouseButton","getRubberband","graphHandler","mouseUp","uiDestroy","isScrollWheelEvent","addMouseWheelListener","up","source","getSource","contains","isControlDown","isMetaDown","isZoomWheelEvent","getTranslate","step","isShiftDown","setTranslate","css","getCurrentStyle","overflowY","scrollTop","scrollHeight","uiOnKeyPress","onKeyPress","graphReset","delFunct","graphEscape","inactive","first","selectionCellsHandler","handlers","visit","isHandlerActive","graphIsCellLocked","isCellLocked","isCellSelected","sourceState","lastMouseX","getX","tolerance","lastMouseY","getY","selectCellForEvent","chromelessWindowResize","autoscale","maxScale","cx","cy","alignTop","bds","scroll","hasScrollbars","tr","b","fromRectangle","st","sl","scrollLeft","offsetWidth","ch","offsetHeight","dx","dy","lightboxVerticalDivider","lastY","addGestureListeners","getClientY","oldSpin","status","openLocalFile","uiValidateFileData","validateFileData","put","Action","insertPage","getDataArray","importFiles","maxImageSize","showImportCsvDialog","ParseDialog","deleteApp","addInsertItem","title","addItem","CreateGraphDialog","Menu","methods","backgroundColor","uiTheme","cursor","term","activeElement","createToolbar","defaultLibraryName","popupMenuHandlerPopup","popup","undoMgr","getSelectionModel","CHANGE","ADD","UNDO","REDO","CLEAR","forceUpdate","editable","NewDialog","emptyDiagramXml","background","borderBox","right","borderLeftWidth","borderRightWidth","buttons","defaultHeight","addFileDropHandler","createNewDialog","mathEnabled","exp","createSvgImageExport","expDrawCellState","drawCellState","svgDoc","ownerDocument","createElementNS","NS_SVG","getTooltipForCell","NONE","svgRoot","getSvg","shadowVisible","addSvgShadow","cmds","concat","updateToolbar","toolbarCommandIds","deleteEnabled","canUndo","canRedo","useCanvasForExport","imageExportEnabled","pdfExport","updateToolbarCommandsState","initialize","initializationCallback","getRootRecord","listen","math","svg","mz","f","shadow","maxWidth","nodeName","getAttributeNS","preventDefault","overflowX","destroyOnClose","setMaximizable","setResizable","setClosable","setLocation","iw","innerWidth","documentElement","ih","table","cache","localEdits","lastCount","allEdits","codec","linefeed","ignoreUpdates","lookup","getCell","undoListener","change","replaceRefs","counter","notifyListener","edit","getProperty","encodedChanges","encodeChanges","changes","undone","pageId","rec","NOTIFY","convertDiagram","recordListener","processEdits","maxHistoryDays","ageDays","active","processEdit","enc","mxCodecRegistry","getCodec","idrefs","update","initial","t0","seen","q","local","getSelectionCells","notify","redo","undo","processedEdits","j","selectPage","getPageById","processChange","redraw","resize","scrollCellToVisible","validate","newCell","setSelectionCells","invert","SelectPage","join","localEdit","splice","undoableEdit","decompress","createUndoableEdit","decodeChanges","parseXml","tempCodec","decodeChange","nodeType","NODETYPE_ELEMENT","decode","relatedPage","previousPage","pageid","mxGraphModel","updatePageRoot","setRoot","needsUpdate","child","cellRemoved","putObject","childCount","getChildCount","getChildAt","mxUndoableEdit"],"mappings":"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","file":"app.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/dist/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 1);\n","module.exports = quip;","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nvar runtime = (function (exports) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  function define(obj, key, value) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n    return obj[key];\n  }\n  try {\n    // IE 8 has a broken Object.defineProperty that only works on DOM objects.\n    define({}, \"\");\n  } catch (err) {\n    define = function(obj, key, value) {\n      return obj[key] = value;\n    };\n  }\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  exports.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  IteratorPrototype[iteratorSymbol] = function () {\n    return this;\n  };\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;\n  GeneratorFunctionPrototype.constructor = GeneratorFunction;\n  GeneratorFunction.displayName = define(\n    GeneratorFunctionPrototype,\n    toStringTagSymbol,\n    \"GeneratorFunction\"\n  );\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      define(prototype, method, function(arg) {\n        return this._invoke(method, arg);\n      });\n    });\n  }\n\n  exports.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  exports.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      define(genFun, toStringTagSymbol, \"GeneratorFunction\");\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  exports.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return PromiseImpl.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return PromiseImpl.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration.\n          result.value = unwrapped;\n          resolve(result);\n        }, function(error) {\n          // If a rejected Promise was yielded, throw the rejection back\n          // into the async generator function so it can be handled there.\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new PromiseImpl(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  AsyncIterator.prototype[asyncIteratorSymbol] = function () {\n    return this;\n  };\n  exports.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  exports.async = function(innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    if (PromiseImpl === void 0) PromiseImpl = Promise;\n\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList),\n      PromiseImpl\n    );\n\n    return exports.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        // Note: [\"return\"] must be used for ES3 parsing compatibility.\n        if (delegate.iterator[\"return\"]) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\n          \"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  define(Gp, toStringTagSymbol, \"Generator\");\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  Gp[iteratorSymbol] = function() {\n    return this;\n  };\n\n  Gp.toString = function() {\n    return \"[object Generator]\";\n  };\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  exports.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  exports.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n\n  // Regardless of whether this script is executing as a CommonJS module\n  // or not, return the runtime object so that we can declare the variable\n  // regeneratorRuntime in the outer scope, which allows this module to be\n  // injected easily by `bin/regenerator --include-runtime script.js`.\n  return exports;\n\n}(\n  // If this script is executing as a CommonJS module, use module.exports\n  // as the regeneratorRuntime namespace. Otherwise create a new empty\n  // object. Either way, the resulting object will be used to initialize\n  // the regeneratorRuntime variable at the top of this file.\n  typeof module === \"object\" ? module.exports : {}\n));\n\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  // This module should not be running in strict mode, so the above\n  // assignment should always work unless something is misconfigured. Just\n  // in case runtime.js accidentally runs in strict mode, we can escape\n  // strict mode using a global Function call. This could conceivably fail\n  // if a Content Security Policy forbids using Function, but in that case\n  // the proper solution is to fix the accidental strict mode problem. If\n  // you've misconfigured your bundler to force strict mode and applied a\n  // CSP to forbid Function, and you're not willing to fix either of those\n  // problems, please detail your unique predicament in a GitHub issue.\n  Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n}\n","/**\n * Copyright (c) 2018, JGraph Ltd\n * Copyright (c) 2018, Gaudenz Alder\n */\nexport class DiagramRoot extends quip.apps.RootRecord\n{\n    static getProperties()\n    {\n        return {\n            config: \"string\",\n            storage: \"string\",\n//            comments: quip.apps.RecordList.Type(CommentEntity),\n            revisions: quip.apps.RecordList.Type(DataEntity),\n            edits: quip.apps.RecordList.Type(DataEntity),\n            snapshot: \"string\",\n            data: \"string\"\n        };\n    }\n    \n    static getDefaultProperties()\n    {\n        return{\n            edits: [],\n            comments: [],\n            revisions: []\n        };\n    }\n}\n\nquip.apps.registerClass(DiagramRoot, \"root\");\n\nexport class DataEntity extends quip.apps.Record\n{\n    static getProperties()\n    {\n        return {\n            data: \"string\"\n        };\n    }\n}\n\nquip.apps.registerClass(DataEntity, \"DataEntity\");\n\n//export class CommentEntity extends quip.apps.Record\n//{\n//    static getProperties()\n//    {\n//        return {\n//            pageId: \"string\",\n//            cellId: \"string\"\n//        };\n//    }\n//\n//    getDom()\n//    {\n//        //var state = graph.view.getState(graph.model.getCell(this.get(\"cellId\")));\n//\n//        //return (state != null && state.shape != null) ? ReactDOM.findDOMNode(state.shape.node) : null;\n//        //return document.getElementById('graph'); //ReactDOM.findDOMNode(document.getElementById('graph'));\n//        \n//        console.log('getDom', ReactDOM.findDOMNode(document.getElementById('graph')));\n//        \n//        return ReactDOM.findDOMNode(document.getElementById('graph'));\n//    }\n//    \n//    supportsComments()\n//    {\n//        return true;\n//    }\n//}\n//\n//quip.apps.registerClass(CommentEntity, \"CommentEntity\");\n","/**\n * Copyright (c) 2020, JGraph Ltd\n * Copyright (c) 2020, Gaudenz Alder\n */\nimport quip from \"quip\";\n\nimport {\n    DiagramRoot,\n    CommentEntity\n} from \"./record.jsx\";\n\n// Workaround for sync bug in MS Edge is to disable all editing\n/////////////////////////////////////////////\n// NOTE: TO ENABLE MSEDGE SET THIS TO true //\n// ENABLE THIS IF MS EDGE CAN SAVE CHANGES //\n/////////////////////////////////////////////\nvar isBrowserSupported = window.navigator.userAgent.indexOf(\"Edge\") <= 0;\n\nfunction isReadOnlyMode()\n{\n    return !isBrowserSupported;\n};\n\nvar domain = (location.search.indexOf('&dev_base_href=') >= 0) ? 'test.draw.io' : 'www.draw.io';\nvar debugOutput = domain == 'test.draw.io';\nvar drawImage = 'data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDIxLjAuMiwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkViZW5lXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IgoJIHZpZXdCb3g9IjAgMCAyNTAgMjUwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCAyNTAgMjUwOyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+CjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+Cgkuc3Qwe2ZpbGw6I2EyYTJhMjt9Cgkuc3Qxe2ZpbGw6IzhlOGU4ZTt9Cgkuc3Qye2ZpbGw6I0ZGRkZGRjt9Cjwvc3R5bGU+Cjx0aXRsZT5aZWljaGVuZmzDpGNoZSAxPC90aXRsZT4KPHBhdGggY2xhc3M9InN0MCIgZD0iTTIzNy41LDIyNy45YzAsNS4zLTQuMyw5LjYtOS41LDkuNmMwLDAsMCwwLDAsMEgyMi4xYy01LjMsMC05LjYtNC4zLTkuNi05LjVjMCwwLDAsMCwwLDBWMjIuMQoJYzAtNS4zLDQuMy05LjYsOS41LTkuNmMwLDAsMCwwLDAsMGgyMDUuOWM1LjMsMCw5LjYsNC4zLDkuNiw5LjVjMCwwLDAsMCwwLDBWMjI3Ljl6Ii8+CjxwYXRoIGNsYXNzPSJzdDEiIGQ9Ik0yMzcuNSwyMjcuOWMwLDUuMy00LjMsOS42LTkuNSw5LjZjMCwwLDAsMCwwLDBIODkuNkw0NC44LDE5MmwyNy45LTQ1LjVsODIuNy0xMDIuN2w4Mi4xLDg0LjVWMjI3Ljl6Ii8+CjxwYXRoIGNsYXNzPSJzdDIiIGQ9Ik0xOTcuMSwxMzguM2gtMjMuN2wtMjUtNDIuN2M1LjctMS4yLDkuOC02LjIsOS43LTEyVjUxLjVjMC02LjgtNS40LTEyLjMtMTIuMi0xMi4zYzAsMC0wLjEsMC0wLjEsMGgtNDEuNwoJYy02LjgsMC0xMi4zLDUuNC0xMi4zLDEyLjJjMCwwLDAsMC4xLDAsMC4xdjMyLjFjMCw1LjgsNCwxMC44LDkuNywxMmwtMjUsNDIuN0g1Mi45Yy02LjgsMC0xMi4zLDUuNC0xMi4zLDEyLjJjMCwwLDAsMC4xLDAsMC4xCgl2MzIuMWMwLDYuOCw1LjQsMTIuMywxMi4yLDEyLjNjMCwwLDAuMSwwLDAuMSwwaDQxLjdjNi44LDAsMTIuMy01LjQsMTIuMy0xMi4yYzAsMCwwLTAuMSwwLTAuMXYtMzIuMWMwLTYuOC01LjQtMTIuMy0xMi4yLTEyLjMKCWMwLDAtMC4xLDAtMC4xLDBoLTRsMjQuOC00Mi40aDE5LjNsMjQuOSw0Mi40aC00LjFjLTYuOCwwLTEyLjMsNS40LTEyLjMsMTIuMmMwLDAsMCwwLjEsMCwwLjF2MzIuMWMwLDYuOCw1LjQsMTIuMywxMi4yLDEyLjMKCWMwLDAsMC4xLDAsMC4xLDBoNDEuN2M2LjgsMCwxMi4zLTUuNCwxMi4zLTEyLjJjMCwwLDAtMC4xLDAtMC4xdi0zMi4xYzAtNi44LTUuNC0xMi4zLTEyLjItMTIuMwoJQzE5Ny4yLDEzOC4zLDE5Ny4yLDEzOC4zLDE5Ny4xLDEzOC4zeiIvPgo8L3N2Zz4K'; \nvar initialHtml = '<div id=\"graph\" style=\"background-image:url(' + drawImage + ');' +\n    'background-repeat:no-repeat;background-position:center top;position:relative;background-size: auto 64px;max-width:100%;width:100%;height:64px;\"></div>';\nvar defaultConfig = '{\"version\": \"1.0\",\\n\"mathematicalTypesetting\": true,\\n\"internationalization\": true,\\n\"iconfinder\": true,\\n\"plantUml\": true,\\n\"pdfExport\": true,\\n' +\n\t'\"remoteConvert\": true,\\n\"defaultEdgeLength\": 60,\\n\"defaultLibraries\": \"general;uml;er;flowchart;basic;arrows2\",\\n\"customFonts\": [\"Salesforce Sans Web\"],\\n' +\n    '\"defaultVertexStyle\": {\"fontFamily\": \"Salesforce Sans Web\", \"fontSize\": 14, \"fontColor\": \"#333333\", \"strokeColor\": \"#333333\"},\\n' +\n    '\"defaultEdgeStyle\": {\"fontFamily\": \"Salesforce Sans Web\", \"fontSize\": 13, \"fontColor\": \"#333333\", \"strokeColor\": \"#333333\", ' +\n    '\"edgeStyle\": \"orthogonalEdgeStyle\", \"jettySize\": \"auto\", \"orthogonalLoop\": \"1\"},\\n' +\n    '\"customPresetColors\": [\"ffbcc2\", \"fce8a8\", \"b4e5fa\", \"b4f0c2\", \"ffd1b9\", \"d4c7fc\", \"ff4050\", \"f7bc05\", \"29b6f2\", \"2ad352\", \"ff7c36\", \"855ff5\"],\\n' +\n    '\"customColorSchemes\": [[null, {\"fill\": \"none\"},\\n' +\n\t'{\"fill\": \"#ffbcc2\"}, {\"fill\": \"#fce8a8\"},\\n' +\n\t'{\"fill\": \"#b4e5fa\"}, {\"fill\": \"#b4f0c2\"},\\n' +\n\t'{\"fill\": \"#ffd1b9\"}, {\"fill\": \"#d4c7fc\"}],\\n' +\n\t'[null, {\"fill\": \"none\"},\\n' +\n\t'{\"fill\": \"#ffecee\", \"stroke\": \"#ffcbce\", \"font\": \"#ff4050\"}, {\"fill\": \"#fff8e7\", \"stroke\": \"#ffebc2\", \"font\": \"#f7bc05\"},\\n' +\n\t'{\"fill\": \"#e6f8fd\", \"stroke\": \"#c2ecfb\", \"font\": \"#29b6f2\"}, {\"fill\": \"#e7fbef\", \"stroke\": \"#c3f3d1\", \"font\": \"#2ad352\"},\\n' +\n\t'{\"fill\": \"#fff2ec\", \"stroke\": \"#ffdac9\", \"font\": \"#ff7c36\"}, {\"fill\": \"#f3effd\", \"stroke\": \"#e0d1fa\", \"font\": \"#855ff5\"}],\\n' +\n\t'[null, {\"fill\": \"none\"},\\n' +\n\t'{\"fill\": \"#ff4050\", \"stroke\": \"#CC0D1D\", \"font\": \"#ffffff\"}, {\"fill\": \"#f7bc05\", \"stroke\": \"#C48900\", \"font\": \"#ffffff\"},\\n' +\n\t'{\"fill\": \"#29b6f2\", \"stroke\": \"#0083BF\", \"font\": \"#ffffff\"}, {\"fill\": \"#2ad352\", \"stroke\": \"#00A01F\", \"font\": \"#ffffff\"},\\n' +\n\t'{\"fill\": \"#ff7c36\", \"stroke\": \"#CC4903\", \"font\": \"#ffffff\"}, {\"fill\": \"#855ff5\", \"stroke\": \"#522CC2\", \"font\": \"#ffffff\"}]]\\n,' +\n    '\"fontCss\": \"@font-face { font-family: \\\\\"Salesforce Sans Web\\\\\"; src: url(\\\\\"dist/SalesforceSans-Regular.eot\\\\\") format(\\\\\"embedded-opentype\\\\\"), ' +\n    \t'url(\\\\\"dist/SalesforceSans-Regular.woff\\\\\") format(\\\\\"woff\\\\\"); font-weight: 400; font-style: normal; }' +\n    '@font-face { font-family: \\\\\"Salesforce Sans Web\\\\\"; src: url(\\\\\"dist/SalesforceSans-Italic.eot\\\\\") format(\\\\\"embedded-opentype\\\\\"), ' +\n    \t'url(\\\\\"dist/SalesforceSans-Italic.woff\\\\\") format(\\\\\"woff\\\\\"); font-weight: 400; font-style: italic; }' +\n    '@font-face { font-family: \\\\\"Salesforce Sans Web\\\\\"; src: url(\\\\\"dist/SalesforceSans-Bold.eot\\\\\") format(\\\\\"embedded-opentype\\\\\"), ' +\n    \t'url(\\\\\"dist/SalesforceSans-Bold.woff\\\\\") format(\\\\\"woff\\\\\"); font-weight: 700; font-style: normal}' +\n    '@font-face { font-family: \\\\\"Salesforce Sans Web\\\\\"; src: url(\\\\\"dist/SalesforceSans-BoldItalic.eot\\\\\") format(\\\\\"embedded-opentype\\\\\"), ' +\n    \t'url(\\\\\"dist/SalesforceSans-BoldItalic.woff\\\\\") format(\\\\\"woff\\\\\"); font-weight: 700; font-style: italic; }\"}';\n\n// Offline language support is limited to English to keep the .ele small. English resources from dia.txt must be copied to the line below:\n// Replace \\n with \\\\n and ' with \\\\' (regex) in a text editor and paste between the quotes.\nvar defaultResources = 'about=About \\naboutDrawio=About draw.io\\naccessDenied=Access Denied\\naction=Action\\nactualSize=Actual Size\\nadd=Add\\naddAccount=Add account\\naddedFile=Added {1}\\naddImages=Add Images\\naddImageUrl=Add Image URL\\naddLayer=Add Layer\\naddProperty=Add Property\\naddress=Address\\naddToExistingDrawing=Add to Existing Drawing\\naddWaypoint=Add Waypoint\\nadjustTo=Adjust to\\nadvanced=Advanced\\nalign=Align\\nalignment=Alignment\\nallChangesLost=All changes will be lost!\\nallPages=All Pages\\nallProjects=All Projects\\nallSpaces=All Spaces\\nallTags=All Tags\\nanchor=Anchor\\nandroid=Android\\nangle=Angle\\narc=Arc\\nareYouSure=Are you sure?\\nensureDataSaved=Please ensure your data is saved before closing.\\nallChangesSaved=All changes saved\\nallChangesSavedInDrive=All changes saved in Drive\\nallowPopups=Allow pop-ups to avoid this dialog.\\nallowRelativeUrl=Allow relative URL\\nalreadyConnected=Nodes already connected\\napply=Apply\\narchiMate21=ArchiMate 2.1\\narrange=Arrange\\narrow=Arrow\\narrows=Arrows\\nasNew=As New\\natlas=Atlas\\nauthor=Author\\nauthorizationRequired=Authorization required\\nauthorizeThisAppIn=Authorize this app in {1}:\\nauthorize=Authorize\\nauthorizing=Authorizing\\nautomatic=Automatic\\nautosave=Autosave\\nautosize=Autosize\\nattachments=Attachments\\naws=AWS\\naws3d=AWS 3D\\nazure=Azure\\nback=Back\\nbackground=Background\\nbackgroundColor=Background Color\\nbackgroundImage=Background Image\\nbasic=Basic\\nblankDrawing=Blank Drawing\\nblankDiagram=Blank Diagram\\nblock=Block\\nblockquote=Blockquote\\nblog=Blog\\nbold=Bold\\nbootstrap=Bootstrap\\nborder=Border\\nborderColor=Border Color\\nborderWidth=Border Width\\nbottom=Bottom\\nbottomAlign=Bottom Align\\nbottomLeft=Bottom Left\\nbottomRight=Bottom Right\\nbpmn=BPMN\\nbrowser=Browser\\nbulletedList=Bulleted List\\nbusiness=Business\\nbusy=Operation in progress\\ncabinets=Cabinets\\ncancel=Cancel\\ncenter=Center\\ncannotLoad=Load attempts failed. Please try again later.\\ncannotLogin=Log in attempts failed. Please try again later.\\ncannotOpenFile=Cannot open file\\nchange=Change\\nchangeOrientation=Change Orientation\\nchangeUser=Change user\\nchangeStorage=Change storage\\nchangesNotSaved=Changes have not been saved\\nclassDiagram=Class Diagram\\nuserJoined={1} has joined\\nuserLeft={1} has left\\nchatWindowTitle=Chat\\nchooseAnOption=Choose an option\\nchromeApp=Chrome App\\ncollaborativeEditingNotice=Important Notice for Collaborative Editing\\ncompare=Compare\\ncompressed=Compressed\\ncommitMessage=Commit Message\\nconfigLinkWarn=This link configures draw.io. Only click OK if you trust whoever gave you it!\\nconfigLinkConfirm=Click OK to configure and restart draw.io.\\ncsv=CSV\\ndark=Dark\\ndiagramXmlDesc=XML File\\ndiagramHtmlDesc=HTML File\\ndiagramPngDesc=Editable Bitmap Image\\ndiagramSvgDesc=Editable Vector Image\\ndidYouMeanToExportToPdf=Did you mean to export to PDF?\\ndraftFound=A draft for \\'{1}\\' has been found. Load it into the editor or discard it to continue.\\ndraftRevisionMismatch=There is a different version of this diagram on a shared draft of this page. Please edit the diagram from the draft to ensure you are working with the latest version.\\nselectDraft=Select a draft to continue editing:\\ndragAndDropNotSupported=Drag and drop not supported for images. Would you like to import instead?\\ndropboxCharsNotAllowed=The following characters are not allowed: \\\\ / : ? * \\\" |\\ncheck=Check\\nchecksum=Checksum\\ncircle=Circle\\ncisco=Cisco\\nclassic=Classic\\nclearDefaultStyle=Clear Default Style\\nclearWaypoints=Clear Waypoints\\nclipart=Clipart\\nclose=Close\\nclosingFile=Closing file\\ncollaborator=Collaborator\\ncollaborators=Collaborators\\ncollapse=Collapse\\ncollapseExpand=Collapse/Expand\\ncollapse-expand=Click to collapse/expand\\\\nShift-click to move neighbors \\\\nAlt-click to protect group size\\ncollapsible=Collapsible\\ncomic=Comic\\ncomment=Comment\\ncommentsNotes=Comments/Notes\\ncompress=Compress\\nconfiguration=Configuration\\nconnect=Connect\\nconnecting=Connecting\\nconnectWithDrive=Connect with Google Drive\\nconnection=Connection\\nconnectionArrows=Connection Arrows\\nconnectionPoints=Connection Points\\nconstrainProportions=Constrain Proportions\\ncontainsValidationErrors=Contains validation errors\\ncopiedToClipboard=Copied to clipboard\\ncopy=Copy\\ncopyConnect=Copy on connect\\ncopyCreated=A copy of the file was created.\\ncopyOf=Copy of {1}\\ncopyOfDrawing=Copy of Drawing\\ncopySize=Copy Size\\ncopyStyle=Copy Style\\ncreate=Create\\ncreateNewDiagram=Create New Diagram\\ncreateRevision=Create Revision\\ncreateShape=Create Shape\\ncrop=Crop\\ncurved=Curved\\ncustom=Custom\\ncurrent=Current\\ncurrentPage=Current page\\ncut=Cut\\ndashed=Dashed\\ndecideLater=Decide later\\ndefault=Default\\ndelete=Delete\\ndeleteColumn=Delete Column\\ndeleteLibrary401=Insufficient permissions to delete this library\\ndeleteLibrary404=Selected library could not be found\\ndeleteLibrary500=Error deleting library\\ndeleteLibraryConfirm=You are about to permanently delete this library. Are you sure you want to do this?\\ndeleteRow=Delete Row\\ndescription=Description\\ndevice=Device\\ndiagram=Diagram\\ndiagramContent=Diagram Content\\ndiagramLocked=Diagram has been locked to prevent further data loss.\\ndiagramLockedBySince=The diagram is locked by {1} since {2} ago\\ndiagramName=Diagram Name\\ndiagramIsPublic=Diagram is public\\ndiagramIsNotPublic=Diagram is not public\\ndiamond=Diamond\\ndiamondThin=Diamond (thin)\\ndidYouKnow=Did you know...\\ndirection=Direction\\ndiscard=Discard\\ndiscardChangesAndReconnect=Discard Changes and Reconnect\\ngoogleDriveMissingClickHere=Google Drive missing? Click here!\\ndiscardChanges=Discard Changes\\ndisconnected=Disconnected\\ndistribute=Distribute\\ndone=Done\\ndoNotShowAgain=Do not show again\\ndotted=Dotted\\ndoubleClickOrientation=Doubleclick to change orientation\\ndoubleClickTooltip=Doubleclick to insert text\\ndoubleClickChangeProperty=Doubleclick to change property name\\ndownload=Download\\ndownloadDesktop=Get Desktop\\ndownloadAs=Download as\\nclickHereToSave=Click here to save.\\ndpi=DPI\\ndraftDiscarded=Draft discarded\\ndraftSaved=Draft saved\\ndragElementsHere=Drag elements here\\ndragImagesHere=Drag images or URLs here\\ndragUrlsHere=Drag URLs here\\ndraw.io=draw.io\\ndrawing=Drawing{1}\\ndrawingEmpty=Drawing is empty\\ndrawingTooLarge=Drawing is too large\\ndrawioForWork=Draw.io for GSuite\\ndropbox=Dropbox\\nduplicate=Duplicate\\nduplicateIt=Duplicate {1}\\ndivider=Divider\\ndx=Dx\\ndy=Dy\\neast=East\\nedit=Edit\\neditData=Edit Data\\neditDiagram=Edit Diagram\\neditGeometry=Edit Geometry\\neditImage=Edit Image\\neditImageUrl=Edit Image URL\\neditLink=Edit Link\\neditShape=Edit Shape\\neditStyle=Edit Style\\neditText=Edit Text\\neditTooltip=Edit Tooltip\\nglass=Glass\\ngoogleImages=Google Images\\nimageSearch=Image Search\\neip=EIP\\nembed=Embed\\nembedImages=Embed Images\\nmainEmbedNotice=Paste this into the page\\nelectrical=Electrical\\nellipse=Ellipse\\nembedNotice=Paste this once at the end of the page\\nenterGroup=Enter Group\\nenterName=Enter Name\\nenterPropertyName=Enter Property Name\\nenterValue=Enter Value\\nentityRelation=Entity Relation\\nentityRelationshipDiagram=Entity Relationship Diagram\\nerror=Error\\nerrorDeletingFile=Error deleting file\\nerrorLoadingFile=Error loading file\\nerrorRenamingFile=Error renaming file\\nerrorRenamingFileNotFound=Error renaming file. File was not found.\\nerrorRenamingFileForbidden=Error renaming file. Insufficient access rights.\\nerrorSavingDraft=Error saving draft\\nerrorSavingFile=Error saving file\\nerrorSavingFileUnknown=Error authorizing with Google\\'s servers. Please refresh the page to re-attempt.\\nerrorSavingFileForbidden=Error saving file. Insufficient access rights.\\nerrorSavingFileNameConflict=Could not save diagram. Current page already contains file named \\'{1}\\'.\\nerrorSavingFileNotFound=Error saving file. File was not found.\\nerrorSavingFileReadOnlyMode=Could not save diagram while read-only mode is active.\\nerrorSavingFileSessionTimeout=Your session has ended. Please <a target=\\'_blank\\' href=\\'{1}\\'>{2}</a> and return to this tab to try to save again.\\nerrorSendingFeedback=Error sending feedback.\\nerrorUpdatingPreview=Error updating preview.\\nexit=Exit\\nexitGroup=Exit Group\\nexpand=Expand\\nexport=Export\\nexporting=Exporting\\nexportAs=Export as\\nexportOptionsDisabled=Export options disabled\\nexportOptionsDisabledDetails=The owner has disabled options to download, print or copy for commenters and viewers on this file.\\nexternalChanges=External Changes\\nextras=Extras\\nfacebook=Facebook\\nfailedToSaveTryReconnect=Failed to save, trying to reconnect\\nfeatureRequest=Feature Request\\nfeedback=Feedback\\nfeedbackSent=Feedback successfully sent.\\nfloorplans=Floorplans\\nfile=File\\nfileChangedOverwriteDialog=The file has been modified. Do you want to save the file and overwrite those changes?\\nfileChangedSyncDialog=The file has been modified. Do you want to synchronize those changes?\\nfileChangedSync=The file has been modified. Click here to synchronize.\\noverwrite=Overwrite\\nsynchronize=Synchronize\\nfilename=Filename\\nfileExists=File already exists\\nfileMovedToTrash=File was moved to trash\\nfileNearlyFullSeeFaq=File nearly full, please see FAQ\\nfileNotFound=File not found\\nrepositoryNotFound=Repository not found\\nfileNotFoundOrDenied=The file was not found. It does not exist or you do not have access.\\nfileNotLoaded=File not loaded\\nfileNotSaved=File not saved\\nfileOpenLocation=How would you like to open these file(s)?\\nfiletypeHtml=.html causes file to save as HTML with redirect to cloud URL\\nfiletypePng=.png causes file to save as PNG with embedded data\\nfiletypeSvg=.svg causes file to save as SVG with embedded data\\nfileWillBeSavedInAppFolder={1} will be saved in the app folder.\\nfill=Fill\\nfillColor=Fill Color\\nfilterCards=Filter Cards\\nfind=Find\\nfit=Fit\\nfitContainer=Resize Container\\nfitIntoContainer=Fit into Container\\nfitPage=Fit Page\\nfitPageWidth=Fit Page Width\\nfitTo=Fit to\\nfitToSheetsAcross=sheet(s) across\\nfitToBy=by\\nfitToSheetsDown=sheet(s) down\\nfitTwoPages=Two Pages\\nfitWindow=Fit Window\\nflip=Flip\\nflipH=Flip Horizontal\\nflipV=Flip Vertical\\nflowchart=Flowchart\\nfolder=Folder\\nfont=Font\\nfontColor=Font Color\\nfontFamily=Font Family\\nfontSize=Font Size\\nforbidden=You are not authorized to access this file\\nformat=Format\\nformatPanel=Format Panel\\nformatted=Formatted\\nformattedText=Formatted Text\\nformatPng=PNG\\nformatGif=GIF\\nformatJpg=JPEG\\nformatPdf=PDF\\nformatSql=SQL\\nformatSvg=SVG\\nformatHtmlEmbedded=HTML\\nformatSvgEmbedded=SVG (with XML)\\nformatVsdx=VSDX\\nformatVssx=VSSX\\nformatXmlPlain=XML (Plain)\\nformatXml=XML\\nforum=Discussion/Help Forums\\nfreehand=Freehand\\nfromTemplate=From Template\\nfromTemplateUrl=From Template URL\\nfromText=From Text\\nfromUrl=From URL\\nfromThisPage=From this page\\nfullscreen=Fullscreen\\ngap=Gap\\ngcp=GCP\\ngeneral=General\\ngithub=GitHub\\ngitlab=GitLab\\ngliffy=Gliffy\\nglobal=Global\\ngoogleDocs=Google Docs\\ngoogleDrive=Google Drive\\ngoogleGadget=Google Gadget\\ngooglePlus=Google+\\ngoogleSharingNotAvailable=Sharing is only available via Google Drive. Please click Open below and share from the more actions menu:\\ngoogleSlides=Google Slides\\ngoogleSites=Google Sites\\ngoogleSheets=Google Sheets\\ngradient=Gradient\\ngradientColor=Color\\ngrid=Grid\\ngridColor=Grid Color\\ngridSize=Grid Size\\ngroup=Group\\nguides=Guides\\nhateApp=I hate draw.io\\nheading=Heading\\nheight=Height\\nhelp=Help\\nhelpTranslate=Help us translate this application\\nhide=Hide\\nhideIt=Hide {1}\\nhidden=Hidden\\nhome=Home\\nhorizontal=Horizontal\\nhorizontalFlow=Horizontal Flow\\nhorizontalTree=Horizontal Tree\\nhowTranslate=How good is the translation in your language?\\nhtml=HTML\\nhtmlText=HTML Text\\nid=ID\\niframe=IFrame\\nignore=Ignore\\nimage=Image\\nimageUrl=Image URL\\nimages=Images\\nimagePreviewError=This image couldn\\'t be loaded for preview. Please check the URL.\\nimageTooBig=Image too big\\nimgur=Imgur\\nimport=Import\\nimportFrom=Import from\\nincludeCopyOfMyDiagram=Include a copy of my diagram\\nincreaseIndent=Increase Indent\\ndecreaseIndent=Decrease Indent\\ninsert=Insert\\ninsertColumnBefore=Insert Column Left\\ninsertColumnAfter=Insert Column Right\\ninsertEllipse=Insert Ellipse\\ninsertImage=Insert Image\\ninsertHorizontalRule=Insert Horizontal Rule\\ninsertLink=Insert Link\\ninsertPage=Insert Page\\ninsertRectangle=Insert Rectangle\\ninsertRhombus=Insert Rhombus\\ninsertRowBefore=Insert Row Above\\ninsertRowAfter=Insert Row After\\ninsertText=Insert Text\\ninserting=Inserting\\ninstallApp=Install App\\ninvalidFilename=Diagram names must not contain the following characters: \\\\ / | : ; { } < > & + ? = \\\"\\ninvalidLicenseSeeThisPage=Your license is invalid, please see this <a target=\\\"_blank\\\" href=\\\"https://support.draw.io/display/DFCS/Licensing+your+draw.io+plugin\\\">page</a>.\\ninvalidInput=Invalid input\\ninvalidName=Invalid name\\ninvalidOrMissingFile=Invalid or missing file\\ninvalidPublicUrl=Invalid public URL\\nisometric=Isometric\\nios=iOS\\nitalic=Italic\\nkennedy=Kennedy\\nkeyboardShortcuts=Keyboard Shortcuts\\nlayers=Layers\\nlandscape=Landscape\\nlanguage=Language\\nleanMapping=Lean Mapping\\nlastChange=Last change {1} ago\\nlessThanAMinute=less than a minute\\nlicensingError=Licensing Error\\nlicenseHasExpired=The license for {1} has expired on {2}. Click here.\\nlicenseRequired=This feature requires draw.io to be licensed.\\nlicenseWillExpire=The license for {1} will expire on {2}. Click here.\\nlineJumps=Line jumps\\nlinkAccountRequired=If the diagram is not public a Google account is required to view the link.\\nlinkText=Link Text\\nlist=List\\nminute=minute\\nminutes=minutes\\nhours=hours\\ndays=days\\nmonths=months\\nyears=years\\nrestartForChangeRequired=Changes will take effect after a restart of the application.\\nlaneColor=Lanecolor\\nlastModified=Last modified\\nlayout=Layout\\nleft=Left\\nleftAlign=Left Align\\nleftToRight=Left to right\\nlibraryTooltip=Drag and drop shapes here or click + to insert. Double click to edit.\\nlightbox=Lightbox\\nline=Line\\nlineend=Line end\\nlineheight=Line Height\\nlinestart=Line start\\nlinewidth=Linewidth\\nlink=Link\\nlinks=Links\\nloading=Loading\\nlockUnlock=Lock/Unlock\\nloggedOut=Logged Out\\nlogIn=log in\\nloveIt=I love {1}\\nlucidchart=Lucidchart\\nmaps=Maps\\nmathematicalTypesetting=Mathematical Typesetting\\nmakeCopy=Make a Copy\\nmanual=Manual\\nmerge=Merge\\nmermaid=Mermaid\\nmicrosoftOffice=Microsoft Office\\nmicrosoftExcel=Microsoft Excel\\nmicrosoftPowerPoint=Microsoft PowerPoint\\nmicrosoftWord=Microsoft Word\\nmiddle=Middle\\nminimal=Minimal\\nmisc=Misc\\nmockups=Mockups\\nmodificationDate=Modification date\\nmodifiedBy=Modified by\\nmore=More\\nmoreResults=More Results\\nmoreShapes=More Shapes\\nmove=Move\\nmoveToFolder=Move to Folder\\nmoving=Moving\\nmoveSelectionTo=Move selection to {1}\\nname=Name\\nnavigation=Navigation\\nnetwork=Network\\nnetworking=Networking\\nnew=New\\nnewLibrary=New Library\\nnextPage=Next Page\\nno=No\\nnoPickFolder=No, pick folder\\nnoAttachments=No attachments found\\nnoColor=No Color\\nnoFiles=No Files\\nnoFileSelected=No file selected\\nnoLibraries=No libraries found\\nnoMoreResults=No more results\\nnone=None\\nnoOtherViewers=No other viewers\\nnoPlugins=No plugins\\nnoPreview=No preview\\nnoResponse=No response from server\\nnoResultsFor=No results for \\'{1}\\'\\nnoRevisions=No revisions\\nnoSearchResults=No search results found\\nnoPageContentOrNotSaved=No anchors found on this page or it hasn\\'t been saved yet\\nnormal=Normal\\nnorth=North\\nnotADiagramFile=Not a diagram file\\nnotALibraryFile=Not a library file\\nnotAvailable=Not available\\nnotAUtf8File=Not a UTF-8 file\\nnotConnected=Not connected\\nnote=Note\\nnotion=Notion\\nnotSatisfiedWithImport=Not satisfied with the import?\\nnotUsingService=Not using {1}?\\nnumberedList=Numbered list\\noffline=Offline\\nok=OK\\noneDrive=OneDrive\\nonline=Online\\nopacity=Opacity\\nopen=Open\\nopenArrow=Open Arrow\\nopenExistingDiagram=Open Existing Diagram\\nopenFile=Open File\\nopenFrom=Open from\\nopenLibrary=Open Library\\nopenLibraryFrom=Open Library from\\nopenLink=Open Link\\nopenInNewWindow=Open in New Window\\nopenInThisWindow=Open in This Window\\nopenIt=Open {1}\\nopenRecent=Open Recent\\nopenSupported=Supported formats are files saved from this software (.xml), .vsdx and .gliffy\\noptions=Options\\norganic=Organic\\norgChart=Org Chart\\northogonal=Orthogonal\\notherViewer=other viewer\\notherViewers=other viewers\\noutline=Outline\\noval=Oval\\npage=Page\\npageContent=Page Content\\npageNotFound=Page not found\\npageWithNumber=Page-{1}\\npages=Pages\\npageView=Page View\\npageSetup=Page Setup\\npageScale=Page Scale\\npan=Pan\\npanTooltip=Space+Drag to pan\\npaperSize=Paper Size\\npattern=Pattern\\nparallels=Parallels\\npaste=Paste\\npasteHere=Paste here\\npasteSize=Paste Size\\npasteStyle=Paste Style\\nperimeter=Perimeter\\npermissionAnyone=Anyone can edit\\npermissionAuthor=Owner and admins can edit\\npickFolder=Pick a folder\\npickLibraryDialogTitle=Select Library\\npublicDiagramUrl=Public URL of the diagram\\nplaceholders=Placeholders\\nplantUml=PlantUML\\nplugins=Plugins\\npluginUrl=Plugin URL\\npluginWarning=The page has requested to load the following plugin(s):\\\\n \\\\n {1}\\\\n \\\\n Would you like to load these plugin(s) now?\\\\n \\\\n NOTE : Only allow plugins to run if you fully understand the security implications of doing so.\\\\n\\nplusTooltip=Click to connect and clone (ctrl+click to clone, shift+click to connect). Drag to connect (ctrl+drag to clone).\\nportrait=Portrait\\nposition=Position\\nposterPrint=Poster Print\\npreferences=Preferences\\npreview=Preview\\npreviousPage=Previous Page\\nprint=Print\\nprintAllPages=Print All Pages\\nprocEng=Proc. Eng.\\nproject=Project\\npriority=Priority\\nproperties=Properties\\npublish=Publish\\nquickStart=Quick Start Video\\nrack=Rack\\nradialTree=Radial Tree\\nreadOnly=Read-only\\nreconnecting=Reconnecting\\nrecentlyUpdated=Recently Updated\\nrecentlyViewed=Recently Viewed\\nrectangle=Rectangle\\nredirectToNewApp=This file was created or modified in a newer version of this app. You will be redirected now.\\nrealtimeTimeout=It looks like you\\'ve made a few changes while offline. We\\'re sorry, these changes cannot be saved.\\nredo=Redo\\nrefresh=Refresh\\nregularExpression=Regular Expression\\nrelative=Relative\\nrelativeUrlNotAllowed=Relative URL not allowed\\nrememberMe=Remember me\\nrememberThisSetting=Remember this setting\\nremoveFormat=Clear Formatting\\nremoveFromGroup=Remove from Group\\nremoveIt=Remove {1}\\nremoveWaypoint=Remove Waypoint\\nrename=Rename\\nrenamed=Renamed\\nrenameIt=Rename {1}\\nrenaming=Renaming\\nreplace=Replace\\nreplaceIt={1} already exists. Do you want to replace it?\\nreplaceExistingDrawing=Replace existing drawing\\nrequired=required\\nreset=Reset\\nresetView=Reset View\\nresize=Resize\\nresizeLargeImages=Do you want to resize large images to make the application run faster?\\nretina=Retina\\nresponsive=Responsive\\nrestore=Restore\\nrestoring=Restoring\\nretryingIn=Retrying in {1} second(s)\\nretryingLoad=Load failed. Retrying...\\nretryingLogin=Login time out. Retrying...\\nreverse=Reverse\\nrevision=Revision\\nrevisionHistory=Revision History\\nrhombus=Rhombus\\nright=Right\\nrightAlign=Right Align\\nrightToLeft=Right to left\\nrotate=Rotate\\nrotateTooltip=Click and drag to rotate, click to turn shape only by 90 degrees\\nrotation=Rotation\\nrounded=Rounded\\nsave=Save\\nsaveAndExit=Save & Exit\\nsaveAs=Save as\\nsaveAsXmlFile=Save as XML file?\\nsaved=Saved\\nsaveDiagramFirst=Please save the diagram first\\nsaveDiagramsTo=Save diagrams to\\nsaveLibrary403=Insufficient permissions to edit this library\\nsaveLibrary500=There was an error while saving the library\\nsaveLibraryReadOnly=Could not save library while read-only mode is active\\nsaving=Saving\\nscratchpad=Scratchpad\\nscrollbars=Scrollbars\\nsearch=Search\\nsearchShapes=Search Shapes\\nselectAll=Select All\\nselectionOnly=Selection Only\\nselectCard=Select Card\\nselectEdges=Select Edges\\nselectFile=Select File\\nselectFolder=Select Folder\\nselectFont=Select Font\\nselectNone=Select None\\nselectTemplate=Select Template\\nselectVertices=Select Vertices\\nsendMessage=Send\\nsendYourFeedback=Send your feedback\\nserviceUnavailableOrBlocked=Service unavailable or blocked\\nsessionExpired=Your session has expired. Please refresh the browser window.\\nsessionTimeoutOnSave=Your session has timed out and you have been disconnected from the Google Drive. Press OK to login and save. \\nsetAsDefaultStyle=Set as Default Style\\nshadow=Shadow\\nshape=Shape\\nshapes=Shapes\\nshare=Share\\nshareLink=Link for shared editing\\nsharingAvailable=Sharing available for Google Drive and OneDrive files.\\nsharp=Sharp\\nshow=Show\\nshowStartScreen=Show Start Screen\\nsidebarTooltip=Click to expand. Drag and drop shapes into the diagram. Shift+click to change selection. Alt+click to insert and connect.\\nsigns=Signs\\nsignOut=Sign out\\nsimple=Simple\\nsimpleArrow=Simple Arrow\\nsimpleViewer=Simple Viewer\\nsize=Size\\nsketch=Sketch\\nsolid=Solid\\nsourceSpacing=Source Spacing\\nsouth=South\\nsoftware=Software\\nspace=Space\\nspacing=Spacing\\nspecialLink=Special Link\\nstandard=Standard\\nstartDrawing=Start drawing\\nstopDrawing=Stop drawing\\nstarting=Starting\\nstraight=Straight\\nstrikethrough=Strikethrough\\nstrokeColor=Line Color\\nstyle=Style\\nsubscript=Subscript\\nsummary=Summary\\nsuperscript=Superscript\\nsupport=Support\\nswimlaneDiagram=Swimlane Diagram\\nsysml=SysML\\ntags=Tags\\ntable=Table\\ntables=Tables\\ntakeOver=Take Over\\ntargetSpacing=Target Spacing\\ntemplate=Template\\ntemplates=Templates\\ntext=Text\\ntextAlignment=Text Alignment\\ntextOpacity=Text Opacity\\ntheme=Theme\\ntimeout=Timeout\\ntitle=Title\\nto=to\\ntoBack=To Back\\ntoFront=To Front\\ntooLargeUseDownload=Too large, use download instead.\\ntoolbar=Toolbar\\ntooltips=Tooltips\\ntop=Top\\ntopAlign=Top Align\\ntopLeft=Top Left\\ntopRight=Top Right\\ntransparent=Transparent\\ntransparentBackground=Transparent Background\\ntrello=Trello\\ntryAgain=Try again\\ntryOpeningViaThisPage=Try opening via this page\\nturn=Rotate shape only by 90\\u00B0\\ntype=Type\\ntwitter=Twitter\\numl=UML\\nunderline=Underline\\nundo=Undo\\nungroup=Ungroup\\nunsavedChanges=Unsaved changes\\nunsavedChangesClickHereToSave=Unsaved changes. Click here to save.\\nuntitled=Untitled\\nuntitledDiagram=Untitled Diagram\\nuntitledLayer=Untitled Layer\\nuntitledLibrary=Untitled Library\\nunknownError=Unknown error\\nupdateFile=Update {1}\\nupdatingDocument=Updating Document. Please wait...\\nupdatingPreview=Updating Preview. Please wait...\\nupdatingSelection=Updating Selection. Please wait...\\nupload=Upload\\nurl=URL\\nuseOffline=Use Offline\\nuseRootFolder=Use root folder?\\nuserManual=User Manual\\nvertical=Vertical\\nverticalFlow=Vertical Flow\\nverticalTree=Vertical Tree\\nview=View\\nviewerSettings=Viewer Settings\\nviewUrl=Link to view: {1}\\nvoiceAssistant=Voice Assistant (beta)\\nwarning=Warning\\nwaypoints=Waypoints\\nwest=West\\nwidth=Width\\nwiki=Wiki\\nwordWrap=Word Wrap\\nwritingDirection=Writing Direction\\nyes=Yes\\nyourEmailAddress=Your email address\\nzoom=Zoom\\nzoomIn=Zoom In\\nzoomOut=Zoom Out\\nbasic=Basic\\nbusinessprocess=Business Processes\\ncharts=Charts\\nengineering=Engineering\\nflowcharts=Flowcharts\\ngmdl=Material Design\\nmindmaps=Mindmaps\\nmockups=Mockups\\nnetworkdiagrams=Network Diagrams\\nnothingIsSelected=Nothing is selected\\nother=Other\\nsoftwaredesign=Software Design\\nvenndiagrams=Venn Diagrams\\nwebEmailOrOther=Web, email or any other internet address\\nwebLink=Web Link\\nwireframes=Wireframes\\nproperty=Property\\nvalue=Value\\nshowMore=Show More\\nshowLess=Show Less\\nmyDiagrams=My Diagrams\\nallDiagrams=All Diagrams\\nrecentlyUsed=Recently used\\nlistView=List view\\ngridView=Grid view\\nresultsFor=Results for \\'{1}\\'\\noneDriveCharsNotAllowed=The following characters are not allowed: ~ \\\" # %  * : < > ? / \\\\ { | }\\noneDriveInvalidDeviceName=The specified device name is invalid\\nofficeNotLoggedOD=You are not logged in to OneDrive. Please open draw.io task pane and login first.\\nofficeSelectSingleDiag=Please select a single draw.io diagram only without other contents.\\nofficeSelectDiag=Please select a draw.io diagram.\\nofficeCannotFindDiagram=Cannot find a draw.io diagram in the selection\\nnoDiagrams=No diagrams found\\nauthFailed=Authentication failed\\nofficeFailedAuthMsg=Unable to successfully authenticate user or authorize application.\\nconvertingDiagramFailed=Converting diagram failed\\nofficeCopyImgErrMsg=Due to some limitations in the host application, the image could not be inserted. Please manually copy the image then paste it to the document.\\ninsertingImageFailed=Inserting image failed\\nofficeCopyImgInst=Instructions: Right-click the image below. Select \\\"Copy image\\\" from the context menu. Then, in the document, right-click and select \\\"Paste\\\" from the context menu.\\nfolderEmpty=Folder is empty\\nrecent=Recent\\nsharedWithMe=Shared With Me\\nsharepointSites=Sharepoint Sites\\nerrorFetchingFolder=Error fetching folder items\\nerrorAuthOD=Error authenticating to OneDrive\\nofficeMainHeader=Adds draw.io diagrams to your document.\\nofficeStepsHeader=This add-in performs the following steps:\\nofficeStep1=Connects to Microsoft OneDrive, Google Drive or your device.\\nofficeStep2=Select a draw.io diagram.\\nofficeStep3=Insert the diagram into the document.\\nofficeAuthPopupInfo=Please complete the authentication in the pop-up window.\\nofficeSelDiag=Select draw.io Diagram:\\nfiles=Files\\nshared=Shared\\nsharepoint=Sharepoint\\nofficeManualUpdateInst=Instructions: Copy draw.io diagram from the document. Then, in the box below, right-click and select \\\"Paste\\\" from the context menu.\\nofficeClickToEdit=Click icon to start editing:\\npasteDiagram=Paste draw.io diagram here\\nconnectOD=Connect to OneDrive\\nselectChildren=Select Children\\nselectSiblings=Select Siblings\\nselectParent=Select Parent\\nselectDescendants=Select Descendants\\nlastSaved=Last saved {1} ago\\nresolve=Resolve\\nreopen=Re-open\\nshowResolved=Show Resolved\\nreply=Reply\\nobjectNotFound=Object not found\\nreOpened=Re-opened\\nmarkedAsResolved=Marked as resolved\\nnoCommentsFound=No comments found\\ncomments=Comments\\ntimeAgo={1} ago\\nconfluenceCloud=Confluence Cloud\\nlibraries=Libraries\\nconfAnchor=Confluence Page Anchor\\nconfTimeout=The connection has timed out\\nconfSrvTakeTooLong=The server at {1} is taking too long to respond.\\nconfCannotInsertNew=Cannot insert draw.io diagram to a new Confluence page\\nconfSaveTry=Please save the page and try again.\\nconfCannotGetID=Unable to determine page ID\\nconfContactAdmin=Please contact your Confluence administrator.\\nreadErr=Read Error\\neditingErr=Editing Error\\nconfExtEditNotPossible=This diagram cannot be edited externally. Please try editing it while editing the page\\nconfEditedExt=Diagram/Page edited externally\\ndiagNotFound=Diagram Not Found\\nconfEditedExtRefresh=Diagram/Page is edited externally. Please refresh the page.\\nconfCannotEditDraftDelOrExt=Cannot edit diagrams in a draft page, diagram is deleted from the page, or diagram is edited externally. Please check the page.\\nretBack=Return back\\nconfDiagNotPublished=The diagram does not belong to a published page\\ncreatedByDraw=Created by draw.io\\nfilenameShort=Filename too short\\ninvalidChars=Invalid characters\\nalreadyExst={1} already exists\\ndraftReadErr=Draft Read Error\\ndiagCantLoad=Diagram cannot be loaded\\ndraftWriteErr=Draft Write Error\\ndraftCantCreate=Draft could not be created\\nconfDuplName=Duplicate diagram name detected. Please pick another name.\\nconfSessionExpired=Looks like your session expired. Log in again to keep working.\\nlogin=Login\\ndrawPrev=draw.io preview\\ndrawDiag=draw.io diagram\\ninvalidCallFnNotFound=Invalid Call: {1} not found\\ninvalidCallErrOccured=Invalid Call: An error occurred, {1}\\nanonymous=Anonymous\\nconfGotoPage=Go to containing page\\nshowComments=Show Comments\\nconfError=Error: {1}\\ngliffyImport=Gliffy Import\\ngliffyImportInst1=Click the \\\"Start Import\\\" button to import all Gliffy diagrams to draw.io.\\ngliffyImportInst2=Please note that the import procedure will take some time and the browser window must remain open until the import is completed.\\nstartImport=Start Import\\ndrawConfig=draw.io Configuration\\ncustomLib=Custom Libraries\\ncustomTemp=Custom Templates\\npageIdsExp=Page IDs Export\\ndrawReindex=draw.io re-indexing (beta)\\nworking=Working\\ndrawConfigNotFoundInst=draw.io Configuration Space (DRAWIOCONFIG) does not exist. This space is needed to store draw.io configuration files and custom libraries/templates.\\ncreateConfSp=Create Config Space\\nunexpErrRefresh=Unexpected error, please refresh the page and try again.\\nconfigJSONInst=Write draw.io JSON configuration in the editor below then click save. If you need help, please refer to\\nthisPage=this page\\ncurCustLib=Current Custom Libraries\\nlibName=Library Name\\naction=Action\\ndrawConfID=draw.io Config ID\\naddLibInst=Click the \\\"Add Library\\\" button to upload a new library.\\naddLib=Add Library\\ncustomTempInst1=Custom templates are draw.io diagrams saved in children pages of\\ncustomTempInst2=For more details, please refer to\\ntempsPage=Templates page\\npageIdsExpInst1=Select export target, then click the \\\"Start Export\\\" button to export all pages IDs.\\npageIdsExpInst2=Please note that the export procedure will take some time and the browser window must remain open until the export is completed.\\nstartExp=Start Export\\nrefreshDrawIndex=Refresh draw.io Diagrams Index\\nreindexInst1=Click the \\\"Start Indexing\\\" button to refresh draw.io diagrams index.\\nreindexInst2=Please note that the indexing procedure will take some time and the browser window must remain open until the indexing is completed.\\nstartIndexing=Start Indexing\\nconfAPageFoundFetch=Page \\\"{1}\\\" found. Fetching\\nconfAAllDiagDone=All {1} diagrams processed. Process finished.\\nconfAStartedProcessing=Started processing page \\\"{1}\\\"\\nconfAAllDiagInPageDone=All {1} diagrams in page \\\"{2}\\\" processed successfully.\\nconfAPartialDiagDone={1} out of {2} {3} diagrams in page \\\"{4}\\\" processed successfully.\\nconfAUpdatePageFailed=Updating page \\\"{1}\\\" failed.\\nconfANoDiagFoundInPage=No {1} diagrams found in page \\\"{2}\\\".\\nconfAFetchPageFailed=Fetching the page failed.\\nconfANoDiagFound=No {1} diagrams found. Process finished.\\nconfASearchFailed=Searching for {1} diagrams failed. Please try again later.\\nconfAGliffyDiagFound={2} diagram \\\"{1}\\\" found. Importing\\nconfAGliffyDiagImported={2} diagram \\\"{1}\\\" imported successfully.\\nconfASavingImpGliffyFailed=Saving imported {2} diagram \\\"{1}\\\" failed.\\nconfAImportedFromByDraw=Imported from \\\"{1}\\\" by draw.io\\nconfAImportGliffyFailed=Importing {2} diagram \\\"{1}\\\" failed.\\nconfAFetchGliffyFailed=Fetching {2} diagram \\\"{1}\\\" failed.\\nconfACheckBrokenDiagLnk=Checking for broken diagrams links.\\nconfADelDiagLinkOf=Deleting diagram link of \\\"{1}\\\"\\nconfADupLnk=(duplicate link)\\nconfADelDiagLnkFailed=Deleting diagram link of \\\"{1}\\\" failed.\\nconfAUnexpErrProcessPage=Unexpected error during processing the page with id: {1}\\nconfADiagFoundIndex=Diagram \\\"{1}\\\" found. Indexing\\nconfADiagIndexSucc=Diagram \\\"{1}\\\" indexed successfully.\\nconfAIndexDiagFailed=Indexing diagram \\\"{1}\\\" failed.\\nconfASkipDiagOtherPage=Skipped \\\"{1}\\\" as it belongs to another page!\\nconfADiagUptoDate=Diagram \\\"{1}\\\" is up to date.\\nconfACheckPagesWDraw=Checking pages having draw.io diagrams.\\nconfAErrOccured=An error occurred!\\nsavedSucc=Saved successfully\\nconfASaveFailedErr=Saving Failed (Unexpected Error)\\ncharacter=Character\\nconfAConfPageDesc=This page contains draw.io configuration file (configuration.json) as attachment\\nconfALibPageDesc=This page contains draw.io custom libraries as attachments\\nconfATempPageDesc=This page contains draw.io custom templates as attachments\\nworking=Working\\nconfAConfSpaceDesc=This space is used to store draw.io configuration files and custom libraries/templates\\nconfANoCustLib=No Custom Libraries\\ndelFailed=Delete failed!\\nshowID=Show ID\\nconfAIncorrectLibFileType=Incorrect file type. Libraries should be XML files.\\nuploading=Uploading\\nconfALibExist=This library already exists\\nconfAUploadSucc=Uploaded successfully\\nconfAUploadFailErr=Upload Failed (Unexpected Error)\\nhiResPreview=High Res Preview\\nofficeNotLoggedGD=You are not logged in to Google Drive. Please open draw.io task pane and login first.\\nofficePopupInfo=Please complete the process in the pop-up window.\\npickODFile=Pick OneDrive File\\npickGDriveFile=Pick Google Drive File\\npickDeviceFile=Pick Device File\\nvsdNoConfig=\\\"vsdurl\\\" is not configured\\nruler=Ruler\\nunits=Units\\npoints=Points\\ninches=Inches\\nmillimeters=Millimeters\\nconfEditDraftDelOrExt=This diagram is in a draft page, is deleted from the page, or is edited externally. It will be saved as a new attachment version and may not be reflected in the page.\\nconfDiagEditedExt=Diagram is edited in another session. It will be saved as a new attachment version but the page will show other session\\'s modifications.\\nmacroNotFound=Macro Not Found\\nconfAInvalidPageIdsFormat=Incorrect Page IDs file format\\nconfACollectingCurPages=Collecting current pages\\nconfABuildingPagesMap=Building pages mapping\\nconfAProcessDrawDiag=Started processing imported draw.io diagrams\\nconfAProcessDrawDiagDone=Finished processing imported draw.io diagrams\\nconfAProcessImpPages=Started processing imported pages\\nconfAErrPrcsDiagInPage=Error processing draw.io diagrams in page \\\"{1}\\\"\\nconfAPrcsDiagInPage=Processing draw.io diagrams in page \\\"{1}\\\"\\nconfAImpDiagram=Importing diagram \\\"{1}\\\"\\nconfAImpDiagramFailed=Importing diagram \\\"{1}\\\" failed. Cannot find its new page ID. Maybe it points to a page that is not imported. \\nconfAImpDiagramError=Error importing diagram \\\"{1}\\\". Cannot fetch or save the diagram. Cannot fix this diagram links.\\nconfAUpdateDgrmCCFailed=Updating link to diagram \\\"{1}\\\" failed.\\nconfImpDiagramSuccess=Updating diagram \\\"{1}\\\" done successfully.\\nconfANoLnksInDrgm=No links to update in: {1}\\nconfAUpdateLnkToPg=Updated link to page: \\\"{1}\\\" in diagram: \\\"{2}\\\"\\nconfAUpdateLBLnkToPg=Updated lightbox link to page: \\\"{1}\\\" in diagram: \\\"{2}\\\"\\nconfAUpdateLnkBase=Updated base URL from: \\\"{1}\\\" to: \\\"{2}\\\" in diagram: \\\"{3}\\\"\\nconfAPageIdsImpDone=Page IDs Import finished\\nconfAPrcsMacrosInPage=Processing draw.io macros in page \\\"{1}\\\"\\nconfAErrFetchPage=Error fetching page \\\"{1}\\\"\\nconfAFixingMacro=Fixing macro of diagram \\\"{1}\\\"\\nconfAErrReadingExpFile=Error reading export file\\nconfAPrcsDiagInPageDone=Processing draw.io diagrams in page \\\"{1}\\\" finished\\nconfAFixingMacroSkipped=Fixing macro of diagram \\\"{1}\\\" failed. Cannot find its new page ID. Maybe it points to a page that is not imported. \\npageIdsExpTrg=Export target\\nconfALucidDiagImgImported={2} diagram \\\"{1}\\\" image extracted successfully\\nconfASavingLucidDiagImgFailed=Extracting {2} diagram \\\"{1}\\\" image failed\\nconfGetInfoFailed=Fetching file info from {1} failed.\\nconfCheckCacheFailed=Cannot get cached file info.\\nconfReadFileErr=Cannot read \\\"{1}\\\" file from {2}.\\nconfSaveCacheFailed=Unexpected error. Cannot save cached file\\norgChartType=Org Chart Type\\nlinear=Linear\\nhanger2=Hanger 2\\nhanger4=Hanger 4\\nfishbone1=Fishbone 1\\nfishbone2=Fishbone 2\\n1ColumnLeft=Single Column Left\\n1ColumnRight=Single Column Right\\nsmart=Smart\\nparentChildSpacing=Parent Child Spacing\\nsiblingSpacing=Sibling Spacing\\nconfNoPermErr=Sorry, you don\\'t have enough permissions to view this embedded diagram from page {1}\\ncopyAsImage=Copy as Image\\nlucidImport=Lucidchart Import\\nlucidImportInst1=Click the \\\"Start Import\\\" button to import all Lucidchart diagrams.\\ninstallFirst=Please install {1} first\\ndrawioChromeExt=draw.io Chrome Extension\\nloginFirstThen=Please login to {1} first, then {2}\\nerrFetchDocList=Error: Couldn\\'t fetch documents list\\nbuiltinPlugins=Built-in Plugins\\nextPlugins=External Plugins\\nbackupFound=Backup file found\\nchromeOnly=This feature only works in Google Chrome\\nmsgDeleted=This message has been deleted\\nconfAErrFetchDrawList=Error fetching diagrams list. Some diagrams are skipped.\\nconfAErrCheckDrawDiag=Cannot check diagram {1}\\nconfAErrFetchPageList=Error fetching pages list\\nconfADiagImportIncom={1} diagram \\\"{2}\\\" is imported partially and may have missing shapes\\ninvalidSel=Invalid selection\\ndiagNameEmptyErr=Diagram name cannot be empty\\nopenDiagram=Open Diagram\\nnewDiagram=New diagram\\neditable=Editable\\nconfAReimportStarted=Re-import {1} diagrams started...\\nspaceFilter=Filter by spaces\\ncurViewState=Current Viewer State\\npageLayers=Page and Layers\\ncustomize=Customize\\nfirstPage=First Page (All Layers)\\ncurEditorState=Current Editor State\\nnoAnchorsFound=No anchors found \\nattachment=Attachment\\ncurDiagram=Current Diagram\\nrecentDiags=Recent Diagrams\\ncsvImport=CSV Import\\nchooseFile=Choose a file...\\nchoose=Choose\\ngdriveFname=Google Drive filename\\nwidthOfViewer=Width of the viewer (px)\\nheightOfViewer=Height of the viewer (px)\\nautoSetViewerSize=Automatically set the size of the viewer\\nthumbnail=Thumbnail\\nprevInDraw=Preview in draw.io\\nonedriveFname=OneDrive filename\\ndiagFname=Diagram filename\\ndiagUrl=Diagram URL\\nshowDiag=Show Diagram\\ndiagPreview=Diagram Preview\\ncsvFileUrl=CSV File URL\\ngenerate=Generate\\nselectDiag2Insert=Please select a diagram to insert it.\\nerrShowingDiag=Unexpected error. Cannot show diagram\\nnoRecentDiags=No recent diagrams found\\nfetchingRecentFailed=Failed to fetch recent diagrams\\nuseSrch2FindDiags=Use the search box to find draw.io diagrams\\ncantReadChckPerms=Cannot read the specified diagram. Please check you have read permission on that file.\\ncantFetchChckPerms=Cannot fetch diagram info. Please check you have read permission on that file.\\nsearchFailed=Searching failed. Please try again later.\\nplsTypeStr=Please type a search string.\\nunsupportedFileChckUrl=Unsupported file. Please check the specified URL\\ndiagNotFoundChckUrl=Diagram not found or cannot be accessed. Please check the specified URL\\ncsvNotFoundChckUrl=CSV file not found or cannot be accessed. Please check the specified URL\\ncantReadUpload=Cannot read the uploaded diagram\\nselect=Select\\nerrCantGetIdType=Unexpected Error: Cannot get content id or type.\\nerrGAuthWinBlocked=Error: Google Authentication window blocked\\nauthDrawAccess=Authorize draw.io to access {1}\\nconnTimeout=The connection has timed out\\nerrAuthSrvc=Error authenticating to {1}\\nplsSelectFile=Please select a file\\nmustBgtZ={1} must be greater than zero\\ncantLoadPrev=Cannot load file preview.\\nerrAccessFile=Error: Access Denied. You do not have permission to access \\\"{1}\\\".\\nnoPrevAvail=No preview is available.\\npersonalAccNotSup=Personal accounts are not supported.\\nerrSavingTryLater=Error occured during saving, please try again later.\\nplsEnterFld=Please enter {1}\\ninvalidDiagUrl=Invalid Diagram URL\\nunsupportedVsdx=Unsupported vsdx file\\nunsupportedImg=Unsupported image file\\nunsupportedFormat=Unsupported file format\\nplsSelectSingleFile=Please select a single file only\\nattCorrupt=Attachment file \\\"\\'{1}\\\" is corrupted\\nloadAttFailed=Failed to load attachment \\\"{1}\\\"\\nembedDrawDiag=Embed draw.io Diagram\\naddDiagram=Add Diagram\\nembedDiagram=Embed Diagram\\neditOwningPg=Edit owning page\\ndeepIndexing=Deep Indexing (Index diagrams that aren\\'t used in any page also)\\nconfADeepIndexStarted=Deep Indexing Started\\nconfADeepIndexDone=Deep Indexing Done\\nofficeNoDiagramsSelected=No diagrams found in the selection\\nofficeNoDiagramsInDoc=No diagrams found in the document\\nofficeNotSupported=This feature is not supported in this host application\\nsomeImagesFailed={1} out of {2} failed due to the following errors\\nimportingNoUsedDiagrams=Importing {1} Diagrams not used in pages\\nimportingDrafts=Importing {1} Diagrams in drafts\\nprocessingDrafts=Processing drafts\\nupdatingDrafts=Updating drafts\\nupdateDrafts=Update drafts\\nnotifications=Notifications\\ndrawioImp=draw.io Import\\nconfALibsImp=Importing draw.io Libraries\\nconfALibsImpFailed=Importing {1} library failed\\ncontributors=Contributors\\ndrawDiagrams=draw.io Diagrams\\nerrFileNotFoundOrNoPer=Error: Access Denied. File not found or you do not have permission to access \\\"{1}\\\" on {2}.\\nconfACheckPagesWEmbed=Checking pages having embedded draw.io diagrams.\\nconfADelBrokenEmbedDiagLnk=Removing broken embedded diagram links\\nreplaceWith=Replace with\\nreplaceAll=Replace All\\nconfASkipDiagModified=Skipped \\\"{1}\\\" as it was modified after initial import\\nreplFind=Replace/Find\\nmatchesRepl={1} matches replaced';\nvar spinImage = 'data:image/gif;base64,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';\nvar exportCss = '* {-webkit-font-smoothing: antialiased; } h1, h2, h3, h4, table, tr, td, th, tbody { border:0; margin:0; padding:0; font-size:14px; }' +\n    'table, tr, td, th, tbody { text-align:left; font-weight:400 } table { border-collapse:collapse; border-spacing:0; white-space:inherit; line-height:inherit; }';\nvar rootRecord = null;\nvar defaultHeight = 550;\nvar blankHeight = 420;\nvar defaultMaxZoom = 1;\nvar viewerConfig = null;\nvar fullscreen = false;\nvar previousParent = null;\nvar padding = 18;\nvar locked = false;\nvar border = 0;\nvar container = null;\nvar preview = null;\nvar graph = null;\nvar dlg = null;\nvar ui = null;\nvar minZIndex = 301;\nvar sessionId = guid();\nvar revCounter = 0;\nvar deleteData = false;\nvar ignoreFocus = false;\nvar initialPageId = null;\nvar snapshotObj = null;\nvar ignoreEscape = false;\nvar hidingPreview = false;\nvar sidebarWindowVisible = false;\nvar formatWindowVisible = false;\nvar outlineWindowVisible = false;\nvar layersWindowVisible = false;\nvar tagsWindowVisible = false;\nvar findWindowVisible = false;\nvar findReplaceWindowVisible = false;\nvar pageVisible = false;\nvar gridVisible = false;\n\n//Restores default CSS\n(function()\n{\n    try\n    {\n       var style = document.createElement('style')\n       style.type = 'text/css';\n       style.innerHTML = '.geDiagramContainer a, #preview a { color: #0000ff; text-decoration: underline; cursor: pointer; }' +\n           '.geTemplate td { text-align:center;}' +\n           '#preview svg { outline: none;}, html body .geDialog * { font-size:12px; }' +\n           'html body .mxWindow button.geBtn { font-size:12px !important; margin-left: 0; }' +\n           'html body #graph button, html body button.geBtn { font-size:14px; font-weight:700;border-radius: 5px;display: inline-block; }' +\n           '.geDialog input, .geToolbarContainer input, .mxWindow input {padding:2px !important;display:inline-block !important; }' +\n           '.geDialog img, .mxWindow img { vertical-align: initial !important; }' +\n           'div.geDialog { border-radius: 5px; }' +\n       \t   'html body table.mxWindow td.mxWindowPane div.mxWindowPane *:not(svg *) { font-size:9pt; }' +\n           '.mxWindow button, .geDialog select, .mxWindow select { display:inline-block; }' +\n           'html body .mxWindow .geColorBtn, html body .geDialog .geColorBtn { background: none; }' +\n           'html body #graph button, html body .mxWindow button, html body .geDialog button { min-width: 0px; border-radius: 5px; color: #353535 !important; border-style: solid; border-width: 1px; border-color: rgb(216, 216, 216); }' +\n           'html body #graph button:hover, html body .mxWindow button:hover, html body .geDialog button:hover { border-color: rgb(177, 177, 177); }' +\n           'html body #graph button:active, html body .mxWindow button:active, html body .geDialog button:active { opacity: 0.6; }' +\n           '#graph button.geBtn, .mxWindow button.geBtn, .geDialog button.geBtn { min-width:72px; font-weight: 700; background: none; }' +\n           '#graph button.geBtn:hover, .mxWindow button.geBtn:hover, .geDialog button.geBtn:hover { box-shadow: none; border-color: rgb(216, 216, 216); }' +\n           '#graph button.gePrimaryBtn, .mxWindow button.gePrimaryBtn, .geDialog button.gePrimaryBtn, html body .gePrimaryBtn { background: rgb(41, 182, 242); color: #fff !important; border: none; box-shadow: none; }' +\n           'html body .gePrimaryBtn:hover { background: rgb(41, 182, 242); border: none; box-shadow: inherit; }' +\n           'html body button.gePrimaryBtn:hover { background: rgb(41, 182, 242); border: none; }' +\n           '.geBtn button { min-width:72px !important; }' +\n           'div.geToolbarContainer a.geButton { margin:2px; padding: 0 2px 4px 2px; } ' +\n           '.geDialog, .mxWindow td.mxWindowPane *, div.geSprite, td.mxWindowTitle, .geDiagramContainer { box-sizing:content-box; }' +\n           '.mxWindow div button.geStyleButton { box-sizing: border-box; }' +\n           'html body #graph img { box-sizing: content-box; }' +\n           'table.mxWindow td.mxWindowPane button.geColorBtn { padding:0px; box-sizing: border-box; }' +\n           'td.mxWindowPane .geSidebarContainer button { padding:2px 0 2px 0; box-sizing: border-box; }' +\n           // Fixes image path\n           'html body .mxCellEditor { background: url(data:image/gif;base64,R0lGODlhMAAwAIAAAP///wAAACH5BAEAAAAALAAAAAAwADAAAAIxhI+py+0Po5y02ouz3rz7D4biSJbmiabqyrbuC8fyTNf2jef6zvf+DwwKh8Si8egpAAA7) }' +\n           // Make geItem look like a button\n           '.geMenuItem { font-weight: 700; padding: 4px 10px; border: none; border-radius: 5px; color: #353535; box-shadow: inset 0 0 0 1px rgba(0,0,0,.11), inset 0 -1px 0 0 rgba(0,0,0,.08), 0 1px 2px 0 rgba(0,0,0,.04); }' +\n           'a.geMenuItem:active { color: rgba(53, 53, 53, 0.35); }' +\n           // CSS from index.html that overrides grapheditor\n           '.geSidebarContainer .geTitle { color:#505050; } .geSidebarContainer .geTitle input {font-size:8pt;color:#606060;   }    .geBlock {z-index:-3;margin:100px; margin-top:40px; margin-bottom:30px;padding:20px;    }  ' +\n           '.geBlock h1, .geBlock h2 {margin-top:0px;padding-top:0px;    }    .geEditor ::-webkit-scrollbar {width:12px;height:12px;    }    .geEditor ::-webkit-scrollbar-track { background:whiteSmoke;-webkit-box-shadow:inset 0 0 4px rgba(0,0,0,0.1);    }' +\n           '.geEditor ::-webkit-scrollbar-thumb { background:#c5c5c5; border-radius:10px; border:whiteSmoke solid 3px;   }  .geEditor ::-webkit-scrollbar-thumb:hover { background:#b5b5b5;}  .geTemplate {   border:1px solid transparent;   display:inline-block;   _display:inline;    vertical-align:top; border-radius:3px;  overflow:hidden; font-size:14pt; cursor:pointer; margin:5px;}' +\n           // Styling for Quip\n           '.geToolbarContainer { background:#fff !important; }' +\n           'div.mxWindow .geSidebarContainer .geTitle { background-color:#fff; }' +\n           'div.mxWindow .geSidebarContainer { background-color: #fff !important; }' +\n           'div.geSidebar { background-color: #fff !important;}' +\n           'div.mxWindow td.mxWindowPane button { background-image: none; float: none; }' +\n           'td.mxWindowTitle { height: 22px !important; background: none !important; font-size: 13px !important; text-align:center !important; border-bottom:1px solid lightgray; }' +\n           'div.mxWindow, div.mxWindowTitle { background-image: none !important; background-color:#fff !important; }' +\n           'div.mxWindow { border-radius:5px; box-shadow: 0px 0px 2px #C0C0C0 !important;}' +\n           'div.mxWindow > img { padding: 4px !important;}' +\n           'div.mxWindow * { font-family: inherit !important; }' +\n           'html body td.mxWindowTitle { padding-right: 14px; }' +\n           'html td.mxWindowTitle div img { padding: 8px 4px; }' +\n           'html td.mxWindowTitle div { top: 0px !important; }' +\n           'html body .geHint a { color: #29b6f2; }' +\n           // Quip Style UI\n           'html div.geVerticalHandle { position:absolute;bottom:0px;left:50%;cursor:row-resize;width:11px;height:11px;background:white;margin-bottom:-6px; margin-left:-6px; border: none; border-radius: 6px; box-shadow: inset 0 0 0 1px rgba(0,0,0,.11), inset 0 -1px 0 0 rgba(0,0,0,.08), 0 1px 2px 0 rgba(0,0,0,.04); }' +\n           'html div.geInactivePage { background: rgb(249, 249, 249) !important; color:lightgray !important; } ' +\n           'html div.geActivePage { background: white !important;color: #353535 !important; } ' +\n           'html div.mxRubberband { border:1px solid; border-color: rgba(41,182,242,1) !important; background:rgba(41,182,242,0.4) !important; } ' +\n           'html body div.mxPopupMenu { border-radius:5px; border:1px solid #c0c0c0; padding:5px 0 5px 0; box-shadow: 0px 4px 17px -4px rgba(96,96,96,1); background:#fff; } ' +\n           'html table.mxPopupMenu td.mxPopupMenuItem { color: #353535; font-size: 14px; padding-top: 4px; padding-bottom: 4px; -webkit-font-smoothing: antialiased; font-family: \"Salesforce Sans Web\",sans-serif,\"Quip Glyphs\"; }' +\n           'html table.mxPopupMenu tr.mxPopupMenuItemHover { background-color: #29b6f2; }' +\n           'html tr.mxPopupMenuItemHover td.mxPopupMenuItem, html tr.mxPopupMenuItemHover td.mxPopupMenuItem span { color: #fff !important; }' +\n           'html tr.mxPopupMenuItem, html td.mxPopupMenuItem { transition-property: none !important; }' +\n           'html table.mxPopupMenu hr { height: 2px; background-color: rgba(0,0,0,.07); margin: 5px 0; }';\n       document.getElementsByTagName('head')[0].appendChild(style);\n    }\n    catch (e)\n    {\n       // ignore\n    }\n})();\n\nvar tempParams = (function(url)\n{\n    var result = new Object();\n    var idx = url.lastIndexOf('?');\n\n    if (idx > 0)\n    {\n        var params = url.substring(idx + 1).split('&');\n        \n        for (var i = 0; i < params.length; i++)\n        {\n            idx = params[i].indexOf('=');\n            \n            if (idx > 0)\n            {\n                result[params[i].substring(0, idx)] = params[i].substring(idx + 1);\n            }\n        }\n    }\n    \n    return result;\n})(window.location.href);\n\nwindow.urlParams = {toolbar: '0', nav: '1', mode: 'device' /* cookie bypass */};\nwindow.mxBasePath = '//' + domain + '/mxgraph/';\nwindow.mxLoadSettings = false;\nwindow.mxLoadStylesheets = false;\nwindow.mxLanguage = tempParams['language_code'] || 'en';\nwindow.SAVE_URL = '//' + domain + '/save';\nwindow.OPEN_URL = '//' + domain + '/open';\nwindow.PROXY_URL = '//' + domain + '/proxy';\nwindow.RESOURCES_PATH = '//' + domain + '/resources';\nwindow.RESOURCE_BASE = window.RESOURCE_BASE || RESOURCES_PATH + '/dia';\nwindow.SHAPES_PATH = '//' + domain + '/shapes';\nwindow.ICONSEARCH_PATH = '//' + domain + '/iconSearch';\nwindow.STENCIL_PATH = '//' + domain + '/stencils';\nwindow.TEMPLATE_PATH = '//' + domain + '/templates';\nwindow.IMAGE_PATH = '//' + domain + '/images';\nwindow.STYLE_PATH = '//' + domain + '/styles';\nwindow.CSS_PATH = '//' + domain + '/styles';\nwindow.OPEN_FORM = '//' + domain + '/open.html';\nwindow.GRAPH_IMAGE_PATH = 'https://www.draw.io/img';\nwindow.DRAW_MATH_URL = 'https://math.draw.io/math';\n\nif (window.mxLanguage.indexOf('_') > 0)\n{\n    window.mxLanguage = window.mxLanguage.substring(0, window.mxLanguage.indexOf('_'));\n}\n\nvar mxscript = function(src, onLoad)\n{\n  var s = document.createElement('script');\n  s.setAttribute('type', 'text/javascript');\n  s.setAttribute('src', src);\n  var r = false;\n  \n  if (onLoad != null)\n  {\n      s.onload = s.onreadystatechange = function()\n      {\n          if (!r && (!this.readyState || this.readyState == 'complete'))\n          {\n              r = true;\n              onLoad();\n          }\n      };\n  }\n  \n  document.body.appendChild(s);\n};\n\nwindow.mxscript = mxscript;\n\nvar revsListener = function(evt)\n{\n    if (ui != null && ui.session != null)\n    {\n        // Handles \"merge\" operation from advanced\n        // dialog and multiple selected templates\n        var entry = getData();\n        \n        if (entry != null && entry.data != null && ui.session.revisionId != entry.id)\n        {\n            debug('revision changed', entry);\n\n            ui.session.ignoreNotify = true;\n            ui.setFileData(entry.data);\n            ui.session.revisionId = entry.id;\n            ui.editor.undoManager.clear();\n            ui.session.ignoreNotify = false;\n                \n            // Keeps only first template\n            var revs = rootRecord.get('revisions');\n            \n            if (revs != null)\n            {\n                while (revs.count() > 1)\n                {\n                    revs.get(1).delete();\n                }\n            }\n            \n            ui.session.reset();\n        }\n    }\n    else\n    {\n        initSession();\n    }\n};\n\nvar rootRecordListener = function(evt)\n{\n    if (preview != null)\n    {\n        var tempConfig = rootRecord.get(\"config\");\n\n        if (tempConfig != null && tempConfig.length > 0 && tempConfig != JSON.stringify(viewerConfig))\n        {\n            viewerConfig = JSON.parse(tempConfig);\n            hidePreview();\n        }\n    }\n    else if (ui != null)\n    {\n        // Keeps scratchpad in sync\n        if (ui.scratchpad != null)\n        {\n            ui.getLocalData('.scratchpad', function(tmp)\n            {\n                if (tmp != null && tmp != ui.scratchpad.getData())\n                {\n                    ui.loadLibrary(new StorageLibrary(ui, tmp, '.scratchpad'));\n                }\n            });\n        }\n        \n        ui.reloadFromRecord();\n    }\n};\n\nvar editsListener = function(evt)\n{\n    if (preview != null)\n    {\n        if (snapshotObj != null && snapshotObj.edits != rootRecord.get(\"edits\").count())\n        {\n            hidePreview();\n        }\n    }\n};\n\nvar onlineListener = function()\n{\n    if (ui == null)\n    {\n        return;\n    }\n    \n    updateActions();\n};\n\nvar focusListener = function()\n{\n    if (preview != null)\n    {\n        if (!ignoreFocus)\n        {\n            hidePreview();\n        }\n        else\n        {\n            quip.apps.enableResizing({maintainAspectRatio: true, minWidth: 100, minHeight: 100});\n        }\n        \n        return;\n    }\n    else if (ui == null || (ui != null && ui.session == null && dlg == null))\n    {\n        return;\n    }\n    \n    if (ui.vHandle != null)\n    {\n        ui.vHandle.style.display = (dlg == null) ? '' : 'none';\n    }\n    \n    if (ui.sidebarWindow != null && sidebarWindowVisible)\n    {\n        ui.sidebarWindow.window.setVisible(sidebarWindowVisible);\n        ui.sidebarWindow.window.fit();\n    }\n    \n    if (ui.formatWindow != null && formatWindowVisible)\n    {\n        ui.formatWindow.window.setVisible(formatWindowVisible);\n        ui.formatWindow.window.fit();\n    }\n\n    if (ui.actions.outlineWindow != null && outlineWindowVisible)\n    {\n        ui.actions.outlineWindow.window.setVisible(outlineWindowVisible);\n        ui.actions.outlineWindow.window.fit();\n    }\n\n    if (ui.actions.layersWindow != null && layersWindowVisible)\n    {\n        ui.actions.layersWindow.window.setVisible(layersWindowVisible);\n        ui.actions.layersWindow.window.fit();\n    }\n\n    if (ui.menus.tagsWindow != null && tagsWindowVisible)\n    {\n        ui.menus.tagsWindow.window.setVisible(tagsWindowVisible);\n        ui.menus.tagsWindow.window.fit();\n    }\n\n    if (ui.menus.findWindow != null && findWindowVisible)\n    {\n        ui.menus.findWindow.window.setVisible(findWindowVisible);\n        ui.menus.findWindow.window.fit();\n    }\n\n    if (ui.menus.findReplaceWindow != null && findReplaceWindowVisible)\n    {\n        ui.menus.findReplaceWindow.window.setVisible(findReplaceWindowVisible);\n        ui.menus.findReplaceWindow.window.fit();\n    }\n\n    if (gridVisible)\n    {\n        ui.actions.get('grid').funct();\n    }\n\n    updateBorder();\n    \n    if (pageVisible)\n    {\n        ui.actions.get('pageView').funct();\n    }\n};\n\nvar blurListener = function()\n{\n    if (ui == null || (ui != null && ui.session == null && dlg == null))\n    {\n        return;\n    }\n    \n    if (fullscreen)\n    {\n        setFullscreen(false);\n    }\n    \n    // Workaround for focus of container\n    var prev = graph.cellEditor.focusContainer;\n    graph.cellEditor.focusContainer = function() {};\n    ui.editor.graph.stopEditing(false);\n    graph.cellEditor.focusContainer = prev;\n\n    if (ui.menus.findWindow != null)\n    {\n        findWindowVisible = ui.menus.findWindow.window.isVisible();\n        ui.menus.findWindow.window.setVisible(false);\n    }\n    else\n    {\n        findWindowVisible = false;\n    }\n\n    if (ui.menus.findReplaceWindow != null)\n    {\n        findReplaceWindowVisible = ui.menus.findReplaceWindow.window.isVisible();\n        ui.menus.findReplaceWindow.window.setVisible(false);\n    }\n    else\n    {\n        findReplaceWindowVisible = false;\n    }\n\n    if (ui.menus.tagsWindow != null)\n    {\n        tagsWindowVisible = ui.menus.tagsWindow.window.isVisible();\n        ui.menus.tagsWindow.window.setVisible(false);\n    }\n    else\n    {\n        tagsWindowVisible = false;\n    }\n    \n    if (ui.actions.layersWindow != null)\n    {\n        layersWindowVisible = ui.actions.layersWindow.window.isVisible();\n        ui.actions.layersWindow.window.setVisible(false);\n    }\n    else\n    {\n        layersWindowVisible = false;\n    }\n    \n    if (ui.actions.outlineWindow != null)\n    {\n        outlineWindowVisible = ui.actions.outlineWindow.window.isVisible();\n        ui.actions.outlineWindow.window.setVisible(false);\n    }\n    else\n    {\n        outlineWindowVisible = false;\n    }\n\n    if (ui.formatWindow != null)\n    {\n        formatWindowVisible = ui.formatWindow.window.isVisible();\n        ui.formatWindow.window.setVisible(false);\n    }\n    else\n    {\n        formatWindowVisible = false;\n    }\n\n    if (ui.sidebarWindow != null)\n    {\n        sidebarWindowVisible = ui.sidebarWindow.window.isVisible();\n        ui.sidebarWindow.window.setVisible(false);\n    }\n    else\n    {\n        sidebarWindowVisible = false;\n    }\n    \n    graph.popupMenuHandler.hideMenu();\n    graph.clearSelection();\n    ui.hideDialog();\n    updateBorder();\n    \n    pageVisible = graph.pageVisible;\n\n    if (pageVisible)\n    {\n        ui.actions.get('pageView').funct();\n    }\n\n    gridVisible = graph.isGridEnabled();\n    \n    if (gridVisible)\n    {\n        ui.actions.get('grid').funct();\n    }\n    \n    if (ui.vHandle != null)\n    {\n        ui.vHandle.style.display = 'none';\n    }\n    \n    ui.reloadFromRecord(true);\n    \n    if (!viewerConfig.noPreview)\n    {\n        updateSnapshot();\n    }\n};\n\nvar sizeListener = function()\n{\n    if (ui == null)\n    {\n        return;\n    }\n\n    clearSelection();\n    fitDiagram();\n};\n\nvar mouseLeaveListener = function()\n{\n    if (graph != null)\n    {\n        graph.connectionHandler.reset();\n    }\n    \n    if (ui != null)\n    {\n        ui.hoverIcons.reset();\n    }\n};\n\nvar unloadHandler = function()\n{\n    if (ui != null)\n    {\n        ui.destroy();\n        graph = null;\n        ui = null;\n    }\n    \n    if (rootRecord != null)\n    {\n        if (rootRecordListener != null)\n        {\n            rootRecord.unlisten(rootRecordListener);\n            rootRecordListener = null;\n        }\n        \n        var edits = rootRecord.get(\"edits\");\n        \n        if (edits != null && editsListener != null)\n        {\n            edits.unlisten(editsListener);\n            editsListener = null;\n        }\n        \n        var revs = rootRecord.get(\"revisions\");\n        \n        if (revs != null && revsListener != null)\n        {\n            revs.unlisten(revsListener);\n            revsListener = null;\n        }\n        \n        rootRecord = null;\n    }\n    \n    if (container != null)\n    {\n        container.parentNode.removeChild(container);\n        container = null;\n    }\n\n    if (mouseLeaveListener != null)\n    {\n        document.body.removeEventListener('mouseleave', mouseLeaveListener);\n        mouseLeaveListener = null;\n    }\n    \n    document.body.onselectstart = null;\n};\n\nvar beforeUnloadHandler = function()\n{\n    if (quip.apps != null)\n    {\n      if (blurListener != null)\n      {\n          quip.apps.removeEventListener(quip.apps.EventType.ELEMENT_BLUR, blurListener);\n          blurListener = null;\n      }\n      \n      if (onlineListener != null)\n      {\n          quip.apps.removeEventListener(quip.apps.EventType.ONLINE_STATUS_CHANGED, onlineListener);\n          onlineListener = null;\n      }\n      \n      if (sizeListener != null)\n      {\n          quip.apps.removeEventListener(quip.apps.EventType.CONTAINER_SIZE_UPDATE, sizeListener);\n          sizeListener = null;\n      }\n      \n      if (focusListener != null)\n      {\n          quip.apps.removeEventListener(quip.apps.EventType.ELEMENT_FOCUS, focusListener);\n          focusListener = null;\n      }\n    }\n};\n\nquip.apps.addEventListener(quip.apps.EventType.ELEMENT_BLUR, blurListener);\nquip.apps.addEventListener(quip.apps.EventType.ONLINE_STATUS_CHANGED, onlineListener);\nquip.apps.addEventListener(quip.apps.EventType.CONTAINER_SIZE_UPDATE, sizeListener);\nquip.apps.addEventListener(quip.apps.EventType.ELEMENT_FOCUS, focusListener);\ndocument.body.addEventListener('mouseleave', mouseLeaveListener);\nwindow.addEventListener('beforeunload', beforeUnloadHandler);\nwindow.addEventListener('unload', unloadHandler);\n\n//Fixes text selection during resize\ndocument.body.onselectstart = function(evt)\n{\n    if (evt == null)\n    {\n        evt = window.event;\n    }\n    \n    // Checks for mxWindow event source\n    var target = evt.target;\n    \n    while (target != null)\n    {\n        if (target.className == 'mxWindow')\n        {\n            return true;\n        }\n        \n        target = target.parentNode;\n    }\n    \n    return ui != null && graph != null && (ui.dialog != null || ui.isSelectionAllowed(evt) || graph.isEditing());\n};\n\nfunction debug()\n{\n    if (debugOutput)\n    {\n        console.log.apply(console, arguments);\n    }\n};\n\nfunction guid()\n{\n  function s4()\n  {\n    return Math.floor((1 + Math.random()) * 0x10000)\n      .toString(16)\n      .substring(1);\n  }\n  \n  return s4() + s4() + s4() + s4();\n};\n\nfunction clearSelection()\n{\n    if (window.getSelection)\n    {\n        if (window.getSelection().empty)\n        {  // Chrome\n            window.getSelection().empty();\n        }\n        else if (window.getSelection().removeAllRanges)\n        {  // Firefox\n            window.getSelection().removeAllRanges();\n        }\n     }\n     else if (document.selection)\n     {  // IE?\n        document.selection.empty();\n     }\n};\n\nfunction hidePreview(afterOnLoad)\n{\n    if (!hidingPreview)\n    {\n        hidingPreview = true;\n        quip.apps.enableResizing({maintainAspectRatio: true, minWidth: 100, minHeight: 100});\n        \n        var img = document.createElement('img');\n        img.style.cssText = 'position:absolute;left:0;top:0;width:12px;height:12px;z-index:1;';\n        img.setAttribute('src', spinImage);\n        preview.appendChild(img);\n\n        // Workaround for async loading of JS resources in production\n        if (window.EditorUi == null)\n        {\n            var prev = window.mxIntegrateCallback;\n            \n            window.mxIntegrateCallback = function()\n            {\n                if (prev != null)\n                {\n                    prev();\n                }\n    \n                createViewer(true, null, onload);\n            };\n        }\n        else\n        {\n            createViewer(true, null, onload);\n        }\n    }\n};\n\nfunction isDocumentEditable()\n{\n    return quip.apps.isDocumentEditable() && !locked && !isReadOnlyMode();\n};\n\nfunction isDocumentTemplate()\n{\n    return quip.apps.isExplorerTemplate != null && quip.apps.isExplorerTemplate();  \n};\n\nfunction saveDocument()\n{\n    setData(ui.getFileData(null, null, null, null, null, null, null, true));\n    updateBorder();\n};\n\nfunction setFullscreen(value, noFade)\n{\n    graph.popupMenuHandler.hideMenu();\n    \n    if (!fullscreen && value)\n    {\n        fullscreen = value;\n\n        if (ui.vHandle != null)\n        {\n            ui.vHandle.style.display = 'none';\n        }\n  \n        var menubar = document.createElement('div');\n        menubar.style.cssText = 'position:absolute;left:0px;right:0px;top:0px;height:44px;padding:' +\n            (((mxClient.IS_GC && mxClient.IS_MAC) || mxClient.IS_SF) ? 3 : 7) +\n            'px;border-bottom:1px solid lightgray;background-color:#ffffff;text-align:center;';\n        \n        var menuObj = new Menubar(ui, menubar);\n        \n        function addMenu(id, small)\n        {\n            var menu = ui.menus.get(id);\n            \n            var elt = menuObj.addMenu(mxResources.get(id), mxUtils.bind(this, function()\n            {\n                // Allows extensions of menu.functid\n                menu.funct.apply(this, arguments);\n            }));\n            \n            elt.className = 'geMenuItem';\n            elt.style.position = 'relative';\n            elt.style.fontWeight = 'normal';\n            elt.style.top = '6px';\n            elt.style.marginRight = '6px';\n            elt.style.height = '30px';\n            elt.style.paddingTop = '6px';\n            elt.style.paddingBottom = '6px';\n            ui.menus.menuCreated(menu, elt);\n            \n            if (!small)\n            {\n                elt.innerHTML += '<img style=\"margin-left:2px;margin-top:-2px;\" height=\"10\" src=\"' + mxWindow.prototype.normalizeImage + '\"/>';\n            }\n                        \n            return elt;\n        };\n        \n        function addMenuItem(label, fn, small, tooltip, action, defaultOpacity)\n        {\n            var btn = document.createElement('a');\n            btn.setAttribute('href', 'javascript:void(0)');\n            mxUtils.write(btn, label);\n            btn.className = 'geMenuItem';\n            btn.style.position = 'relative';\n            btn.style.fontWeight = 'normal';\n            btn.style.top = '6px';\n            btn.style.height = '30px';\n            btn.style.paddingTop = '6px';\n            btn.style.paddingBottom = '6px';\n            menubar.appendChild(btn);\n            \n            mxEvent.addListener(btn, 'click', function(evt)\n            {\n                fn();\n                mxEvent.consume(evt);\n            });\n            \n            if (small != null)\n            {\n                btn.style.minWidth = '30px';\n                btn.style.marginRight = '-1px';\n            }\n            else\n            {\n                btn.style.marginRight = '5px';\n            }\n            \n            if (tooltip != null)\n            {\n                btn.setAttribute('title', tooltip);\n            }\n            \n            if (action != null)\n            {\n                defaultOpacity = (defaultOpacity != null) ? defaultOpacity : 1;\n                btn.style.opacity = defaultOpacity;\n                \n                function updateState()\n                {\n                    if (action.isEnabled())\n                    {\n                        btn.removeAttribute('disabled');\n                        btn.style.opacity = defaultOpacity;\n                    }\n                    else\n                    {\n                        btn.setAttribute('disabled', 'disabled');\n                        btn.style.opacity = defaultOpacity - 0.5;\n                    }\n                };\n                \n                action.addListener('stateChanged', updateState);\n                updateState();\n            }\n\n            return btn;\n        };\n        \n        function createGroup(btns)\n        {\n            var btnGroup = document.createElement('span');\n            btnGroup.className = 'geMenuItem';\n            btnGroup.style.display = 'inline-block';\n            btnGroup.style.marginRight = '6px';\n            btnGroup.style.padding = '0px';\n            btnGroup.style.height = '30px';\n            \n            for (var i = 0; i < btns.length; i++)\n            {\n                btns[i].style.margin = '0px';\n                btns[i].style.boxShadow = 'none';\n                btnGroup.appendChild(btns[i]);    \n            }\n\n            menubar.appendChild(btnGroup);\n            \n            return btnGroup;\n        };\n        \n        addMenu('diagram');\n\n        if (isDocumentEditable())\n        {\n            createGroup([addMenuItem(mxResources.get('shapes'), toggleShapes),\n                         addMenuItem(mxResources.get('format'), toggleFormat)]);\n            createGroup([addMenu('insert', true), addMenuItem(mxResources.get('delete'), doDelete)]);\n            var btns = [addMenuItem('', ui.actions.get('undo').funct, null, null, ui.actions.get('undo'), 0.7),\n                        addMenuItem('', ui.actions.get('redo').funct, null, null, ui.actions.get('redo'), 0.7)];\n            \n            btns[0].innerHTML = '<img height=\"20\" style=\"margin-top:-2px;\" src=\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNMTIuNSA4Yy0yLjY1IDAtNS4wNS45OS02LjkgMi42TDIgN3Y5aDlsLTMuNjItMy42MmMxLjM5LTEuMTYgMy4xNi0xLjg4IDUuMTItMS44OCAzLjU0IDAgNi41NSAyLjMxIDcuNiA1LjVsMi4zNy0uNzhDMjEuMDggMTEuMDMgMTcuMTUgOCAxMi41IDh6Ii8+PC9zdmc+\"/>';\n            btns[1].innerHTML = '<img height=\"20\" style=\"margin-top:-2px;\" src=\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNMTguNCAxMC42QzE2LjU1IDguOTkgMTQuMTUgOCAxMS41IDhjLTQuNjUgMC04LjU4IDMuMDMtOS45NiA3LjIyTDMuOSAxNmMxLjA1LTMuMTkgNC4wNS01LjUgNy42LTUuNSAxLjk1IDAgMy43My43MiA1LjEyIDEuODhMMTMgMTZoOVY3bC0zLjYgMy42eiIvPjwvc3ZnPg==\"/>';\n\n            createGroup(btns);\n        }\n        \n        var btns = [addMenuItem(mxResources.get('fit'), function()\n        {\n            graph.popupMenuHandler.hideMenu();\n            var scale = graph.view.scale;\n            var tx = graph.view.translate.x;\n            var ty = graph.view.translate.y;\n            \n            fitDiagram(true, true);\n            \n            // Toggle scale if nothing has changed\n            if (Math.abs(scale - graph.view.scale) < 0.00001 && tx == graph.view.translate.x && ty == graph.view.translate.y)\n            {\n                graph.fit(60, null, null, null, null, true);\n                ui.chromelessResize(null, null, null, null, true);\n            }\n        }, true),\n        addMenuItem('', ui.actions.get('zoomIn').funct, true, mxResources.get('zoomIn')),\n        addMenuItem('', ui.actions.get('zoomOut').funct, true, mxResources.get('zoomOut'))];\n\n        btns[0].innerHTML = '<img height=\"20\" style=\"opacity:0.7;margin-top:-2px;\" src=\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNMyA1djRoMlY1aDRWM0g1Yy0xLjEgMC0yIC45LTIgMnptMiAxMEgzdjRjMCAxLjEuOSAyIDIgMmg0di0ySDV2LTR6bTE0IDRoLTR2Mmg0YzEuMSAwIDItLjkgMi0ydi00aC0ydjR6bTAtMTZoLTR2Mmg0djRoMlY1YzAtMS4xLS45LTItMi0yeiIvPjwvc3ZnPg==\"/>';\n        btns[1].innerHTML = '<img height=\"20\" style=\"opacity:0.7;margin-top:-2px;\" src=\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNMTUuNSAxNGgtLjc5bC0uMjgtLjI3QzE1LjQxIDEyLjU5IDE2IDExLjExIDE2IDkuNSAxNiA1LjkxIDEzLjA5IDMgOS41IDNTMyA1LjkxIDMgOS41IDUuOTEgMTYgOS41IDE2YzEuNjEgMCAzLjA5LS41OSA0LjIzLTEuNTdsLjI3LjI4di43OWw1IDQuOTlMMjAuNDkgMTlsLTQuOTktNXptLTYgMEM3LjAxIDE0IDUgMTEuOTkgNSA5LjVTNy4wMSA1IDkuNSA1IDE0IDcuMDEgMTQgOS41IDExLjk5IDE0IDkuNSAxNHptMi41LTRoLTJ2Mkg5di0ySDdWOWgyVjdoMXYyaDJ2MXoiLz48L3N2Zz4=\"/>';\n        btns[2].innerHTML = '<img height=\"20\" style=\"opacity:0.7;margin-top:-2px;\" src=\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNMTUuNSAxNGgtLjc5bC0uMjgtLjI3QzE1LjQxIDEyLjU5IDE2IDExLjExIDE2IDkuNSAxNiA1LjkxIDEzLjA5IDMgOS41IDNTMyA1LjkxIDMgOS41IDUuOTEgMTYgOS41IDE2YzEuNjEgMCAzLjA5LS41OSA0LjIzLTEuNTdsLjI3LjI4di43OWw1IDQuOTlMMjAuNDkgMTlsLTQuOTktNXptLTYgMEM3LjAxIDE0IDUgMTEuOTkgNSA5LjVTNy4wMSA1IDkuNSA1IDE0IDcuMDEgMTQgOS41IDExLjk5IDE0IDkuNSAxNHpNNyA5aDV2MUg3eiIvPjwvc3ZnPg==\"/>';\n        \n        createGroup(btns);\n        \n        if (!isReadOnlyMode())\n        {\n            var btn = addMenuItem((locked) ? '' :\n                // Newline required for code formatter to show unicode symbol\n                '', ui.actions.get('lockApp').funct);\n            btn.style.paddingRight = '4px';\n            btn.style.minWidth = '';\n        }\n\n        var btn = addMenuItem(mxResources.get('done'), function()\n        {\n            setFullscreen(false);\n        });\n        \n        btn.className += ' gePrimaryBtn';\n        btn.style.fontWeight = '';\n        \n        quip.apps.showBackdrop(function()\n        {\n            setFullscreen(false);\n        });\n\n        // Workaround for too large diagram problem in fullscreen\n        quip.apps.setWidthAndAspectRatio(1, 0);\n\n        ui.tabContainer = document.createElement('div');\n        ui.tabContainer.setAttribute('id', 'theTabContainer');\n        ui.tabContainer.style.cssText = 'position:absolute;left:0px;right:0px;bottom:0px;height:' + ui.tabContainerHeight + 'px;' +\n            'background:#fff;border-top:1px solid lightgray;margin-left:-2px;';\n        \n        previousParent = container.parentNode;\n        container.style.height = '';\n        container.style.minWidth = '100%';\n        container.style.minHeight = '100%';\n\n        var dim = quip.apps.getViewportDimensions();\n        var rect = quip.apps.getBoundingClientRect();\n        var wrapper = document.createElement('div');\n        wrapper.style.cssText = 'position:absolute;top:' + (-rect.top) + 'px;left:' + (-rect.left) + 'px;overflow:hidden;' +\n        \t'height:' + dim.height + 'px;width:' + dim.width + 'px;padding-top:44px;border-top:1px solid lightgray;padding-bottom:' +\n            ui.tabContainerHeight + 'px;z-index:' + minZIndex;\n        \n        wrapper.appendChild(ui.tabContainer);\n        wrapper.appendChild(menubar);\n        wrapper.appendChild(container);\n        previousParent.appendChild(wrapper);\n\n        quip.apps.disableResizing();\n        ui.updateTabContainer();\n        fitDiagram(true);\n        updateBorder();\n        \n        // Workaround for no resize event for viewport\n        function checkSize()\n        {\n            var dim = quip.apps.getViewportDimensions();\n            var rect = quip.apps.getBoundingClientRect();\n            \n            wrapper.style.top = (-rect.top) + 'px';\n            wrapper.style.left = (-rect.left) + 'px';\n            wrapper.style.width = dim.width + 'px';\n            wrapper.style.height = dim.height + 'px';\n        };\n        \n        mxEvent.addListener(wrapper, 'mouseenter', checkSize);\n        mxEvent.addListener(wrapper, 'click', checkSize);\n        \n        // Checks for escape keystroke when menubar is focused\n        mxEvent.addListener(menubar, 'keydown', function(evt)\n        {\n            if (evt.keyCode == 27)\n            {\n                setFullscreen(false);\n            }\n        });\n    }\n    else if (fullscreen && !value)\n    {\n        fullscreen = value;\n        quip.apps.dismissBackdrop();\n      \n        container.style.minWidth = '';\n        container.style.minHeight = '';\n\n        if (ui.vHandle != null && dlg == null)\n        {\n            ui.vHandle.style.display = '';\n        }\n        \n        var wrapper = container.parentNode;\n        wrapper.parentNode.removeChild(wrapper);\n        previousParent.appendChild(container);\n        \n        quip.apps.enableResizing({maintainAspectRatio: true, minWidth: 100, minHeight: 100});\n        fitDiagram(true);\n        updateBorder();\n    }\n    \n    // Resets existing viewstates\n    if (ui.pages != null)\n    {\n        for (var i = 0; i < ui.pages.length; i++)\n        {\n            ui.pages[i].viewState = null;\n        }\n    }\n\n    // Fade in\n    if (!noFade)\n    {\n        container.style.opacity = '0';\n        \n        window.setTimeout(function()\n        {\n            mxUtils.setPrefixedStyle(container.style, 'transition', 'all 0.3s linear');\n            container.style.opacity = '1';\n            \n            window.setTimeout(function()\n            {\n                mxUtils.setPrefixedStyle(container.style, 'transition', null);\n            }, 300);\n        }, 30);\n    }\n    else\n    {\n        container.style.opacity = '';\n    }\n};\n\nvar lastWidth = 0;\nvar theThread = null;\n\nfunction fitDiagram(force, immediate)\n{\n    if (ui == null)\n    {\n        return;\n    }\n    \n    var w = quip.apps.getContainerWidth();\n\n    if (dlg != null)\n    {\n        quip.apps.setWidthAndAspectRatio(w, defaultHeight / w);\n    }\n    else if (ui.isDiagramEmpty() && !graph.pageVisible)\n    {\n        graph.view.scaleAndTranslate((viewerConfig.fixedZoom) ? viewerConfig.maxZoom : 1, 20, 20);\n        \n        if (!fullscreen)\n        {\n            quip.apps.setWidthAndAspectRatio(w, blankHeight / w);\n            container.style.height = blankHeight + 'px';\n            graph.container.style.overflow = 'hidden';\n        }\n    }\n    else\n    {\n        if (theThread != null)\n        {\n            window.clearTimeout(theThread);\n        }\n        \n        var fn = function()\n        {\n            if (ui == null)\n            {\n                return;\n            }\n            \n            if (ui.isDiagramEmpty() && !graph.pageVisible)\n            {\n                graph.view.scaleAndTranslate((viewerConfig.fixedZoom) ? viewerConfig.maxZoom : 1, 20, 20);\n                \n                if (!fullscreen)\n                {\n                    quip.apps.setWidthAndAspectRatio(w, blankHeight / w);\n                    container.style.height = blankHeight + 'px';\n                    graph.container.style.overflow = 'hidden';\n                }\n            }\n            else\n            {\n                if (!fullscreen && viewerConfig.fixedZoom)\n                {\n                    graph.zoomTo(viewerConfig.maxZoom);\n                }\n                else\n                {\n                    if (force || w != lastWidth)\n                    {\n                        lastWidth = w;\n        \n                        if (graph.pageVisible)\n                        {\n                            var fullscreenPadding = 40;\n                            var cw = (fullscreen) ? container.clientWidth - fullscreenPadding : quip.apps.getContainerWidth() - 2 * padding;\n                            var pb = graph.view.getBackgroundPageBounds();\n                            var scale = cw / (pb.width / graph.view.scale);\n                            \n                            if (fullscreen)\n                            {\n                                scale = Math.min(scale, (container.clientHeight - fullscreenPadding) / (pb.height / graph.view.scale));\n                            }\n                            \n                            graph.zoomTo(scale);\n                        }\n                        else\n                        {\n                            ui.lightboxFit();\n                        }\n                    }\n                }\n    \n                // Adjust height of container\n                if (!fullscreen)\n                {\n                    var bounds2 = (graph.pageVisible) ? graph.view.getBackgroundPageBounds() : graph.getGraphBounds();\n                    var h = Math.max(50, Math.ceil(bounds2.height + Math.max(2, 2 * Math.max(1, padding + 2) - 2)));\n                    quip.apps.setWidthAndAspectRatio(w, h / w);\n                    container.style.height = h + 'px';\n                }\n    \n                graph.container.style.overflow = (!isDocumentEditable() || quip.apps.isMobile() || \n                        (!fullscreen && viewerConfig.fixedZoom)) ? 'auto' : 'hidden';\n                ui.chromelessResize();\n            }\n        };\n        \n        if (immediate)\n        {\n            fn();\n        }\n        else\n        {\n            theThread = window.setTimeout(fn, 30);\n        }\n    }\n};\n\nfunction updateContainerSize()\n{\n    if (ui.isDiagramEmpty())\n    {\n        fitDiagram(true);\n    }\n    else if (!fullscreen)\n    {\n        // Increases height for added content\n        var bounds = quip.apps.getCurrentDimensions();\n        var bounds2 = (graph.pageVisible) ? graph.view.getBackgroundPageBounds() : graph.getGraphBounds();\n        var h = Math.max(50, Math.ceil(bounds2.height + bounds2.y + padding + 2));\n        \n        if (bounds.height < h)\n        {\n            // KNWON: If scrollbars are added this triggers fitDiagram asynchonously\n            quip.apps.setWidthAndAspectRatio(bounds.width, h / bounds.width);\n            container.style.height = h + 'px';\n        }\n    }\n};\n\nfunction setData(data)\n{\n    var user = quip.apps.getViewingUser();\n    var entry = {\"id\": sessionId + '-' + (revCounter++), \"timestamp\": new Date().getTime(),\n        \"username\": user.getName(), \"userid\": user.getId(), \"data\": data};\n\n    if (!isDocumentTemplate())\n    {\n        rootRecord.get(\"revisions\").add({data: JSON.stringify(entry)});\n        debug('revision added', entry.id);\n        \n        // Clears old file format\n        if (deleteData)\n        {\n            rootRecord.clear(\"data\");\n            deleteData = false;\n        }\n    }\n    \n    return entry;\n};\n\n// CheckLast is used to load the last revision if it has a lastEdit property\nfunction getData(checkLast)\n{\n    var revs = rootRecord.get(\"revisions\");\n    \n    if (revs != null && revs.count() > 0)\n    {\n        if (revs.length > 1 && checkLast)\n        {\n            var temp = revs.get(revs.count() - 1).get(\"data\");\n            \n            if (temp != null && temp.length > 0)\n            {\n                var entry = JSON.parse(temp);\n                \n                if (entry.lastEdit != null && entry.lastEdit != '')\n                {\n                    return entry;\n                }\n            }\n        }\n        \n        var temp = revs.get(0).get(\"data\");\n        \n        if (temp != null && temp.length > 0)\n        {\n            var entry = JSON.parse(temp);\n            \n            return entry;\n        }\n    }\n    else\n    {\n        // Reads old file format\n        var temp = rootRecord.get(\"data\");\n        \n        if (temp != null && temp.length > 0)\n        {\n            var entry = JSON.parse(temp);\n            deleteData = true;\n            \n            return entry;\n        }\n    }\n    \n    return null;\n};\n\nfunction setConfig(maxZoom, brd, fixedZoom, padd, noPreview)\n{\n    viewerConfig.maxZoom = Math.max(0.1, maxZoom);\n    viewerConfig.border = Math.max(0, brd);\n    viewerConfig.padding = Math.max(0, parseInt(padd));\n    viewerConfig.locked = (viewerConfig.locked != null) ? viewerConfig.locked : false;\n    viewerConfig.noPreview = noPreview;\n    viewerConfig.fixedZoom = fixedZoom;\n    \n    ui.initialConfig = JSON.stringify(viewerConfig);\n    \n    if (!isDocumentTemplate())\n    {\n        rootRecord.set(\"config\", ui.initialConfig);\n    }\n    \n    border = viewerConfig.border;\n    padding = viewerConfig.padding;\n    fitDiagram(true);\n\n    if (!viewerConfig.noPreview)\n    {\n        updateSnapshot();\n    }\n    else if (rootRecord.get(\"snapshot\") != null)\n    {\n        debug('clear snapshot', rootRecord.getId());\n        rootRecord.clear('snapshot');\n    }\n};\n\nfunction showConfigureDialog()\n{\n    var div = document.createElement('div');\n    div.style.textAlign = 'center';\n    div.style.whiteSpace = 'nowrap';\n    \n    var tempConfig = rootRecord.get(\"config\");\n    var config = {};\n    \n    if (tempConfig != null && tempConfig.length > 0)\n    {\n        config = JSON.parse(tempConfig);\n    }\n    \n    mxUtils.write(div, mxResources.get('zoom') + ':');\n    var zoomInput = document.createElement('input');\n    zoomInput.setAttribute('type', 'text');\n    zoomInput.style.marginRight = '16px';\n    zoomInput.style.width = '70px';\n    zoomInput.style.marginLeft = '10px';\n    zoomInput.style.marginRight = '12px';\n    zoomInput.style.marginBottom = '8px';\n    zoomInput.value = ((config.maxZoom != null) ? config.maxZoom : defaultMaxZoom) * 100 + '%';\n    div.appendChild(zoomInput);\n    \n    var maxRadio = document.createElement('input');\n    maxRadio.setAttribute('type', 'radio');\n    maxRadio.setAttribute('name', 'zoomType');\n    maxRadio.setAttribute('value', 'max');\n    maxRadio.style.marginRight = '4px';\n    div.appendChild(maxRadio);\n    mxUtils.write(div, 'Max');\n    \n    var fixedRadio = document.createElement('input');\n    fixedRadio.setAttribute('type', 'radio');\n    fixedRadio.setAttribute('name', 'zoomType');\n    fixedRadio.setAttribute('value', 'fixed');\n    fixedRadio.style.marginRight = '4px';\n    fixedRadio.style.marginLeft = '10px';\n    div.appendChild(fixedRadio);\n    mxUtils.write(div, 'Fixed');\n    \n    if (config.fixedZoom)\n    {\n        fixedRadio.defaultChecked = true;\n        fixedRadio.checked = true;\n    }\n    else\n    {\n        maxRadio.defaultChecked = true;\n        maxRadio.checked = true;\n    }\n    \n    mxUtils.br(div);\n    mxUtils.write(div, 'Padding:');\n    var paddingInput = document.createElement('input');\n    paddingInput.setAttribute('type', 'text');\n    paddingInput.style.marginRight = '16px';\n    paddingInput.style.width = '50px';\n    paddingInput.style.marginTop = '10px';\n    paddingInput.style.marginLeft = '10px';\n    paddingInput.style.marginRight = '12px';\n    paddingInput.value = padding;\n    div.appendChild(paddingInput);\n    \n    var borderChk = ui.addCheckbox(div, 'Border', border > 0, null, true);\n    \n    mxUtils.br(div);\n    var noPreviewChk = ui.addCheckbox(div, 'Enable caching', !viewerConfig.noPreview);\n    noPreviewChk.style.marginTop = '24px';\n    noPreviewChk.style.marginBottom = '20px';\n    \n    if (quip.apps.isViewerSiteAdmin())\n    {\n\t    var btns = document.createElement('span');\n\t    var btn = mxUtils.button(mxResources.get('advanced'), function()\n\t    {\n\t    \tfunction fn()\n\t    \t{\n\t\t\t\tui.hideDialog();\n\t        \tshowAdvancedDialog();\n\t    \t};\n\t    \t\n\t    \tif (Editor.config != null && Editor.config.password != null)\n\t    \t{\n\t    \t    var dlg = new FilenameDialog(ui, '', mxResources.get('ok'), function(value)\n\t            {\n\t            \tif (value == Editor.config.password)\n\t            \t{\n\t            \t\tfn();\n\t            \t}\n\t            \telse if (value != null)\n\t            \t{\n\t            \t\tui.alert('Access denied');\n\t            \t}\n\t            }, 'Enter password');\n\t            ui.showDialog(dlg.container, 300, 80, true, true);\n\t            dlg.init();\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tfn();\n\t\t\t}\n\t    });\n\t    btn.className = 'geBtn';\n\t    btns.appendChild(btn);\n\t}\n    \n    var btn2 = mxUtils.button(mxResources.get('help'), function()\n    {\n        quip.apps.openLink('https://desk.draw.io/support/solutions/articles/16000075766');\n    });\n    btn2.className = 'geBtn';\n    btns.appendChild(btn2);\n    \n    var info = document.createElement('div');\n    info.style.cssText = 'color:gray;text-align:center;left:0px;right:0px;font-size:11px;margin-top:2px;margin-bottom:28px;';\n    var revs = rootRecord.get(\"revisions\");\n    var bytes = 0;\n    \n    for (var i = 0; i < revs.count(); i++)\n    {\n        bytes += revs.get(i).get(\"data\").length;\n    }\n    \n    mxUtils.write(info, ((bytes == 0) ? '0 kB' : ui.formatFileSize(bytes)) + ' in ' + revs.count() + ' initial state(s), ');\n    \n    var edits = rootRecord.get(\"edits\");\n    bytes = 0;\n    \n    for (var i = 0; i < edits.count(); i++)\n    {\n        bytes += edits.get(i).get(\"data\").length;\n    }\n    \n    mxUtils.write(info, ((bytes == 0) ? '0 kB' : ui.formatFileSize(bytes)) + ' in ' + edits.count() + ' edit(s)');\n    mxUtils.br(info);\n    \n    var link = document.createElement('a');\n    link.setAttribute('href', 'javascript:void(0)');\n    link.style.cssText = 'color:rgb(41, 182, 242);font-size:11px;padding-right:8px;';\n    mxUtils.write(link, 'Compress'); //mxResources.get('reset'));\n    info.appendChild(link);\n    div.appendChild(info);\n    \n    mxEvent.addListener(link, 'click', function(evt)\n    {\n        ui.hideDialog();\n        \n        ui.confirm('Compress diagram history?', null, function()\n        {\n            ui.hideDialog();\n            compressHistory();\n        }, mxResources.get('cancel'), 'Compress'); //mxResources.get('reset'));\n        \n        mxEvent.consume(evt);\n    });\n    \n    var link = document.createElement('a');\n    link.setAttribute('href', 'javascript:void(0)');\n    link.style.cssText = 'color:rgb(41, 182, 242);font-size:11px;';\n    mxUtils.write(link, mxResources.get('export'));\n    info.appendChild(link);\n    div.appendChild(info);\n    \n    mxEvent.addListener(link, 'click', function(evt)\n    {\n        ui.hideDialog();\n        \n        function getDataObjArray(record, compressData)\n        {\n            var result = [];\n            \n            for (var i = 0; i < record.count(); i++)\n            {\n                result.push(JSON.parse(record.get(i).get(\"data\")));\n            }\n            \n            return result;\n        };\n\n        var user = quip.apps.getViewingUser();\n        var data = JSON.stringify({user: user.getId(),\n        \tdomain: document.referrer,\n            record: rootRecord.getId(),\n            timestamp: new Date().getTime(),\n            storage: rootRecord.get(\"storage\"),\n            config: rootRecord.get(\"config\"),\n            current: ui.getFileData(null, null, null, null, null, null, null, true),\n            revisions: getDataObjArray(rootRecord.get(\"revisions\")),\n            edits: Graph.compress(JSON.stringify(getDataObjArray(rootRecord.get(\"edits\"))))});\n        ui.saveLocalFile(data, 'export-' + new Date().getTime() + '.txt', 'text/plain', false, 'txt');\n        \n        mxEvent.consume(evt);\n    });\n\n    var dlg = new CustomDialog(ui, div, function()\n    {\n        setConfig(parseInt(zoomInput.value) / 100, (borderChk.checked) ? 1 : 0,\n                fixedRadio.checked, paddingInput.value, !noPreviewChk.checked);\n    }, null, mxResources.get('apply'), null, btns);\n    ui.showDialog(dlg.container, 366, 220, true, true);\n    zoomInput.focus();\n    \n    if (mxClient.IS_GC || mxClient.IS_FF || document.documentMode >= 5 || mxClient.IS_QUIRKS)\n    {\n        zoomInput.select();\n    }\n    else\n    {\n        document.execCommand('selectAll', false, null);\n    }\n};\n\nfunction showAdvancedDialog(currentConfig)\n{\n    var config = (currentConfig != null) ? currentConfig : (quip.apps.getSitePreferences().getForKey('configuration') || defaultConfig);\n    \n    var dlg = new TextareaDialog(ui, 'Site Configuration', config, function(newValue)\n    {\n        if (newValue.length > 10000)\n        {\n            ui.alert('Too large (' + newValue.length + ' of 10 kB used)', function()\n            {\n                showAdvancedDialog(newValue);\n            });\n        }\n        else\n        {\n            quip.apps.getSitePreferences().save({'configuration': newValue});\n            ui.alert(mxResources.get('restartForChangeRequired'));\n        }\n    }, null, null, 420, 220, function(td)\n    {\n        td.style.textAlign = 'right';\n        \n        var helpBtn = mxUtils.button(mxResources.get('help'), function()\n        {\n            quip.apps.openLink('https://desk.draw.io/support/solutions/articles/16000058316');\n        });\n        \n        helpBtn.className = 'geBtn';    \n        td.appendChild(helpBtn);\n        \n        var resetBtn = mxUtils.button(mxResources.get('reset'), function()\n        {\n            ui.confirm('Reset site preferences?', function()\n            {\n                quip.apps.getSitePreferences().save({'configuration': null});\n                quip.apps.getUserPreferences().save({'settings': null});\n                ui.hideDialog();\n                ui.alert(mxResources.get('restartForChangeRequired'));\n            });\n        });\n        \n        resetBtn.className = 'geBtn';    \n        td.appendChild(resetBtn);\n\n        var info = document.createElement('div');\n        info.style.cssText = 'position:absolute;bottom:20px;color:gray;text-align:center;left:0px;right:0px;font-size:10px;';\n        mxUtils.write(info, ((config.length == 0) ? '0 kB' : ui.formatFileSize(config.length)) + ' config');\n        td.appendChild(info);\n    });\n    ui.showDialog(dlg.container, 440, 300, true, true);\n    dlg.init();\n};\n\nfunction doDelete()\n{\n    if (graph.isSelectionEmpty() && ui.pages != null && ui.currentPage != null)\n    {\n        ui.hideDialog();\n        \n        ui.confirm(mxResources.get('removeIt', [mxResources.get('page')]) + '?', function()\n        {\n            ui.removePage(ui.currentPage);\n            updateActions();\n            fitDiagram();\n        });\n    }\n    else\n    {\n        ui.actions.get('delete').funct();\n    }\n};\n\nfunction toggleFormat()\n{\n    graph.popupMenuHandler.hideMenu();\n    var rect = quip.apps.getBoundingClientRect();\n    \n    if (ui.formatWindow == null)\n    {\n        ui.formatWindow = new WrapperWindow(ui, mxResources.get('format'),\n           Math.max(0, (fullscreen) ? container.clientWidth - ui.formatWidth - 27 : rect.left + container.clientWidth + 8),\n           (fullscreen) ? 7 : 0, ui.formatWidth, 546, function(container)\n        {\n            var format = ui.createFormat(container);\n            format.init();\n            \n            return format;\n        });\n        ui.formatWindow.window.addListener('show', function()\n        {\n            ui.fireEvent(new mxEventObject('format'));\n        });\n        ui.formatWindow.window.addListener('format', function()\n        {\n            ui.fireEvent(new mxEventObject('format'));\n        });\n        ui.formatWindow.window.minimumSize = new mxRectangle(0, 0, ui.formatWidth, 80);\n        ui.formatWindow.window.setVisible(true);\n        ui.formatWindow.window.fit();\n        ui.fireEvent(new mxEventObject('sidebar'));\n    }\n    else\n    {\n        ui.formatWindow.window.setVisible(!ui.formatWindow.window.isVisible());\n\n        if (ui.formatWindow.window.isVisible())\n        {\n            ui.formatWindow.window.fit();\n        }\n    }\n\n    var offset = mxUtils.getOffset(ui.container);\n    ui.formatWindow.window.div.style.top = Math.max(parseInt(ui.formatWindow.window.div.style.top),\n            offset.y - ((fullscreen) ? 0 : rect.top)) + 'px';\n};\n\nfunction toggleShapes()\n{\n    graph.popupMenuHandler.hideMenu();\n    var rect = quip.apps.getBoundingClientRect();\n\n    if (ui.sidebarWindow == null)\n    {\n        var w = (fullscreen) ? 218 : Math.max(218, Math.min(218, rect.left));\n        \n        ui.sidebarWindow = new WrapperWindow(ui, mxResources.get('shapes'),\n           (fullscreen) ? 10 : Math.max(0, rect.left - w), (fullscreen) ? 7 : 30,\n           w - 6, Math.min((fullscreen) ? graph.container.clientHeight - 20 : 640,\n           Math.max(container.clientHeight - 28, 420)),\n           function(container)\n        {\n            var div = document.createElement('div');\n            div.style.cssText = 'position:absolute;left:0px;right:0px;border-top:1px solid lightgray;' +\n                'height:30px;bottom:31px;text-align:center;cursor:pointer;padding:0px;';\n            div.className = 'geTitle';\n            var span = document.createElement('span');\n            span.style.cssText = 'position:relative;top:8px;';\n            mxUtils.write(span, mxResources.get('moreShapes') + '...');\n            div.appendChild(span);\n            container.appendChild(div);\n            \n            mxEvent.addListener(div, 'click', function()\n            {\n                ui.actions.get('shapes').funct();\n            });\n            \n            var div = document.createElement('div');\n            div.style.cssText = 'position:absolute;left:0px;width:33%;border-top:1px solid lightgray;' +\n                'height:30px;bottom:0px;text-align:center;cursor:pointer;padding:0px;';\n            div.className = 'geTitle';\n            var span = document.createElement('span');\n            span.style.cssText = 'position:relative;top:6px;';\n            mxUtils.write(span, mxResources.get('new') + '...');\n            div.appendChild(span);\n            container.appendChild(div);\n            \n            mxEvent.addListener(div, 'click', function()\n            {\n                ui.showLibraryDialog(null, null, null, null, 'device');\n            });\n\n            var div = document.createElement('div');\n            div.style.cssText = 'position:absolute;left:33%;width:33%;border-top:1px solid lightgray;' +\n                'height:30px;bottom:0px;text-align:center;cursor:pointer;padding:0px;border-left: 1px solid lightgray;';\n            div.className = 'geTitle';\n            var span = document.createElement('span');\n            span.style.cssText = 'position:relative;top:6px;';\n            mxUtils.write(span, mxResources.get('open') + '...');\n            div.appendChild(span);\n            container.appendChild(div);\n            \n            mxEvent.addListener(div, 'click', function()\n            {\n                ui.pickLibrary('device');\n            });\n            \n            var div = document.createElement('div');\n            div.style.cssText = 'position:absolute;right:0px;width:33%;border-top:1px solid lightgray;' +\n                'height:30px;bottom:0px;text-align:center;cursor:pointer;padding:0px;border-left: 1px solid lightgray;';\n            div.className = 'geTitle';\n            var span = document.createElement('span');\n            span.style.cssText = 'position:relative;top:6px;';\n            mxUtils.write(span, mxResources.get('url') + '...');\n            div.appendChild(span);\n            container.appendChild(div);\n\n            mxEvent.addListener(div, 'click', function()\n            {\n                // TODO: Store custom libraries with data in record or allow connect-src *.quip.com for shared libs\n                var dlg = new FilenameDialog(ui, '', mxResources.get('open'), function(fileUrl)\n                {\n                    if (fileUrl != null && fileUrl.length > 0 && ui.spinner.spin(document.body, mxResources.get('loading')))\n                    {\n                        var realUrl = fileUrl;\n                        \n                        if (!ui.editor.isCorsEnabledForUrl(fileUrl))\n                        {\n                            realUrl = PROXY_URL + '?url=' + encodeURIComponent(fileUrl);\n                        }\n                        \n                        // Uses proxy to avoid CORS issues\n                        mxUtils.get(realUrl, function(req)\n                        {\n                            if (req.getStatus() >= 200 && req.getStatus() <= 299)\n                            {\n                                ui.spinner.stop();\n                                \n                                try\n                                {\n                                    ui.loadLibrary(new UrlLibrary(this, req.getText(), fileUrl));\n                                }\n                                catch (e)\n                                {\n                                    ui.handleError(e, mxResources.get('errorLoadingFile'));\n                                }\n                            }\n                            else\n                            {\n                                ui.spinner.stop();\n                                ui.handleError(null, mxResources.get('errorLoadingFile'));\n                            }\n                        }, function()\n                        {\n                            ui.spinner.stop();\n                            ui.handleError(null, mxResources.get('errorLoadingFile'));\n                        });\n                    }\n                }, mxResources.get('fromUrl'));\n                ui.showDialog(dlg.container, 300, 80, true, true);\n                dlg.init();\n            });\n            \n            ui.toggleScratchpad();\n            container.appendChild(ui.sidebar.container);\n            container.style.overflow = 'hidden';\n            \n            return container;\n        });\n        ui.sidebarWindow.window.addListener('show', function()\n        {\n            ui.fireEvent(new mxEventObject('sidebar'));\n        });\n        ui.sidebarWindow.window.addListener('sidebar', function()\n        {\n            ui.fireEvent(new mxEventObject('sidebar'));\n        });\n        ui.sidebarWindow.window.minimumSize = new mxRectangle(0, 0, 90, 90);\n        ui.sidebarWindow.window.setVisible(true);\n        ui.sidebarWindow.window.fit();\n        ui.fireEvent(new mxEventObject('sidebar'));\n        \n        ui.getLocalData('sidebar', function(value)\n        {\n            ui.sidebar.showEntries(value, null, true);\n        });\n        ui.restoreLibraries();\n    }\n    else\n    {\n        ui.sidebarWindow.window.setVisible(!ui.sidebarWindow.window.isVisible());\n        \n        if (ui.sidebarWindow.window.isVisible())\n        {\n            ui.sidebarWindow.window.fit();\n        }\n    }\n    \n    var offset = mxUtils.getOffset(ui.container);\n    ui.sidebarWindow.window.div.style.top = Math.max(parseInt(ui.sidebarWindow.window.div.style.top),\n            offset.y - ((fullscreen) ? 0 : rect.top)) + 'px';\n};\n\nlet menuCommands = [\n    {\n        id: quip.apps.DocumentMenuCommands.MENU_MAIN,\n        subCommands: [\n            \"outline\",\n            \"layers\",\n            quip.apps.DocumentMenuCommands.SEPARATOR,\n            \"findReplace\",\n            \"tags\",\n            quip.apps.DocumentMenuCommands.SEPARATOR,\n            \"export\",\n            \"preferences\",\n            quip.apps.DocumentMenuCommands.SEPARATOR,\n            \"help\"\n        ]\n    },\n    {\n        id: 'help',\n        label: '=help',\n        subCommands: [\n            \"quickStart\",\n            \"keyboardShortcuts\",\n            \"support\",\n            quip.apps.DocumentMenuCommands.SEPARATOR,\n            \"about\"\n        ]\n    },\n    {\n        id: \"export\",\n        label: \"=export\",\n        subCommands: [\n            \"exportPng\",\n            \"exportJpg\",\n            \"exportSvg\",\n            quip.apps.DocumentMenuCommands.SEPARATOR,\n            \"exportPdf\",\n            \"exportVsdx\",\n            quip.apps.DocumentMenuCommands.SEPARATOR,\n            \"exportHtml\",\n            \"exportXml\",\n            \"exportUrl\",\n            quip.apps.DocumentMenuCommands.SEPARATOR,            \n            \"embed\"\n        ]\n    },\n    {\n        id: \"embed\",\n        label: \"=embed\",\n        subCommands: [\n            \"embedImage\",\n            \"embedSvg\",\n            quip.apps.DocumentMenuCommands.SEPARATOR,\n            \"embedHtml\",\n            \"embedIframe\"\n        ]\n    },\n    {\n        id: \"insert\",\n        label: \"=insert\",\n        subCommands: [\n            \"insertRectangle\",\n            \"insertEllipse\",\n            \"insertRhombus\",\n            quip.apps.DocumentMenuCommands.SEPARATOR,\n            \"insertText\",\n            \"insertPage\",\n            \"insertLink\",\n            quip.apps.DocumentMenuCommands.SEPARATOR,\n            \"importFile\",\n            \"insertImage\",\n            \"insertTemplate\",\n            quip.apps.DocumentMenuCommands.SEPARATOR,\n            \"createShape\",\n            \"insertFreehand\",\n            quip.apps.DocumentMenuCommands.SEPARATOR,\n            \"insertLayout\",\n            \"insertAdvanced\"\n        ]\n    },\n    {\n        id: \"insertAdvanced\",\n        label: \"=advanced\",\n        subCommands: [\n             \"importText\",\n             \"plantUml\",\n             \"mermaid\",\n             quip.apps.DocumentMenuCommands.SEPARATOR,\n             \"importCsv\",\n             \"formatSql\",\n             quip.apps.DocumentMenuCommands.SEPARATOR,\n             \"editDiagram\"\n        ]\n    },\n    {\n        id: \"insertLayout\",\n        label: \"Layout\",\n        subCommands: [\n            \"horizontalFlow\",\n            \"verticalFlow\",\n            quip.apps.DocumentMenuCommands.SEPARATOR,\n            \"horizontalTree\",\n            \"verticalTree\",\n            \"radialTree\",\n            quip.apps.DocumentMenuCommands.SEPARATOR,\n            \"organic\",\n            \"circle\"\n        ]\n    },\n    {\n        id: \"nextPage\",\n        label: \"\",\n        handler: () => {\n            graph.popupMenuHandler.hideMenu();\n            ui.selectNextPage(true);\n        }\n    },\n    {\n        id: \"prevPage\",\n        label: \"\",\n        handler: () => {\n            graph.popupMenuHandler.hideMenu();\n            ui.selectNextPage(false);\n        }\n    },\n    createCmd('embedImage', '=image...'),\n    createCmd('embedSvg', '=formatSvg...'),\n    createCmd('embedHtml', '=html...'),\n    createCmd('embedIframe', '=iframe...'),\n    createCmd('quickStart', '=quickStart...'),\n    createCmd('keyboardShortcuts', '=keyboardShortcuts...'),\n    createCmd('about', '=aboutDrawio...'),\n    createCmd('preferences', '=preferences...'),\n    createCmd('debug', 'Debug'),\n    createCmd('editDiagram', '=formatXml...'),\n    createCmd('exportPdf', '=formatPdf...'),\n    createCmd('exportPng', '=formatPng...'),\n    createCmd('exportJpg', '=formatJpg...'),\n    createCmd('exportSvg', '=formatSvg...'),\n    createCmd('exportVsdx', '=formatVsdx...'),\n    createCmd('exportXml', '=formatXml...'),\n    createCmd('exportUrl', '=url...'),\n    createCmd('exportHtml', '=formatHtmlEmbedded...'),\n    createCmd('importFile', '=file...'),\n    createCmd('importCsv', '=csv...'),\n    createCmd('importText', '=text...'),\n    createCmd('print', '=print...'),\n    createCmd('plantUml', '=plantUml...'),\n    createCmd('mermaid', '=mermaid...'),\n    createCmd('formatSql', '=formatSql...'),\n    {\n        id: \"fullscreen\",\n        quipIcon: quip.apps.MenuIcons.FULL_SCREEN,\n        handler: () => {\n            setFullscreen(!fullscreen);\n        }\n    },\n    {\n        id: \"support\",\n        label: \"=support\",\n        handler: () => {\n            quip.apps.openLink('https://desk.draw.io/support/solutions/articles/16000075852');\n        }\n    },\n    {\n        id: \"lock\",\n        label: \"\",\n        handler: () => {\n            toggleLocked();\n        }\n    },\n    {\n        id: \"unlock\",\n        label: \"\",\n        handler: () => {\n            toggleLocked();\n        }\n    },\n    {\n        id: \"comments\",\n        label: \"=comment...\",\n        handler: () => {\n            quip.apps.showComments(rootRecord.getId());\n        }\n    },\n    {\n        id: \"fit\",\n        label: \"=fit\",\n        handler: () => {\n            if (ui != null)\n            {\n                if (graph != null)\n                {\n                    graph.popupMenuHandler.hideMenu();\n                }\n                \n                fitDiagram(true);\n            }\n        }\n    },\n    createCmd('outline', '=outline...'),\n    createCmd('layers', '=layers...'),\n    createCmd('tags', '=tags...'),\n    createCmd('findReplace', '=findReplace...'),\n    {\n        id: \"format\",\n        label: \"=format\",\n        handler: () => {\n            toggleFormat();\n        }\n    },\n    {\n        id: \"shapes\",\n        label: \"=shapes\",\n        handler: () => {\n            toggleShapes();\n        }\n    },\n    createCmd('insertRectangle', '=rectangle'),\n    createCmd('insertEllipse', '=ellipse'),\n    createCmd('insertRhombus', '=rhombus'),\n    createCmd('insertText', '=text'),\n    createCmd('insertImage', '=image...'),\n    createCmd('insertTemplate', '=template...'),\n    createCmd('insertLink', '=link...'),\n    createCmd('insertPage', '=page'),\n    createCmd('createShape', '=shape...'),\n    createCmd('insertFreehand', '=freehand...'),\n    createCmd('undo', ''),\n    createCmd('redo', ''),\n    addLayout('horizontalFlow', '=horizontalFlow...'),\n    addLayout('verticalFlow', '=verticalFlow...'),\n    addLayout('horizontalTree', '=horizontalTree...'),\n    addLayout('verticalTree', '=verticalTree...'),\n    addLayout('radialTree', '=radialTree...'),\n    addLayout('organic', '=organic...'),\n    addLayout('circle', '=circle...'),\n    {\n        id: \"delete\",\n        label: \"=delete\",\n        handler: () => {\n            doDelete();\n        }\n    },\n    {\n        id: \"zoomIn\",\n        label: \"\",\n        handler: () => {\n            if (ui != null)\n            {\n                ui.actions.get('zoomIn').funct();\n            }\n        }\n    },\n    {\n        id: \"zoomOut\",\n        label: \"\",\n        handler: () => {\n            if (ui != null)\n            {\n                ui.actions.get('zoomOut').funct();\n            }\n        }\n    }\n];\n\nfunction toggleLocked(ignoreLocked, onLoad)\n{\n    if (!isReadOnlyMode())\n    {\n        if (!ignoreLocked)\n        {\n            locked = (locked == null) ? true : !locked;\n            viewerConfig.locked = locked;\n            \n            if (!isDocumentTemplate())\n            {\n                rootRecord.set(\"config\", JSON.stringify(viewerConfig));\n            }\n        }\n        \n        if (locked && graph != null)\n        {\n            graph.escape();\n        }\n        \n        if (ui != null)\n        {\n            ui.destroy();\n            ui = null;\n            \n            container.style.backgroundImage = 'url(' + drawImage + ')';\n            container.style.backgroundPosition = 'center center';\n            \n            if (container.style.height == '')\n            {\n                container.style.height = '64px';\n                var w = quip.apps.getContainerWidth();\n                quip.apps.setWidthAndAspectRatio(w, 64 / w);\n            }\n        }\n    \n        if (ui == null)\n        {\n            createViewer(true, true, onLoad);\n        }\n    }\n};\n\nfunction main(isCreateViewer, onLoad)\n{\n    // Workaround for async loading of JS resources in production\n    if (window.EditorUi == null)\n    {\n        var prev = window.mxIntegrateCallback;\n        \n        window.mxIntegrateCallback = function()\n        {\n            main(isCreateViewer, onLoad);\n            \n            if (prev != null)\n            {\n                prev();\n            }\n        };\n        \n        return;\n    }\n    \n    if (viewerConfig == null || window.EditorUi == null)\n    {\n        return;\n    }\n    \n\t// Test for iframe embedding of remote diagrams\n    if (viewerConfig.url != null)\n    {\n        var iframe = document.createElement('iframe');\n        iframe.style.cssText = 'border:0;top:0px;left:0;width:100%;height:100%;';\n        iframe.setAttribute('frameborder', '0');\n        iframe.src = viewerConfig.url;\n        \n        var h = viewerConfig.height || defaultHeight;\n        var w = quip.apps.getContainerWidth();\n        quip.apps.setWidthAndAspectRatio(w, h / w);\n        \n        container.style.backgroundImage = 'none';\n        container.style.height = h + 'px';\n        container.appendChild(iframe);\n        \n        return;\n    }\n\n    // Site-wide configuration\n    var configData = quip.apps.getSitePreferences().getForKey('configuration') || defaultConfig;\n    \n    try\n    {\n        // Code must execute before mxSettings.load in mxSettings.js (from drawio-plugins)\n        if (configData != null && mxUtils.trim(configData).length > 0)\n        {\n            var config = JSON.parse(mxUtils.trim(configData));\n\n            if (config != null)\n            {\n                Editor.configure(config);\n                \n                if (config.debug != null)\n                {\n                \tdebugOutput = config.debug;\n                }\n                \n                // Debug config without password\n                var temp = JSON.parse(mxUtils.trim(configData));\n                delete temp.password;\n\n                debug('user is site admin', quip.apps.isViewerSiteAdmin());\n                debug('using configuration', JSON.stringify(temp));\n            }\n        }\n    }\n    catch (e)\n    {\n        if (window.console != null)\n        {\n            console.log('draw.io configuration error:', e.message, configData);\n        }\n    }\n    \n    EditorUi.prototype.isDiagramActive = function()\n\t{\n\t\treturn true;\n\t};\n\t\n\tvar editorUiUpdateActionStates = EditorUi.prototype.updateActionStates;\n\t\n    EditorUi.prototype.updateActionStates = function()\n\t{\n\t\teditorUiUpdateActionStates.apply(this, arguments);\n\t\t\n\t\tthis.actions.get('tags').setEnabled(true);\n\t\tthis.actions.get('findReplace').setEnabled(true);\n\t\tthis.actions.get('layers').setEnabled(true);\n\t\tthis.actions.get('outline').setEnabled(true);\n\t};\n\n    // Workaround for blocked downloads of exported files\n    var editorUiSaveLocalFile = EditorUi.prototype.saveLocalFile;\n    \n    EditorUi.prototype.saveLocalFile = function(data, filename, mimeType, base64Encoded, format, allowBrowser, allowTab)\n    {\n   \t\tthis.doSaveLocalFile(data, filename, mimeType, base64Encoded);\n    };\n\n    EditorUi.prototype.doSaveLocalFile = function(data, filename, mimeType, base64Encoded, format)\n    {\n        if (mimeType.substring(0, 5) == 'image')\n        {\n            var div = document.createElement('div');\n            div.style.textAlign = 'center';\n            div.style.whiteSpace = 'nowrap';\n            \n            // Workaround for saving PDF is right click on hypelink with data URI\n            var img = document.createElement((format == 'pdf') ? 'a' : 'img');\n            img.style.cssText = 'max-width:240px;max-height:150px;';\n            div.appendChild(img);\n\n            if (format == 'pdf')\n            {\n            \tmimeType = 'application/pdf';\n            \timg.href = URL.createObjectURL((base64Encoded) ?\n\t\t\t\t\tthis.base64ToBlob(data, mimeType) :\n\t\t\t\t\tnew Blob([data], {type: mimeType}));\n            \timg.setAttribute('target', '_blank');\n            \timg.className = 'geBtn gePrimaryBtn';\n            \timg.innerHTML = '<span style=\"font-size:46px\">PDF</span><br><br>Right click here<br>and save link.';\n            \timg.style.width = '180px';\n            \timg.style.color = '#ffffff';\n            \timg.style.fontWeight = 'bold';\n            \timg.style.lineHeight = '1.5em';\n            \timg.style.whiteSpace = 'normal';\n            \timg.style.display = 'inline-block';\n            \timg.style.padding = '50px 0 120px 0';\n            \timg.style.borderRadius = '12px';\n            \t\n            \t// Blocked by frame sandbox but since click is broken\n            \t// it's better to use this sso that it starts working\n            \t// if the 'allow-downloads flag is added to the sandbox \n            \timg.setAttribute('download', filename);\n            }\n            else\n            {\n            \timg.setAttribute('src', ('data:' + mimeType + ((base64Encoded) ?\n            \t\t';base64,' + data : ';charset=utf8,' +\n            \t\tencodeURIComponent(data))));\n            \timg.setAttribute('alt', filename);\n            \tmxUtils.br(div);\n\t            mxUtils.br(div);\n\t            mxUtils.write(div, 'Right click image to save.');\n            }\n            \n        \t// Adds open in new window for non-native apps\n        \tvar dlg = new CustomDialog(ui, div, function()\n            {\n        \t\tif (format == 'pdf')\n        \t\t{\n        \t\t\tURL.revokeObjectURL(img.href);\n        \t\t}\n            }, mxUtils.bind(this, function()\n            {\n           \t\tthis.openInNewWindow(data, mimeType, base64Encoded);\n            }), mxResources.get('close'), null, null, format == 'pdf' ||\n            \t(quip.apps.isNative != null && quip.apps.isNative()),\n            \tmxResources.get('openInNewWindow'));\n            \n            ui.showDialog(dlg.container, 280, 230, true, true);\n        }\n        else\n        {\n            var dlg = new TextareaDialog(this, '', data, null, null, mxResources.get('close'));\n            dlg.textarea.style.width = '600px';\n            dlg.textarea.style.height = '380px';\n            this.showDialog(dlg.container, 620, 460, true, true);\n            dlg.init();\n            document.execCommand('selectall', false, null);\n        }\n    };\n\n    // Disables remote conversion\n    var editorUiIsRemoteVisioFormat = EditorUi.prototype.isRemoteVisioFormat;\n\n\tEditorUi.prototype.isRemoteVisioFormat = function(filename)\n\t{\n\t\treturn (Editor.config == null ||\n\t\t\tEditor.config.remoteConvert == null ||\n            Editor.config.remoteConvert) &&\n            editorUiIsRemoteVisioFormat.apply(this, arguments);\n\t};\n\t\n\tvar editorUiIsRemoteFileFormat = EditorUi.prototype.isRemoteFileFormat;\n\n\tEditorUi.prototype.isRemoteFileFormat = function(data, filename)\n\t{\n\t\treturn (Editor.config == null ||\n\t\t\tEditor.config.remoteConvert == null ||\n            Editor.config.remoteConvert) &&\n            editorUiIsRemoteFileFormat.apply(this, arguments);\n\t};\n\t\n    // Overridden to disable use of form for image downloads\n    EditorUi.prototype.saveRequest = function(filename, format, fn, data, base64Encoded, mimeType, allowTab)\n    {\n        var xhr = fn(null, '1');\n        \n        if (xhr != null && this.spinner.spin(document.body, mxResources.get('saving')))\n        {\n            // LATER: Catch possible mixed content error\n            // see http://stackoverflow.com/questions/30646417/catching-mixed-content-error\n            xhr.send(mxUtils.bind(this, function()\n            {\n                this.spinner.stop();\n                \n                if (xhr.getStatus() >= 200 && xhr.getStatus() <= 299)\n                {\n                    try\n                    {\n                        if (format == 'xmlpng')\n                        {\n                            format = 'png';\n                        }\n\n                        this.doSaveLocalFile(xhr.getText(), filename, 'image/' + format, true, format);\n                    }\n                    catch (e)\n                    {\n                        this.handleError(e);\n                    }\n                }\n                else\n                {\n                    this.handleError({message: mxResources.get('errorSavingFile')});\n                }\n            }), function(resp)\n            {\n                this.spinner.stop();\n                this.handleError(resp);\n            });\n        }\n    };\n\n    // Overridden to use page.model\n    EditorUi.prototype.getXmlFileData = function(ignoreSelection, currentPage)\n    {\n        ignoreSelection = (ignoreSelection != null) ? ignoreSelection : true;\n        currentPage = (currentPage != null) ? currentPage : false;\n        \n        var node = this.editor.getGraphXml(ignoreSelection);\n            \n        if (ignoreSelection && this.fileNode != null && this.currentPage != null)\n        {\n            var data = Graph.compress(Graph.zapGremlins(mxUtils.getXml(node)));\n            mxUtils.setTextContent(this.currentPage.node, data);\n            node = this.fileNode.cloneNode(false);\n            \n            if (currentPage)\n            {\n                node.appendChild(this.currentPage.node);\n            }\n            else\n            {\n                // Restores order of pages\n                for (var i = 0; i < this.pages.length; i++)\n                {\n                    if (this.pages[i].model != null && this.pages[i] != this.currentPage)\n                    {\n                        var enc = new mxCodec(mxUtils.createXmlDocument());\n                        var temp = enc.encode(this.pages[i].model);\n        \n                        var data = Graph.compress(Graph.zapGremlins(mxUtils.getXml(temp)));\n                        mxUtils.setTextContent(this.pages[i].node, data);\n                    }\n\n                    node.appendChild(this.pages[i].node);\n                }\n            }\n        }\n        \n        return node;\n    };\n\n    var popupMenuShowSubmenu = mxPopupMenu.prototype.showSubmenu;\n    \n    mxPopupMenu.prototype.showSubmenu = function(parent, row)\n    {\n        popupMenuShowSubmenu.apply(this, arguments);\n        \n        if (row.div != null)\n        {\n            quip.apps.addDetachedNode(ReactDOM.findDOMNode(row.div));\n        }\n    };\n\n    var editorUiExecuteLayout = EditorUi.prototype.executeLayout; \n    \n    EditorUi.prototype.executeLayout = function(exec, animate, post)\n    {\n        graph.container.style.visibility = 'hidden';\n        \n        function postWrapper()\n        {\n            if (post != null)\n            {\n                post();\n            }\n            \n            fitDiagram();\n            graph.container.style.visibility = '';\n        };\n        \n        editorUiExecuteLayout.apply(this, [exec, false, postWrapper]);\n    };\n\n    // Workaround for window.print not working is to only show preview tab\n    // NOTE: Printing not longer possible since preview tab and print on iframe are blocked\n    PrintDialog.previewEnabled = false;\n    PrintDialog.printPreview = function() {};\n    \n    // Disables embed preview in native apps\n    EmbedDialog.showPreviewOption = quip.apps.isNative == null || !quip.apps.isNative();\n    \n    // Workaround for shadow not working on various platforms\n    Editor.shadowOptionEnabled = !quip.apps.isMac() && !quip.apps.isIOs() &&\n        !quip.apps.isAndroid() && !mxClient.IS_SF;\n    var graphSetShadowVisible = Graph.prototype.setShadowVisible;\n    \n    Graph.prototype.setShadowVisible = function(value, fireEvent)\n    {\n        graphSetShadowVisible.apply(this, [Editor.shadowOptionEnabled && value, fireEvent]);\n    };\n    \n    // Disables CSS transforms in editable documents\n\tvar graphIsCssTransformsSupported = Graph.prototype.isCssTransformsSupported;\n    \n    Graph.prototype.isCssTransformsSupported = function()\n    {\n    \treturn !isDocumentEditable() && graphIsCssTransformsSupported.apply(this, arguments);\n    };\n    \n    // Disables popup windows\n    EmbedDialog.showPreviewOption = false;\n    Editor.popupsAllowed = false;\n    \n    // Disables new window option in edit dialog\n    EditDiagramDialog.showNewWindowOption = false;\n    \n    // Overridden to use openLink for links in labels and on shapes\n    var createLinkForHint = Graph.prototype.createLinkForHint;\n    \n    Graph.prototype.createLinkForHint = function(link, label)\n    {\n        var elt = createLinkForHint.apply(this, arguments);\n        \n        mxEvent.addListener(elt, 'click', function(evt)\n        {\n            if (!mxEvent.isPopupTrigger(evt))\n            {\n                var href = elt.getAttribute('href');\n                \n                if (!graph.isCustomLink(href))\n                {\n                    graph.openLink(href);\n                }\n                \n                mxEvent.consume(evt);\n            }\n        });\n        \n        return elt;\n    };\n    \n    function updateHint()\n    {\n        if (this.hint != null && this.hint.parentNode == graph.container)\n        {\n            container.appendChild(this.hint);\n        }\n    };\n    \n    var graphHandlerUpdateHint = mxGraphHandler.prototype.updateHint;\n    var vertexHandlerUpdateHint = mxVertexHandler.prototype.updateHint;\n    var edgeHandlerUpdateHint = mxEdgeHandler.prototype.updateHint;\n    \n    mxGraphHandler.prototype.updateHint = function(me)\n    {\n        graphHandlerUpdateHint.apply(this, arguments);\n        updateHint.apply(this, arguments);\n    };\n    \n    mxVertexHandler.prototype.updateHint = function(me)\n    {\n        vertexHandlerUpdateHint.apply(this, arguments);\n        updateHint.apply(this, arguments);\n    };\n\n    mxEdgeHandler.prototype.updateHint = function(me)\n    {\n        edgeHandlerUpdateHint.apply(this, arguments);\n        updateHint.apply(this, arguments);\n    };\n    \n    // Only switches to page view if format is changed in fullscreen mode\n    EditorUi.prototype.setPageFormat = function(value)\n    {\n        this.editor.graph.pageFormat = value;\n        \n        if (!this.editor.graph.pageVisible && fullscreen)\n        {\n            this.actions.get('pageView').funct();\n        }\n        else\n        {\n            this.editor.graph.view.validateBackground();\n            this.editor.graph.sizeDidChange();\n        }\n\n        this.fireEvent(new mxEventObject('pageFormatChanged'));\n    };\n    \n    // Fixes clipping for link hints (hides during panning)\n    (function()\n    {\n        function handlerInit()\n        {\n            this.panHandler = mxUtils.bind(this, function()\n            {\n                if (this.linkHint != null)\n                {\n                    this.linkHint.style.visibility = 'hidden';\n                }\n            });\n            \n            this.state.view.graph.addListener(mxEvent.PAN, this.panHandler); \n        };\n        \n        var vertexHandlerInit = mxVertexHandler.prototype.init;\n        var edgeHandlerInit = mxEdgeHandler.prototype.init;\n        \n        mxVertexHandler.prototype.init = function()\n        {\n            vertexHandlerInit.apply(this, arguments);\n            handlerInit.apply(this, arguments);\n        };\n        \n        mxEdgeHandler.prototype.init = function()\n        {\n            edgeHandlerInit.apply(this, arguments);\n            handlerInit.apply(this, arguments);\n        };\n        \n        function handlerDestroy()\n        {\n            if (this.panHandler != null)\n            {\n                this.state.view.graph.removeListener(this.panHandler);\n                this.panHandler = null;\n            }\n        };\n        \n        var vertexHandlerDestroy = mxVertexHandler.prototype.destroy;\n        var edgeHandlerDestroy = mxEdgeHandler.prototype.destroy;\n        \n        mxVertexHandler.prototype.destroy = function()\n        {\n            vertexHandlerDestroy.apply(this, arguments);\n            handlerDestroy.apply(this, arguments);\n        };\n\n        mxEdgeHandler.prototype.destroy = function()\n        {\n            edgeHandlerDestroy.apply(this, arguments);\n            handlerDestroy.apply(this, arguments);\n        };\n        \n        // Detaches link hint for event handling and avoid clipping\n        function updateLinkHint()\n        {\n            if (this.linkHint != null && this.linkHint.parentNode == graph.container)\n            {\n                container.appendChild(this.linkHint);\n                quip.apps.addDetachedNode(ReactDOM.findDOMNode(this.linkHint));\n            }\n        };\n\n        var vertexHandlerUpdateLinkHint = mxVertexHandler.prototype.updateLinkHint;\n        var edgeHandlerUpdateLinkHint = mxEdgeHandler.prototype.updateLinkHint;\n        \n        mxVertexHandler.prototype.updateLinkHint = function(link, links)\n        {\n            vertexHandlerUpdateLinkHint.apply(this, arguments);\n            updateLinkHint.apply(this, arguments);\n        };\n        \n        mxEdgeHandler.prototype.updateLinkHint = function(link, links)\n        {\n            edgeHandlerUpdateLinkHint.apply(this, arguments);\n            updateLinkHint.apply(this, arguments);\n        };\n        \n        function redrawHandles()\n        {\n            if (this.linkHint != null)\n            {\n                this.linkHint.style.visibility = '';\n            }\n        };\n        \n        var vertexHandlerRedrawHandles = mxVertexHandler.prototype.redrawHandles;\n        var edgeHandlerRedrawHandles = mxEdgeHandler.prototype.redrawHandles;\n        \n        mxVertexHandler.prototype.redrawHandles = function(link, links)\n        {\n            if (this.index != null && this.index != mxEvent.ROTATION_HANDLE)\n            {\n                this.rotationShape.node.style.display = 'none';\n            }\n\n            vertexHandlerRedrawHandles.apply(this, arguments);\n            redrawHandles.apply(this, arguments);\n        };\n        \n        mxEdgeHandler.prototype.redrawHandles = function(link, links)\n        {\n            if (this.index == null)\n            {\n                edgeHandlerRedrawHandles.apply(this, arguments);\n                redrawHandles.apply(this, arguments);\n            }\n        };\n    })();\n\n    // Redirects to webapp\n    Editor.prototype.editBlankUrl = 'http://www.draw.io/';\n    \n    // Redirects to Quip abstraction layer\n    Graph.prototype.openLink = function(href, target)\n    {\n        quip.apps.openLink(href);\n    };\n \n    // Overridden to add ignoreHeight\n    EditorUi.prototype.lightboxFit = function()\n    {\n         if (this.isDiagramEmpty())\n         {\n             this.editor.graph.view.setScale(1);\n         }\n         else\n         {\n             // LATER: Use initial graph bounds to avoid rounding errors\n             this.editor.graph.maxFitScale = ((viewerConfig != null &&\n                     viewerConfig.maxZoom != null) ?\n                         viewerConfig.maxZoom : defaultMaxZoom);\n             this.editor.graph.fit(padding, null, null, null, null, !fullscreen);\n             this.editor.graph.maxFitScale = null;\n         }\n    };\n\n    // Overridden to use global locked state\n    EditorUi.prototype.isPageInsertTabVisible = function()\n    {\n        return !locked;\n    };\n\n    // Redirects local storage\n    EditorUi.prototype.getLocalData = function(key, fn)\n    {\n        var tmp = rootRecord.get(\"storage\");\n        \n        fn((tmp == null) ? null : JSON.parse(tmp)[key]);\n    };\n    \n    EditorUi.prototype.setLocalData = function(key, data, fn)\n    {\n        var tmp = rootRecord.get(\"storage\");\n        var obj = (tmp == null) ? {} : JSON.parse(tmp);\n        obj[key] = data;\n        rootRecord.set(\"storage\", JSON.stringify(obj));\n        \n        if (fn != null)\n        {\n            fn();\n        }\n    };\n    \n    EditorUi.prototype.removeLocalData = function(key, fn)\n    {\n        var tmp = rootRecord.get(\"storage\");\n        \n        if (tmp != null)\n        {\n            var obj = JSON.parse(tmp);\n            delete obj[key];\n            rootRecord.set(\"storage\", JSON.stringify(obj));\n        }\n        \n        fn();\n    };\n    \n    // Disables writing of dx and dy to file to avoid change detection\n    var editorGetGraphXml = Editor.prototype.getGraphXml;\n    \n    Editor.prototype.getGraphXml = function(ignoreSelection)\n    {\n        var node = editorGetGraphXml.apply(this, arguments);\n        \n        node.removeAttribute('dx');\n        node.removeAttribute('dy');\n        \n        return node;\n    };\n    \n    // Initializes sidebar before initializing trees module for overrides to work\n    var editorUiAddTrees = EditorUi.prototype.addTrees;\n    \n    EditorUi.prototype.addTrees = function()\n    {\n        var div = document.createElement('div');\n        div.style.cssText = 'position:absolute;left:0px;right:0px;top:0px;bottom:63px;overflow-y:auto;overflow-x:hidden;';\n        this.sidebar = this.createSidebar(div);\n\n        editorUiAddTrees.apply(this, arguments);\n    };\n\n    // Adds per-diagram sidebar configuration\n    var sidebarShowEntries = Sidebar.prototype.showEntries;\n    \n    Sidebar.prototype.showEntries = function(newValue, remember, force)\n    {\n        sidebarShowEntries.apply(this, arguments);\n\n        if (ui != null && newValue != null)\n        {\n            ui.getLocalData('sidebar', function(oldValue)\n            {\n                if (oldValue != newValue)\n                {\n                    ui.setLocalData('sidebar', newValue);\n                }\n            });\n        }\n    };\n    \n    // Transfers focus to graph after click in sidebar\n    var sidebarItemClicked = Sidebar.prototype.itemClicked; \n    \n    Sidebar.prototype.itemClicked = function(cells, ds, evt, elt)\n    {\n        sidebarItemClicked.apply(this, arguments);\n        graph.container.focus();\n    };\n    \n    // Shows sidebar window when libaries are loaded\n    // FIXME: Shows library window twice\n    /*var libraryLoaded = EditorUi.prototype.libraryLoaded;\n    \n    EditorUi.prototype.libraryLoaded = function(mode)\n    {\n        libraryLoaded.apply(this, arguments);\n        \n        if (ui.sidebarWindow == null || !ui.sidebarWindow.isVisible())\n        {\n            toggleShapes();\n        }\n    };*/\n\n    // Adds support for device libraries\n    EditorUi.prototype.pickLibrary = function(mode)\n    {\n        if (Graph.fileSupport && !mxClient.IS_IE && !mxClient.IS_IE11)\n        {\n            var input = document.createElement('input');\n            input.setAttribute('type', 'file');\n            \n            mxEvent.addListener(input, 'change', mxUtils.bind(this, function()\n            {\n                if (input.files != null)\n                {\n                    for (var i = 0; i < input.files.length; i++)\n                    {\n                        (mxUtils.bind(this, function(file)\n                        {\n                            var reader = new FileReader();\n                        \n                            reader.onload = mxUtils.bind(this, function(e)\n                            {\n                                try\n                                {\n                                    this.loadLibrary(new LocalLibrary(this, e.target.result, file.name));\n                                }\n                                catch (e)\n                                {\n                                    this.handleError(e, mxResources.get('errorLoadingFile'));\n                                }\n                            });\n\n                            reader.readAsText(file);\n                        }))(input.files[i]);\n                    }\n                }\n            }));\n\n            input.click();\n        }\n    };\n\n    EditorUi.prototype.saveLibrary = function(name, images, file, mode, noSpin, noReload, fn)\n    {\n        mode = (mode != null) ? mode : this.mode;\n        noSpin = (noSpin != null) ? noSpin : false;\n        noReload = (noReload != null) ? noReload : false;\n        var xml = this.createLibraryDataFromImages(images);\n        \n        var error = mxUtils.bind(this, function(resp)\n        {\n            this.spinner.stop();\n            \n            if (fn != null)\n            {\n                fn();\n            }\n            \n            this.handleError(resp, (resp != null) ? mxResources.get('errorSavingFile') : null);\n        });\n\n        // Handles special case for local libraries\n        if (file == null)\n        {\n            file = new LocalLibrary(this, xml, name);\n        }\n        \n        if (noSpin || this.spinner.spin(document.body, mxResources.get('saving')))\n        {\n            file.setData(xml);\n            \n            var doSave = mxUtils.bind(this, function()\n            {\n                file.save(true, mxUtils.bind(this, function(resp)\n                {\n                    this.spinner.stop();\n                    this.hideDialog(true);\n                    \n                    if (!noReload)\n                    {\n                        this.libraryLoaded(file, images);\n                    }\n                    \n                    if (fn != null)\n                    {\n                        fn();\n                    }\n                }), error);\n            });\n            \n            if (name != file.getTitle())\n            {\n                var oldHash = file.getHash();\n                \n                file.rename(name, mxUtils.bind(this, function(resp)\n                {\n                    // Change hash in stored settings\n                    if (file.constructor != LocalLibrary && oldHash != file.getHash())\n                    {\n                        mxSettings.removeCustomLibrary(oldHash);\n                        mxSettings.addCustomLibrary(file.getHash());\n                    }\n\n                    // Workaround for library files changing hash so\n                    // the old library cannot be removed from the\n                    // sidebar using the updated file in libraryLoaded\n                    this.removeLibrarySidebar(oldHash);\n\n                    doSave();\n                }), error)\n            }\n            else\n            {\n                doSave();\n            }\n        }\n    };\n\n    /**\n     * Supported domains must be enabled in manifest.json\n     */\n    Editor.prototype.isCorsEnabledForUrl = function(url)\n    {\n        return /^https?:\\/\\/[^\\/]*\\.quip\\.com\\//.test(url) ||\n                /^https?:\\/\\/[^\\/]*\\.iconfinder.com\\//.test(url) ||\n                /^https?:\\/\\/[^\\/]*\\.cloudfront.net\\//.test(url) ||\n                /^https?:\\/\\/[^\\/]*\\.draw.io\\//.test(url);\n    };\n\n    EditorUi.prototype.restoreLibraries = function()\n    {\n        if (this.sidebar != null)\n        {\n            if (this.pendingLibraries == null)\n            {\n                this.pendingLibraries = new Object();\n            }\n            \n            // Ignores this library next time\n            var ignore = mxUtils.bind(this, function(id)\n            {\n                mxSettings.removeCustomLibrary(id); \n                delete this.pendingLibraries[id];\n            });\n                    \n            var load = mxUtils.bind(this, function(libs, done)\n            {\n                var waiting = 0;\n                var files = [];\n\n                // Loads in order of libs array\n                var checkDone = mxUtils.bind(this, function()\n                {\n                    if (waiting == 0)\n                    {\n                        if (libs != null)\n                        {\n                            for (var i = libs.length - 1; i >= 0; i--)\n                            {\n                                if (files[i] != null)\n                                {\n                                    this.loadLibrary(files[i]);\n                                }\n                            }\n                        }\n                        \n                        if (done != null)\n                        {\n                            done();\n                        }\n                    }\n                });\n                \n                if (libs != null)\n                {\n                    for (var i = 0; i < libs.length; i++)\n                    {\n                        var name = encodeURIComponent(decodeURIComponent(libs[i]));\n                        \n                        (mxUtils.bind(this, function(id, index)\n                        {\n                            if (id != null && id.length > 0 && this.pendingLibraries[id] == null &&\n                                this.sidebar.palettes[id] == null)\n                            {\n                                // Waits for all libraries to load\n                                var onload = mxUtils.bind(this, function(file)\n                                {\n                                    delete this.pendingLibraries[id];\n                                    files[index] = file;\n                                    waiting--;\n                                    checkDone();\n                                });\n                                \n                                var onerror = mxUtils.bind(this, function()\n                                {\n                                    ignore(id);\n                                    waiting--;\n                                    checkDone();\n                                });\n                                \n                                this.pendingLibraries[id] = true;\n                                var service = id.substring(0, 1);\n                                \n                                if (service == 'U')\n                                {\n                                    waiting++;\n                                    var url = decodeURIComponent(id.substring(1));\n                                    \n                                    if (!this.isOffline())\n                                    {\n                                        var realUrl = url;\n                                        \n                                        if (!this.editor.isCorsEnabledForUrl(realUrl))\n                                        {\n                                            var nocache = 't=' + new Date().getTime();\n                                            realUrl = PROXY_URL + '?url=' + encodeURIComponent(url) + '&' + nocache;\n                                        }\n                                        \n                                        try\n                                        {\n                                            // Uses proxy to avoid CORS issues\n                                            mxUtils.get(realUrl, mxUtils.bind(this, function(req)\n                                            {\n                                                if (req.getStatus() >= 200 && req.getStatus() <= 299)\n                                                {\n                                                    try\n                                                    {\n                                                        onload(new UrlLibrary(this, req.getText(), url));\n                                                    }\n                                                    catch (e)\n                                                    {\n                                                        onerror();\n                                                    }\n                                                }\n                                                else\n                                                {\n                                                    onerror();\n                                                }\n                                            }), function()\n                                            {\n                                                onerror();\n                                            });\n                                        }\n                                        catch (e)\n                                        {\n                                            onerror();\n                                        }\n                                    }\n                                }\n                            }\n                        }))(name, i);\n                    }\n                    \n                    checkDone();\n                }\n                else\n                {\n                    checkDone();\n                }\n            });\n            \n            load(Editor.defaultCustomLibraries, mxUtils.bind(this, function()\n            {\n                this.getLocalData('customLibraries', mxUtils.bind(this, function(value)\n                {\n                    load(value);\n                }));\n            }));\n        }\n    };\n\n    // Redirects to user preferences\n    mxSettings.save = function()\n    {\n        try\n        {\n            delete mxSettings.settings.isNew;\n            mxSettings.settings.version = mxSettings.currentVersion;\n            var libs = mxSettings.getCustomLibraries();\n            mxSettings.settings.customLibraries = [];\n            quip.apps.getUserPreferences().save({'settings': JSON.stringify(mxSettings.settings)});\n            \n            // Redirects custom libs to record\n            ui.setLocalData('customLibraries', libs);\n        }\n        catch (e)\n        {\n            // ignores quota exceeded\n        }\n    };\n    \n    mxSettings.load = function()\n    {\n        mxSettings.parse(quip.apps.getUserPreferences().getForKey('settings'));\n        \n        if (mxSettings.settings == null)\n        {\n            mxSettings.init();\n        }\n        else\n        {\n            // Redirects custom libs to record\n            var tmp = rootRecord.get(\"storage\");\n            mxSettings.settings.customLibraries = (tmp == null) ?\n            \tmxSettings.settings.customLibraries : JSON.parse(tmp)['customLibraries'];\n        }\n    };\n    \n    mxSettings.clear = function() \n    {\n        quip.apps.getUserPreferences().save({'settings': null});\n    };\n    \n    mxSettings.load();\n\n    Sidebar.prototype.searchFileUrl = '//' + domain + '/search.xml';\n    EditorUi.prototype.lightboxMaxFitScale = (viewerConfig != null && viewerConfig.maxZoom != null) ?\n       viewerConfig.maxZoom : defaultMaxZoom;\n    EditorUi.prototype.footerHeight = 0;\n    EditorUi.enablePlantUml = true;\n\n    // Tab container is a custom container in Quip\n    EditorUi.prototype.createTabContainer = function()\n    {\n        return null;\n    };\n    \n    // Overridden to ignore tabContainer height for diagramContainer\n    var editorUiRefresh = EditorUi.prototype.refresh;\n\n    EditorUi.prototype.refresh = function(sizeDidChange)\n    {\n        editorUiRefresh.apply(this, arguments);\n        this.diagramContainer.style.bottom = '0';\n    };\n    \n    // Changes colors for some UI elements\n    var fill = '#29b6f2';\n    var stroke = '#ffffff';\n    \n    Editor.checkmarkImage = Graph.createSvgImage(22, 18, '<path transform=\"translate(4 0)\" d=\"M7.181,15.007a1,1,0,0,1-.793-0.391L3.222,10.5A1,1,0,1,1,4.808,9.274L7.132,12.3l6.044-8.86A1,1,0,1,1,14.83,4.569l-6.823,10a1,1,0,0,1-.8.437H7.181Z\" fill=\"' + fill + '\"/>').src;\n    mxWindow.prototype.closeImage = Graph.createSvgImage(18, 10, '<path d=\"M 5 1 L 13 9 M 13 1 L 5 9\" stroke=\"#C0C0C0\" stroke-width=\"2\"/>').src;\n    mxWindow.prototype.minimizeImage = Graph.createSvgImage(14, 10, '<path d=\"M 3 7 L 7 3 L 11 7\" stroke=\"#C0C0C0\" stroke-width=\"2\" fill=\"#ffffff\"/>').src;\n    mxWindow.prototype.normalizeImage = Graph.createSvgImage(14, 10, '<path d=\"M 3 3 L 7 7 L 11 3\" stroke=\"#C0C0C0\" stroke-width=\"2\" fill=\"#ffffff\"/>').src;\n    mxWindow.prototype.maximizeImage = 'data:image/gif;base64,R0lGODlhDAAMAPcAAP///0RERAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACwAAAAADAAMAAAIMAADCBxIcCCAgwgTCgRQ0ODChg8DMEx4UOJDihMvUrRoESPHiRsZcmwoEqNCiAUDAgA7';\n    mxWindow.prototype.resizeImage = 'data:image/gif;base64,R0lGODlhDAAMAJECAP///4CAgNTQyAAAACH5BAEAAAIALAAAAAAMAAwAAAIblI8CmRB83IMSqvBWw3dnHnFV+GVGhZZXmaoFADs=';\n    \n    mxConstants.VERTEX_SELECTION_COLOR = '#C0C0C0';\n    mxConstants.EDGE_SELECTION_COLOR = '#C0C0C0';\n    mxConstants.CONNECT_HANDLE_FILLCOLOR = '#cee7ff';\n    \n    mxConstants.DEFAULT_VALID_COLOR = fill;\n    mxConstants.GUIDE_COLOR = '#C0C0C0';\n\n    mxConstants.HIGHLIGHT_STROKEWIDTH = 5;\n    mxConstants.HIGHLIGHT_OPACITY = 35;\n    \n    Format.prototype.inactiveTabBackgroundColor = '#f0f0f0';\n    mxGraphHandler.prototype.previewColor = '#C0C0C0';\n    mxRubberband.prototype.defaultOpacity = 50;\n    HoverIcons.prototype.inactiveOpacity = 25;\n    Graph.prototype.editAfterInsert = true;\n    Graph.prototype.svgShadowColor = '#3D4574';\n    Graph.prototype.svgShadowOpacity = '0.4';\n    Graph.prototype.svgShadowSize = '0.6';\n    Graph.prototype.svgShadowBlur = '1.2';\n    \n    // Fixes sidebar tooltips (previews)\n    Sidebar.prototype.getTooltipOffset = function()\n    {\n        var off = mxUtils.getOffset(ui.sidebarWindow.window.div);\n        off.y += 40;\n        \n        return off;\n    };\n    \n    // Adds context menu items\n    var menuCreatePopupMenu = Menus.prototype.createPopupMenu;\n    \n    Menus.prototype.createPopupMenu = function(menu, cell, evt)\n    {\n        var graph = this.editorUi.editor.graph;\n        menu.smartSeparators = true;\n        \n        if (graph.isSelectionEmpty() && quip.apps.isMobile())\n        {\n            this.addMenuItems(menu, ['zoomIn', 'zoomOut', 'fit', '-'], null, evt);    \n        }\n        \n        menuCreatePopupMenu.apply(this, arguments);\n\n        var promptSpacing = mxUtils.bind(this, function(defaultValue, fn)\n        {\n            var dlg = new FilenameDialog(this.editorUi, defaultValue, mxResources.get('apply'), function(newValue)\n            {\n                fn(parseFloat(newValue));\n            }, mxResources.get('spacing'));\n            this.editorUi.showDialog(dlg.container, 300, 80, true, true);\n            dlg.init();\n        });\n        \n        if (graph.getSelectionCount() == 1)\n        {\n            this.addMenuItems(menu, ['editTooltip', 'editStyle', '-'], null, evt);\n\n            if (quip.apps.isMobile())\n            {\n                this.addMenuItems(menu, ['toggleFormat', '-'], null, evt);\n            }\n            \n            if (graph.isCellFoldable(graph.getSelectionCell()))\n            {\n                this.addMenuItems(menu, (graph.isCellCollapsed(cell)) ? ['expand'] : ['collapse'], null, evt);\n            }\n\n            this.addMenuItems(menu, ['collapsible', '-', 'lockUnlock', 'enterGroup'], null, evt);\n            menu.addSeparator();\n            this.addSubmenu('layout', menu);\n            \n//            if (domain == 'test.draw.io')\n//            {\n//                this.addMenuItems(menu, ['-', 'addComment', '-'], null, evt);\n//            }\n        }\n        else if (graph.isSelectionEmpty())\n        {\n            if (graph.isEnabled())\n            {\n                menu.addSeparator();\n\n                if (quip.apps.isMobile())\n                {\n                    this.addMenuItems(menu, ['toggleShapes', '-'], null, evt);    \n                }\n\n                this.addMenuItems(menu, ['-', 'editData', '-'], null, evt);\n\n                this.addSubmenu('insert', menu);\n                this.addSubmenu('layout', menu);\n                this.addSubmenu('options', menu);\n\n                this.addMenuItems(menu, ['-', 'exitGroup'], null, evt);\n            }\n            \n            if (!quip.apps.isMobile())\n            {\n                if (fullscreen)\n                {\n                    this.addMenuItems(menu, ['exitFullscreen'], null, evt);\n                }\n                else\n                {\n                    this.addMenuItems(menu, ['fullscreen'], null, evt);\n                }\n            }\n\n            if (debugOutput)\n            {\n                this.addMenuItems(menu, ['-', 'refresh', 'debug'], null, evt);\n            }\n        }\n    };\n    \n    // Overridden to redirect clipart\n    function convertImageUrl(url)\n    {\n        //we rewrite the URL of the images so diagrams made with draw.io online work in the plugins and vice versa\n        if (url.substring(0, 4) == 'img/') \n        {\n            url = 'https://' + domain + '/' + url;\n        }\n        else if (url.substring(0, 5) == '/img/') \n        {\n            url = 'https://' + domain + url;\n        }\n        \n        return url;\n    };\n    \n    /**\n     * Overrides url converter for exporting images.\n     */\n    mxUrlConverter.prototype.convert = function(url)\n    {\n        if (this.isEnabled() && this.isRelativeUrl(url))\n        {\n            url = convertImageUrl(url);\n        }\n        \n        return url;\n    };\n    \n    /**\n     * Overrides canvas for SVG export to create absolute image URLs.\n     */\n    var graphCreateSvgCanvas = Graph.prototype.createSvgCanvas;\n    \n    Graph.prototype.createSvgCanvas = function(node)\n    {\n        var canvas = graphCreateSvgCanvas.apply(this, arguments);\n        var oldConvert = canvas.converter.convert;\n        \n        canvas.converter.convert = function(url) \n        {\n            url = oldConvert.apply(this, arguments);\n            \n            if (url != null && this.isEnabled() && this.isRelativeUrl(url))\n            {\n                loc = '//' + domain;\n                \n                if (url.substring(0, 4) == 'img/') \n                {\n                    url = loc + '/' + url;\n                }\n                else if (url.substring(0, 4) == '/img') \n                {\n                    url = loc + url;\n                }\n            }\n\n            return url;\n        };\n        \n        return canvas;\n    };\n    \n    /**\n     * Overrides sanitizer for links in labels (img.src and a.href).\n     */\n    Graph.prototype.sanitizeHtml = function(value, editing)\n    {\n        // Uses https://code.google.com/p/google-caja/wiki/JsHtmlSanitizer\n        // NOTE: Original minimized sanitizer was modified to support data URIs for images\n        // LATER: Add MathML to whitelisted tags\n        function urlX(link, arg2, arg3, tag)\n        {\n            if (link != null && link.toString().toLowerCase().substring(0, 11) !== 'javascript:')\n            {\n                // Rewrites URLs for a.href and img.src for non-editing labels\n                if (!editing)\n                {\n                    // Since this is a hack via link.g we need to check if all arguments are valid\n                    if (link.g != null && link.g.length > 0 && tag != null && tag.TYPE == 'MARKUP')\n                    {\n                        // To be consistent with the above overrides we use different schemes for\n                        // transforming image source and link refs\n                        if (tag.XML_TAG == 'img' && tag.XML_ATTR == 'src')\n                        {\n                            link.g = convertImageUrl(link.g);\n                        }\n                    }\n                }\n                \n                return link;\n            }\n            \n            return null;\n        };\n        function idX(id) { return id };\n        \n        return html_sanitize(value, urlX, idX);\n    };\n    \n    // Overridden to toggle window instead\n    EditorUi.prototype.toggleFormatPanel = function(forceHide)\n    {\n        if (ui.formatWindow != null)\n        {\n            ui.formatWindow.window.setVisible((forceHide) ?\n               false : !ui.formatWindow.window.isVisible());\n        }\n        else\n        {\n        \ttoggleFormat();\n        }\n    };\n    \n    // Hides keyboard shortcuts in menus\n    Menus.prototype.addShortcut = function(item, action)\n    {\n        if (action.shortcut != null)\n        {\n            var td = item.firstChild.nextSibling;\n            td.setAttribute('title', action.shortcut);\n        }\n    };\n\n    /**\n     * Disables close button in diagram tab.\n     */\n    Format.prototype.showCloseButton = false;\n\n    DiagramFormatPanel.prototype.isShadowOptionVisible = function()\n    {\n        return true;\n    };\n\n    DiagramFormatPanel.prototype.isMathOptionVisible = function()\n    {\n        return true;\n    };\n    \n    // Fixes modal dialogs in Quip\n    var editorUiShowDialog = EditorUi.prototype.showDialog;\n    \n    EditorUi.prototype.showDialog = function(elt, w, h, modal, closable, onClose)\n    {\n        editorUiShowDialog.apply(this, arguments);\n        \n        if (this.dialog != null)\n        {\n            if (!fullscreen)\n            {\n                this.dialog.bg.style.position = '';\n            }\n            \n            this.dialog.container.style.position = '';\n            quip.apps.addDetachedNode(ReactDOM.findDOMNode(this.dialog.bg));\n            quip.apps.addDetachedNode(ReactDOM.findDOMNode(this.dialog.container));\n        }\n    };\n\n    Dialog.prototype.getPosition = function(left, top, w, h)\n    {\n        var offset = mxUtils.getOffset(ui.container);\n        \n        return new mxPoint(left, offset.y + Math.min(0, window.innerHeight - offset.y - h - 62));\n    };\n    \n    // Fixes windows in Quip\n    var windowInit = mxWindow.prototype.init;\n    \n    mxWindow.prototype.init = function(x, y, width, height, style)\n    {\n        var offset = mxUtils.getOffset(ui.container);\n        y += offset.y;\n        \n        windowInit.call(this, x, y, width, height, style);\n        quip.apps.addDetachedNode(ReactDOM.findDOMNode(this.div));\n        \n        // Event catching on outer document\n        var catcher = null;\n        \n        function addCatcher()\n        {\n            catcher = ui.createDiv('background');\n            catcher.style.cssText = 'position:absolute;background:transparent;top:0px;left:0px;right:0px;bottom:0px;z-index:99999;';\n            document.body.appendChild(catcher);\n            quip.apps.addDetachedNode(ReactDOM.findDOMNode(catcher));\n        };\n        \n        function removeCatcher()\n        {\n              quip.apps.removeDetachedNode(ReactDOM.findDOMNode(catcher));\n              catcher.parentNode.removeChild(catcher);\n        };\n        \n        this.addListener(mxEvent.MOVE_START, addCatcher);\n        this.addListener(mxEvent.MOVE_END, removeCatcher);\n        this.addListener(mxEvent.RESIZE_START, addCatcher);\n        this.addListener(mxEvent.RESIZE_END, removeCatcher);\n        \n        this.div.style.zIndex = minZIndex + 1;\n    };\n    \n    // Execute fit page on page setup changes\n    var changePageSetupExecute = ChangePageSetup.prototype.execute;\n    \n    ChangePageSetup.prototype.execute = function()\n    {\n        changePageSetupExecute.apply(this, arguments);\n\n        if (this.page == this.ui.currentPage && this.format != null)\n        {\n            fitDiagram(true, true);\n        }\n    };\n\n    var graphViewSetCurrentRoot = mxGraphView.prototype.setCurrentRoot;\n    \n    mxGraphView.prototype.setCurrentRoot = function(root)\n    {\n        graph.container.style.visibility = 'hidden';\n        var parent = (graph.view.currentRoot != null) ? graph.view.currentRoot.parent : graph.model.root;\n        graphViewSetCurrentRoot.apply(this, arguments);\n        \n        if (parent != ((graph.view.currentRoot != null) ? graph.view.currentRoot.parent : graph.model.root))\n        {\n            fitDiagram(true, true);\n        }\n        \n        graph.container.style.visibility = '';\n    };\n    \n    createViewer(isCreateViewer, null, onLoad);\n}; // end of main\n\nfunction doInit(callback, createUi)\n{\n    // Adds required resources (disables loading of fallback properties, this can only\n    // be used if we know that all keys are defined in the language specific file)\n    mxResources.loadDefaultBundle = false;\n    var bundle = mxResources.getDefaultBundle(RESOURCE_BASE, mxLanguage) ||\n        mxResources.getSpecialBundle(RESOURCE_BASE, mxLanguage);\n\n    // Initialize MathJax just once\n    // LATER: Disable use of cookies in MathJax\n    if (quip.apps.isOnline() && typeof window.MathJax === 'undefined' &&\n        (Editor.config == null ||  Editor.config.mathematicalTypesetting == null ||\n         Editor.config.mathematicalTypesetting))\n    {\n        Editor.initMath();\n        \n        Editor.doMathJaxRender = function(container)\n        {\n            window.setTimeout(function()\n            {\n                if (container.style.visibility != 'hidden')\n                {\n                    MathJax.Hub.Queue(['Typeset', MathJax.Hub, container]);\n                }\n            }, 0);\n        };\n    }\n    \n    // Creates UI and invokes callback\n    function start(resources)\n    {\n        mxResources.parse(resources);\n        \n        var ui = (createUi != null) ? createUi() : new App(new Editor(urlParams['chrome'] == '0'));\n        \n        if (callback != null)\n        {\n            if (ui != null)\n            {\n                var w = quip.apps.getContainerWidth();\n                container.style.height = '64px';\n                quip.apps.setWidthAndAspectRatio(w, 64 / w);\n            }\n            \n            callback(ui);\n        }\n    };\n    \n    if (Editor.config != null && Editor.config.plantUml != null && !Editor.config.plantUml)\n    {\n        EditorUi.enablePlantUml = false;\n    }\n    \n    if (Editor.config != null && Editor.config.iconfinder != null && !Editor.config.iconfinder)\n    {\n        window.ICONSEARCH_PATH = null;\n    }\n    \n    // Bypass XHR for default resources\n    if (!quip.apps.isOnline() || bundle.substring(bundle.length - 8, bundle.length) == '/dia.txt' ||\n        (Editor.config != null && Editor.config.internationalization != null &&\n         !Editor.config.internationalization))\n    {\n        start(defaultResources);\n    }\n    else\n    {\n        // Prefetches asynchronous requests so that below code runs synchronous\n        // Loading the correct bundle (one file) via the fallback system in mxResources. The stylesheet\n        // is compiled into JS in the build process and is only needed for local development.\n        mxUtils.getAll([bundle], function(xhr)\n        {\n            start(xhr[0].getText());\n        }, function()\n        {\n            // Fallback to default resources\n            start(defaultResources);\n        });\n    }\n}; // end of doInit\n\nfunction initSession(fitWindow)\n{\n    if (ui != null && ui.session == null)\n    {\n        var entry = getData(true);\n\n        if (entry != null && entry.data != null)\n        {\n            var fit = false;\n            \n            if (preview != null)\n            {\n                preview.parentNode.removeChild(preview);\n                preview = null;\n                fit = true;\n            }\n\n            graph.container.style.display = '';\n            container.style.backgroundImage = 'none';\n            container.style.display = '';\n            ui.setFileData(entry.data);\n            ui.editor.undoManager.clear();\n\n            if (!isDocumentTemplate())\n            {\n                ui.session = new Session(graph, sessionId, rootRecord.get('edits'));\n                ui.session.revisionId = entry.id;\n                ui.session.init(entry.lastEdit, fitWindow || fit);\n            }\n\n            if (dlg != null)\n            {\n                destroyNewDialog();\n            }\n            else\n            {\n                var err = document.getElementById('error');\n                \n                if (err != null)\n                {\n                    err.parentNode.removeChild(err);\n                    fitDiagram(true, true);\n                    \n                    quip.apps.enableResizing({maintainAspectRatio: true, minWidth: 100, minHeight: 100});\n                    \n                    if (quip.apps.isAppFocused())\n                    {\n                        ui.vHandle.style.display = '';\n                    }\n                }\n\n                updateBorder();\n                updateActions();\n            }\n        }\n    }\n};\n\nfunction destroyNewDialog()\n{\n    if (dlg != null)\n    {\n        // Animation for hiding dialog to show the diagram is active\n        mxUtils.setPrefixedStyle(dlg.container.style, 'transition', 'all 0.2s linear');\n        mxUtils.setPrefixedStyle(dlg.container.style, 'transform', 'scale(0.8,0.8)');\n        graph.container.style.opacity = '0';\n        dlg.container.style.opacity = '0';\n        \n        window.setTimeout(function()\n        {\n            if (dlg != null)\n            {\n                dlg.container.parentNode.removeChild(dlg.container);\n                dlg = null;\n                \n                mxUtils.setPrefixedStyle(graph.container.style, 'transition', 'all 0.2s linear');\n                graph.container.style.opacity = '1';\n                updateActions();\n                updateBorder();\n                fitDiagram(true, true);\n                \n                quip.apps.enableResizing({maintainAspectRatio: true, minWidth: 100, minHeight: 100});\n                \n                if (quip.apps.isAppFocused())\n                {\n                    ui.vHandle.style.display = '';\n                }\n                \n                window.setTimeout(function()\n                {\n                    mxUtils.setPrefixedStyle(graph.container.style, 'transition', null);\n                }, 200);\n            }\n        }, 200);\n    }\n};\n\nfunction setInitialData(data)\n{\n    var prev = false;\n\n    if (ui != null && ui.session != null)\n    {\n        prev = ui.session.ignoreNotify;\n        ui.session.ignoreNotify = true;\n    }\n\n    ui.setFileData(data);\n    saveDocument();\n    \n    if (ui != null && ui.session != null)\n    {\n        ui.session.ignoreNotify = prev;\n    }\n};\n\nfunction createNewDialog()\n{\n    dlg = new NewDialog(ui, false, false, mxUtils.bind(this, function(xml)\n    {\n        setInitialData(xml || ui.emptyDiagramXml);\n    }), true, function()\n    {\n        quip.apps.deleteApp();\n    }, 'rgb(237, 237, 237)', '#27b5f1', null, '7px 13px 7px 13px', null,\n        null, null, null, true);\n    \n    // Dialog border is rounded\n    dlg.container.style.border = '1px solid lightGray';\n    dlg.container.style.background = '#fff';\n    dlg.container.style.borderRadius = '8px';\n    dlg.container.style.borderBox = 'content-box';\n    dlg.container.style.overflow = 'hidden';\n    dlg.container.style.position = 'absolute';\n    dlg.container.style.height = '';\n    dlg.container.style.top = '0px';\n    dlg.container.style.bottom = '0px';\n    dlg.container.style.right = '0px';\n    dlg.container.style.left = '0px';\n\n    var left = dlg.container.firstChild;\n    left.style.backgroundColor = 'rgb(250, 250, 250)';\n    left.style.padding = '5px 0 5px 0';\n    left.style.color = '#353535';\n    left.style.margin = '0px';\n    left.style.top = '44px';\n    left.style.left = '0px';\n    left.style.borderLeftWidth = '0px';\n    left.style.width = '150px';\n    left.style.bottom = '40px';\n    \n    var right = left.nextSibling;\n    right.style.borderRightWidth = '0px';\n    right.style.borderLeftWidth = '0px';\n    right.style.margin = '0px';\n    right.style.top = '44px';\n    right.style.left = '150px';\n    right.style.right = '0px';\n    right.style.bottom = '40px';\n    \n    var buttons = right.nextSibling;\n    buttons.style.overflow = 'hidden';\n    buttons.style.whiteSpace = 'nowrap';\n    buttons.style.margin = '0 6px 6px 6px'\n    buttons.style.left = '0px';\n    buttons.style.bottom = '0px';\n    buttons.style.right = '0px';\n    \n    // Customization for Quip styling\n    var title = document.createElement('div');\n    mxUtils.write(title, mxResources.get('selectTemplate'));\n    title.style.cssText = 'position:absolute;overflow:hidden;text-overflow:ellipsis;color:#353535;' +\n        'font-size:15px;font-weight:bold;text-align:center;padding-top:12px;height:44px;' +\n        'box-sizing:border-box;left:0px;right:0px;top:0px;'\n     dlg.container.appendChild(title);\n    \n    var w = quip.apps.getContainerWidth();\n    quip.apps.setWidthAndAspectRatio(w, defaultHeight / w);\n    container.style.height = defaultHeight + 'px';\n    container.style.backgroundImage = 'none';\n    graph.container.style.display = 'none';\n    container.appendChild(dlg.container);\n\n    quip.apps.disableResizing();\n    \n    ui.addFileDropHandler([dlg.container]);\n    updateActions();\n    \n    // Adds tooltip to import\n    var btns = dlg.container.getElementsByTagName('button');\n    \n    if (btns != null && btns.length == 3)\n    {\n        btns[1].setAttribute('title', mxResources.get('import') + ': ' + mxResources.get('gliffy') + ', ' +\n                mxResources.get('formatVsdx') + ', ' + mxResources.get('lucidchart') + '...');\n    }\n};\n\nfunction compressHistory()\n{\n\t// Deletes all edits\n    var edits = rootRecord.get('edits');\n    \n    while (edits.count() > 0)\n    {\n        edits.get(0).delete();\n    }\n    \n    // Saves current state and deletes old revisions\n    saveDocument();\n    cleanupRevisions();\n\n    if (!viewerConfig.noPreview)\n    {\n        updateSnapshot();\n    }\n    else if (rootRecord.get(\"snapshot\") != null)\n    {\n        debug('clear snapshot', rootRecord.getId());\n        rootRecord.clear('snapshot');\n    }\n};\n\nfunction cleanupRevisions()\n{\n    var revs = rootRecord.get('revisions');\n    \n    if (revs != null)\n    {\n        while (revs.count() > 1)\n        {\n            revs.get(0).delete();\n        }\n    }\n};\n\n// Executes after loading viewer.min.js\nfunction createViewer(createUi, fitWindow, onLoad)\n{\n    doInit(function(theUi)\n    {\n        // Translates built-in menu commands\n        for (var i = 0; i < menuCommands.length; i++)\n        {\n            if (menuCommands[i].label != null && menuCommands[i].label.charAt(0) == '=')\n            {\n                var key = menuCommands[i].label.substring(1);\n                var postfix = '';\n                \n                if (key.substring(key.length - 3, key.length) == '...')\n                {\n                    key = key.substring(0, key.length - 3);\n                    postfix = '...';\n                }\n                \n                if (key == 'aboutDrawio')\n                {\n                \tmenuCommands[i].label = mxResources.get('about') + ' ' + EditorUi.VERSION + postfix;\n                }\n\t\t\t\telse if (key == 'findReplace')\n\t\t\t\t{\n\t\t\t\t\tmenuCommands[i].label = mxResources.get('find') + '/' + mxResources.get('replace') + postfix;\n\t\t\t\t}\n                else\n                {\n                \tmenuCommands[i].label = mxResources.get(key) + postfix;\n                }\n            }\n        }\n        \n        if (theUi == null)\n        {\n            updateActions();\n\n            if (onLoad != null)\n            {\n                onLoad();\n            }\n            \n            return;\n        }\n        \n        ui = theUi;\n        ui.initialConfig = rootRecord.get(\"config\");\n        graph = ui.editor.graph;\n        graph.model.prefix = guid() + '-';\n        graph.cellRenderer.minSvgStrokeWidth = 0.01;\n        \n        // Ignores hover mouse point for inserts\n        graph.isMouseInsertPoint = function()\n        {\n        \treturn false;\n        };\n        \n        // Adds CSS to print output, SVG and image export\n        ui.editor.fontCss += exportCss;\n\n        // Workaround for sticky mouse down after\n        // focus change from other diagram\n        if (mxClient.IS_GC && mxClient.IS_MAC)\n        {\n            graph.addMouseListener(\n            {\n                mouseDown: function(sender, me) {},\n                mouseMove: function(sender, me)\n                {\n                    if (graph.isMouseDown != (mxEvent.isLeftMouseButton(me.getEvent()) ||\n                        mxEvent.isRightMouseButton(me.getEvent())))\n                    {\n                        graph.getRubberband().reset();\n                        graph.graphHandler.reset();\n                        graph.isMouseDown = false;\n                    }\n                },\n                mouseUp: function(sender, me) {}\n            });\n        }\n\n        // Overrides destroy to clean up resources\n        var uiDestroy = ui.destroy;\n        \n        ui.destroy = function()\n        {\n            if (this.sidebarWindow != null)\n            {\n                this.sidebarWindow.window.setVisible(false);\n                this.sidebarWindow.window.destroy();\n                this.sidebarWindow = null;\n            }\n            \n            if (this.formatWindow != null)\n            {\n                this.formatWindow.window.setVisible(false);\n                this.formatWindow.window.destroy();\n                this.formatWindow = null;\n            }\n\n            if (this.actions.outlineWindow != null)\n            {\n                this.actions.outlineWindow.destroy();\n                this.actions.outlineWindow = null;\n            }\n\n            if (this.actions.layersWindow != null)\n            {\n                this.actions.layersWindow.destroy();\n                this.actions.layersWindow = null;\n            }\n\n            if (this.actions.tagsWindow != null)\n            {\n                this.actions.tagsWindow.window.setVisible(false);\n                this.actions.tagsWindow.window.destroy();\n                this.actions.tagsWindow = null;\n            }\n\n            if (this.menus.findWindow != null)\n            {\n                this.menus.findWindow.window.setVisible(false);\n                this.menus.findWindow.window.destroy();\n                this.menus.findWindow = null;\n            }\n\n            if (this.menus.findReplaceWindow != null)\n            {\n                this.menus.findReplaceWindow.window.setVisible(false);\n                this.menus.findReplaceWindow.window.destroy();\n                this.menus.findReplaceWindow = null;\n            }\n\n            if (this.session != null)\n            {\n                this.session.destroy();\n                this.session = null;\n            }\n\n            if (this.vHandle != null && this.vHandle.parentNode != null)\n            {\n                this.vHandle.parentNode.removeChild(this.vHandle);\n                this.vHandle = null;\n            }\n            \n            uiDestroy.apply(this, arguments);\n        };\n\n        // Redirects isOffline\n        ui.isOffline = function()\n        {\n            return !quip.apps.isOnline();\n        };\n        \n        // Disables built-in scrolling if not focused\n        graph.isScrollWheelEvent = function()\n        {\n        \treturn quip.apps.isAppFocused();\n        };\n        \n        // Mouse wheel handler to block page scrolling in fullscreen (ignored in MS Edge)\n        mxEvent.addMouseWheelListener(mxUtils.bind(this, function(evt, up)\n        {\n        \tif ((quip.apps.isAppFocused() && !isReadOnlyMode()) || fullscreen)\n\t        {\n        \t\tvar source = mxEvent.getSource(evt);\n\t\n\t\t\t    if ((source == graph.container || graph.container.contains(source)) &&\n\t\t\t    \tgraph.container.style.overflow != 'auto' &&\n\t            \t(fullscreen || (mxEvent.isControlDown(evt) &&\n\t                !mxClient.IS_MAC) || mxEvent.isMetaDown(evt)))\n\t            {\n\t            \t// Handles scrolling of container in fullscreen\n\t                if (!graph.isZoomWheelEvent(evt))\n\t                {\n\t                    var t = graph.view.getTranslate();\n\t                    var step = 40 / graph.view.scale;\n\t                    \n\t                    if (!mxEvent.isShiftDown(evt))\n\t                    {\n\t                        graph.view.setTranslate(t.x, t.y + ((up) ? step : -step));\n\t                    }\n\t                    else\n\t                    {\n\t                        graph.view.setTranslate(t.x + ((up) ? -step : step), t.y);\n\t                    }\n\t                }\n\t                \n\t                mxEvent.consume(evt);\n\t            }\n\t            else if (source != null)\n\t           \t{\n\t           \t\t// Safari and Firefox propagate the event to the outer page if\n\t           \t\t// the top or bottom is reached in a scrollable container so we\n\t           \t\t// need to block that but allow if scroll is possible\n\t           \t\tvar temp = source;\n\t           \t\tvar css = mxUtils.getCurrentStyle(temp);\n\t\n\t           \t\twhile (temp != document.body && css != null && css.overflowY != 'auto')\n\t           \t\t{\n\t           \t\t\ttemp = temp.parentNode;\n\t           \t\t\tcss = (temp != null) ? mxUtils.getCurrentStyle(temp) : null;\n\t           \t\t}\n\t           \t\t\n\t           \t\tif (temp != null && ((temp == document.body && fullscreen) ||\n\t           \t\t\t(temp != document.body && ((up && temp.scrollTop == 0) ||\n\t           \t\t\t(!up && temp.scrollTop >= temp.scrollHeight - temp.clientHeight)))))\n\t       \t\t\t{\n\t       \t\t\t\tmxEvent.consume(evt);\n\t       \t\t\t}\n\t           \t}\n\t\t\t}\n        }), graph.container);\n        \n        // Closes fullscreen on escape (must be called before handlers are reset)\n        // and escape must be ignored in some special cases where its invoked\n        // programmatically\n        var uiOnKeyPress = ui.onKeyPress;\n        \n        ui.onKeyPress = function()\n        {\n            ignoreEscape = true;\n            uiOnKeyPress.apply(this, arguments);\n            ignoreEscape = false;\n        };\n        \n        var graphReset = graph.reset;\n        \n        graph.reset = function()\n        {\n            ignoreEscape = true;\n            graphReset.apply(this, arguments);\n            ignoreEscape = false;\n        };\n\n        var delFunct = ui.actions.get('delete').funct;\n        \n        ui.actions.get('delete').funct = function()\n         {\n            ignoreEscape = true;\n            delFunct.apply(this, arguments);\n            ignoreEscape = false;\n        };\n        \n        var graphEscape = graph.escape;\n        \n        graph.escape = function()\n        {\n            if (!graph.isEditing() && !ignoreEscape)\n            {\n                // Ignores escape if handlers are active\n                var inactive = graph.graphHandler.first == null && graph.connectionHandler.first == null;\n                \n                graph.selectionCellsHandler.handlers.visit(function(key, handler)\n                {\n                    inactive = inactive && !graph.selectionCellsHandler.isHandlerActive(handler);\n                });\n\n                if (inactive)\n                {\n                    if (fullscreen)\n                    {\n                        setFullscreen(false);\n                    }\n                    else\n                    {\n                        if (ui.menus.findWindow != null)\n                        {\n                            ui.menus.findWindow.window.setVisible(false);\n                        }\n\n                        if (ui.menus.findReplaceWindow != null)\n                        {\n                            ui.menus.findReplaceWindow.window.setVisible(false);\n                        }\n\n                        if (ui.menus.tagsWindow != null)\n                        {\n                            ui.menus.tagsWindow.window.setVisible(false);\n                        }\n                        \n                        if (ui.actions.layersWindow != null)\n                        {\n                            ui.actions.layersWindow.window.setVisible(false);\n                        }\n                        \n                        if (ui.actions.outlineWindow != null)\n                        {\n                            ui.actions.outlineWindow.window.setVisible(false);\n                        }\n                        \n                        if (ui.formatWindow != null)\n                        {\n                            ui.formatWindow.window.setVisible(false);\n                        }\n                        \n                        if (ui.sidebarWindow != null)\n                        {\n                            ui.sidebarWindow.window.setVisible(false);\n                        }\n                        \n                        graph.popupMenuHandler.hideMenu();\n                        graph.clearSelection();\n                        fitDiagram(true);\n                    }\n                }\n            }\n            \n            graphEscape.apply(this, arguments);\n        };\n\n        // Locks unselected cells on mobile\n        if (quip.apps.isMobile())\n        {\n            var graphIsCellLocked = graph.isCellLocked;\n            \n            graph.isCellLocked = function(cell)\n            {\n                return !this.isCellSelected(cell) || graphIsCellLocked.apply(this, arguments);\n            };\n            \n            // Overrides cell selection to allow for unselected cells on mobile\n            var click = graph.click;\n            \n            graph.click = function(me)\n            {\n                if (this.isEnabled() && me.sourceState != null)\n                {\n                    var cell = me.sourceState.cell;\n                    \n                    if (cell != null && !graphIsCellLocked.apply(this, [cell]) &&\n                        (Math.abs(this.lastMouseX - me.getX()) < this.tolerance &&\n                         Math.abs(this.lastMouseY - me.getY()) < this.tolerance))\n                    {\n                        graph.selectCellForEvent(cell, me.getEvent());\n                    }\n                }\n                else\n                {\n                    return click.apply(this, arguments);\n                }\n            };\n        }\n        \n        // Disables centering of graph after iframe resize\n        ui.chromelessWindowResize = function() {};\n        \n        // Overridden to add padding\n        ui.chromelessResize = function(autoscale, maxScale, cx, cy, alignTop)\n        {\n            if (graph.container != null)\n            {\n                cx = (cx != null) ? cx : 0;\n                cy = (cy != null) ? cy : 0;\n                \n                var bds = (graph.pageVisible) ? graph.view.getBackgroundPageBounds() : graph.getGraphBounds();\n                var scroll = mxUtils.hasScrollbars(graph.container);\n                var tr = graph.view.translate;\n                var s = graph.view.scale;\n                \n                // Normalizes the bounds\n                var b = mxRectangle.fromRectangle(bds);\n                b.x = b.x / s - tr.x;\n                b.y = b.y / s - tr.y;\n                b.width /= s;\n                b.height /= s;\n                \n                var st = graph.container.scrollTop;\n                var sl = graph.container.scrollLeft;\n                var sb = 0; //(mxClient.IS_QUIRKS || document.documentMode >= 8) ? 20 : 14;\n                var cw = graph.container.offsetWidth - sb;\n                var ch = graph.container.offsetHeight - sb;\n                \n                var ns = (autoscale) ? Math.max(0.3, Math.min(maxScale || 1, cw / b.width)) : s;\n                var dx = ((cw - ns * b.width) / 2) / ns;\n                var dy = (fullscreen) ? (((ch - ns * b.height) / this.lightboxVerticalDivider) / ns) : padding / ns;\n                \n                if (alignTop)\n                {\n                    dy = Math.max(dy, padding / ns);\n                }\n                \n                if (scroll)\n                {\n                    dx = Math.max(dx, 0);\n                    dy = Math.max(dy, 0);\n                }\n\n                if (scroll || (bds.width < cw && bds.height < ch))\n                {\n                    graph.view.scaleAndTranslate(ns, Math.floor(dx - b.x), Math.floor(dy - b.y));\n                    graph.container.scrollTop = st * ns / s;\n                    graph.container.scrollLeft = sl * ns / s;\n                }\n                else if (cx != 0 || cy != 0)\n                {\n                    var t = graph.view.translate;\n                    var ty = \n                    graph.view.setTranslate((bds.width < cw) ? Math.floor(dx - b.x) : Math.floor(t.x + cx / s),\n                            (bds.height < ch) ? Math.floor(dy - b.y) :\n                                ((alignTop) ? Math.floor(dy - b.y) : Math.floor(t.y + cy / s)));\n                }\n            }\n        };\n\n        // Creates vertical handle\n        ui.vHandle = document.createElement('div');\n        ui.vHandle.className = 'geVerticalHandle';\n\n        // Event catching on outer document\n        var catcher = null;\n        var bounds = null;\n        var lastY = null;\n        \n        function addCatcher()\n        {\n            catcher = ui.createDiv('background');\n            catcher.style.cssText = 'position:absolute;background:transparent;top:0px;left:0px;right:0px;bottom:0px;z-index:99999;';\n            document.body.appendChild(catcher);\n            quip.apps.addDetachedNode(ReactDOM.findDOMNode(catcher));\n\n            mxEvent.addGestureListeners(catcher, function(evt)\n            {\n                // see below\n            }, function(evt)\n            {\n                if (lastY != null)\n                {\n                    var dy = mxEvent.getClientY(evt) - lastY;\n                    var h = Math.max(50, bounds.height + dy);\n                    quip.apps.setWidthAndAspectRatio(bounds.width, h / bounds.width);\n                    container.style.height = h + 'px';\n                }\n            }, function()\n            {\n                lastY = null;\n                removeCatcher();\n            });\n        };\n        \n        function removeCatcher()\n        {\n              quip.apps.removeDetachedNode(ReactDOM.findDOMNode(catcher));\n              catcher.parentNode.removeChild(catcher);\n        };\n        \n        mxEvent.addGestureListeners(ui.vHandle, function(evt)\n        {\n            bounds = quip.apps.getCurrentDimensions();\n            lastY = mxEvent.getClientY(evt);\n            addCatcher();\n        });\n\n        // Workaround for spinner and status position\n        var oldSpin = ui.spinner.spin;\n        \n        ui.spinner.spin = function(c, message)\n        {\n            var result = oldSpin.apply(ui.spinner, [container, message]);\n            \n            if (ui.spinner.status != null)\n            {\n                ui.spinner.status.style.marginTop = '70px';\n                ui.spinner.status.style.left = '50%';\n                ui.spinner.status.style.top = '50%';\n            }\n            \n            return result;\n        };\n        \n        // Handles open file via drop to splash screen\n        ui.openLocalFile = function(data, name, temp)\n        {\n            if (dlg != null)\n            {\n                setInitialData(data);\n            }\n        };\n        \n        // Handles Quip exported files (currently only current XML for import)\n        var uiValidateFileData = ui.validateFileData;\n        \n        ui.validateFileData = function(data)\n        {\n            if (data != null && data.substring(0, 9) == '{\"user\":\"')\n            {\n                try\n                {\n                    var obj = JSON.parse(data);\n                    data = obj.current;\n                }\n                catch (e)\n                {\n                    // ignore\n                }\n            }\n            \n            return uiValidateFileData.apply(this, [data]);\n        };\n        \n        // Make available for resolving DOM nodes\n        window.graph = graph;\n        \n        // Adds/modifies actions and menus\n        ui.actions.get('save').setEnabled(false);\n        ui.actions.get('insertText').label = mxResources.get('text');\n        ui.actions.get('editDiagram').label = mxResources.get('formatXml') + '...';\n        ui.actions.get('insertRectangle').label = mxResources.get('rectangle');\n        ui.actions.get('insertEllipse').label = mxResources.get('ellipse');\n        ui.actions.get('insertRhombus').label = mxResources.get('rhombus');\n        ui.actions.get('insertImage').label = mxResources.get('image') + '...';\n        ui.actions.get('insertLink').label = mxResources.get('link') + '...';\n        ui.actions.get('createShape').label = mxResources.get('shape') + '...';\n        ui.actions.get('outline').label = mxResources.get('outline') + '...';\n        ui.actions.get('layers').label = mxResources.get('layers') + '...';\n        ui.actions.get('keyboardShortcuts').funct = function()\n        {\n            quip.apps.openLink('https://www.draw.io/shortcuts.svg');\n        };\n        ui.actions.get('support').funct = function()\n        {\n            quip.apps.openLink('https://desk.draw.io/support/solutions/articles/16000075852');\n        };\n\n        ui.actions.put('fit', new Action(mxResources.get('fit'), function()\n        {\n            graph.popupMenuHandler.hideMenu();\n            fitDiagram(true);\n        }));\n        ui.actions.put('comment', new Action(mxResources.get('comment') + '...', function()\n        {\n            setFullscreen(false);\n            quip.apps.showComments(rootRecord.getId());\n        }));\n        ui.actions.put('preferences', new Action(mxResources.get('preferences') + '...', function()\n        {\n            graph.popupMenuHandler.hideMenu();\n            showConfigureDialog();\n        }));\n        ui.actions.put('insertPage', new Action(mxResources.get('page'), function()\n        {\n            ui.insertPage();\n            fitDiagram();\n            updateActions();\n        }));\n        ui.actions.put('fullscreen', new Action(mxResources.get('fullscreen'), function()\n        {\n            setFullscreen(true);\n        }));\n        ui.actions.put('exitFullscreen', new Action(mxResources.get('done'), function()\n        {\n            if (graph.pageVisible)\n            {\n                ui.actions.get('pageView').funct();\n            }\n            \n            setFullscreen(false);\n        }));\n        ui.actions.put('debug', new Action('Debug', function()\n        {\n            function getDataArray(record)\n            {\n                var result = [];\n                \n                for (var i = 0; i < record.count(); i++)\n                {\n                    result.push(record.get(i).get(\"data\"));\n                }\n                \n                return result;\n            };\n            \n            console.log('ui', ui);\n            console.log('root', rootRecord);\n            console.log('edits', rootRecord.get(\"edits\").getId(), getDataArray(rootRecord.get(\"edits\")));\n            console.log('revisions', getDataArray(rootRecord.get(\"revisions\")))\n            console.log('storage', rootRecord.get(\"storage\"));\n            console.log('config', rootRecord.get(\"config\"));\n            console.log('snapshot', rootRecord.get(\"snapshot\"));\n            console.log('user', quip.apps.getUserPreferences().getForKey('settings'));\n        }));\n        ui.actions.put('refresh', new Action('Refresh', function()\n        {\n            graph.refresh();\n        }));\n        ui.actions.put('importFile', new Action('File...', function()\n        {\n            graph.popupMenuHandler.hideMenu();\n            var input = document.createElement('input');\n            input.setAttribute('type', 'file');\n            \n            mxEvent.addListener(input, 'change', function()\n            {\n                if (input.files != null)\n                {\n                    // Using null for position will disable crop of input file\n                    ui.importFiles(input.files, null, null, ui.maxImageSize);\n                }\n            });\n\n            input.click();\n        }));\n        ui.actions.put('importCsv', new Action(mxResources.get('csv') + '...', function()\n        {\n            graph.popupMenuHandler.hideMenu();\n            ui.showImportCsvDialog();\n        }));\n        ui.actions.put('importText', new Action(mxResources.get('text') + '...', function()\n        {\n            var dlg = new ParseDialog(ui, 'Insert from Text');\n            ui.showDialog(dlg.container, 620, 420, true, false);\n            dlg.init();\n        }));\n        ui.actions.put('formatSql', new Action(mxResources.get('formatSql') + '...', function()\n        {\n            var dlg = new ParseDialog(ui, 'Insert from Text', 'formatSql');\n            ui.showDialog(dlg.container, 620, 420, true, false);\n            dlg.init();\n        }));\n        \n        if (EditorUi.enablePlantUml)\n        {\n            ui.actions.put('plantUml', new Action(mxResources.get('plantUml') + '...', function()\n            {\n                var dlg = new ParseDialog(ui, 'Insert from Text', 'plantUml');\n                ui.showDialog(dlg.container, 620, 420, true, false);\n                dlg.init();\n            }));\n        }\n    \n        ui.actions.put('mermaid', new Action(mxResources.get('mermaid') + '...', function()\n        {\n            var dlg = new ParseDialog(ui, 'Insert from Text', 'mermaid');\n            ui.showDialog(dlg.container, 620, 420, true, false);\n            dlg.init();\n        }));\n        \n        ui.actions.put('lockApp', new Action(mxResources.get('lockUnlock'), function()\n        {\n            setFullscreen(false, true);\n            \n            toggleLocked(null, function()\n            {\n                if (!locked)\n                {\n                    setFullscreen(true, true);\n                }\n            });\n        }));\n        ui.actions.put('deleteApp', new Action(mxResources.get('delete') + '...', function()\n        {\n            ui.confirm(mxResources.get('areYouSure'), function()\n            {\n                quip.apps.deleteApp();\n            });\n        }));\n        ui.actions.put('toggleShapes', new Action(mxResources.get('shapes') + '...', toggleShapes));\n        ui.actions.put('toggleFormat', new Action(mxResources.get('format') + '...', toggleFormat));\n        var addInsertItem = function(menu, parent, title, method)\n        {\n            menu.addItem(title, null, mxUtils.bind(this, function()\n            {\n                var dlg = new CreateGraphDialog(ui, title, method);\n                ui.showDialog(dlg.container, 620, 420, true, false);\n                // Executed after dialog is added to dom\n                dlg.init();\n            }), parent);\n        };\n\n        ui.menus.put('diagram', new Menu(mxUtils.bind(this, function(menu, parent)\n        {\n            ui.menus.addMenuItems(menu, ['comment', '-', 'outline', 'layers', '-', 'findReplace', 'tags', '-'], parent);\n            ui.menus.addSubmenu('layout', menu, parent);\n            ui.menus.addSubmenu('options', menu, parent);\n            ui.menus.addMenuItems(menu, ['-'], parent);\n            ui.menus.addSubmenu('export', menu, parent);\n            ui.menus.addMenuItems(menu, ['preferences', '-'], parent);\n            ui.menus.addSubmenu('help', menu, parent);\n            ui.menus.addMenuItems(menu, ['-', 'deleteApp'], parent);\n        })));\n\n        ui.menus.put('export', new Menu(mxUtils.bind(this, function(menu, parent)\n        {\n            ui.menus.addMenuItems(menu, ['exportPng', 'exportJpg', 'exportSvg', '-', 'exportPdf', 'exportVsdx', '-',\n                                         'exportHtml', 'exportXml', 'exportUrl', '-'], parent);\n            ui.menus.addSubmenu('embed', menu, parent);\n        })));\n\n        ui.menus.put('insertAdvanced', new Menu(mxUtils.bind(this, function(menu, parent)\n        {\n            ui.menus.addMenuItems(menu, ['importText', 'plantUml', 'mermaid', '-', 'importCsv',\n                                         'formatSql', '-', 'editDiagram'], parent);\n        })));\n        \n        mxResources.parse('insertLayout=' + mxResources.get('layout'));\n        mxResources.parse('insertAdvanced=' + mxResources.get('advanced'));\n        \n        ui.menus.put('insert', new Menu(mxUtils.bind(this, function(menu, parent)\n        {\n            ui.menus.addMenuItems(menu, ['insertRectangle', 'insertEllipse', 'insertRhombus', '-', 'insertText',\n            \t\t\t\t\t\t\t'insertPage', 'insertLink', '-', 'importFile', 'insertImage', 'insertTemplate', '-',\n            \t\t\t\t\t\t\t'createShape', 'insertFreehand', '-'], parent);\n            ui.menus.addSubmenu('insertLayout', menu, parent);\n            ui.menus.addSubmenu('insertAdvanced', menu, parent);\n        })));\n\n        var methods = ['horizontalFlow', 'verticalFlow', '-', 'horizontalTree', 'verticalTree',\n                       'radialTree', '-', 'organic', 'circle'];\n        \n        ui.menus.put('insertLayout', new Menu(mxUtils.bind(this, function(menu, parent)\n        {\n            for (var i = 0; i < methods.length; i++)\n            {\n                if (methods[i] == '-')\n                {\n                    menu.addSeparator(parent);\n                }\n                else\n                {\n                    addInsertItem(menu, parent, mxResources.get(methods[i]) + '...', methods[i]);\n                }\n            }\n        })));\n        \n        ui.menus.put('options', new Menu(mxUtils.bind(this, function(menu, parent)\n        {\n            ui.menus.addMenuItems(menu, ['grid', 'guides', '-', 'connectionArrows',\n                 'connectionPoints', '-', 'copyConnect', 'collapseExpand'], parent);\n        })));\n\n        ui.menus.put('embed', new Menu(mxUtils.bind(this, function(menu, parent)\n        {\n            ui.menus.addMenuItems(menu, ['embedImage', 'embedSvg', '-', 'embedHtml', 'embedIframe'], parent);\n        })));\n\n        ui.menus.put('help', new Menu(mxUtils.bind(this, function(menu, parent)\n        {\n            // No translation for menu item since help is english only\n            var item = menu.addItem('Search:', null, null, parent, null, null, false);\n            item.style.backgroundColor = (uiTheme == 'dark') ? '#505759' : 'whiteSmoke';\n            item.style.cursor = 'default';\n            \n            var input = document.createElement('input');\n            input.setAttribute('type', 'text');\n            input.setAttribute('size', '25');\n            input.style.marginLeft = '8px';\n\n            mxEvent.addListener(input, 'keydown', mxUtils.bind(this, function(e)\n            {\n                var term = mxUtils.trim(input.value);\n                \n                if (e.keyCode == 13 && term.length > 0)\n                {\n                    ui.openLink('https://desk.draw.io/support/search/solutions?term=' +\n                        encodeURIComponent(term));\n                    input.value = '';\n                    \n                    if (ui.menubar != null)\n                    {\n                        window.setTimeout(mxUtils.bind(this, function()\n                        {\n                            ui.menubar.hideMenu();\n                        }), 0);\n                    }\n                }\n                else if (e.keyCode == 27)\n                {\n                    input.value = '';\n                }\n            }));\n            \n            item.firstChild.nextSibling.appendChild(input);\n            \n            mxEvent.addGestureListeners(input, function(evt)\n            {\n                if (document.activeElement != input)\n                {\n                    input.focus();\n                }\n                \n                mxEvent.consume(evt);\n            }, function(evt)\n            {\n                mxEvent.consume(evt);\n            }, function(evt)\n            {\n                mxEvent.consume(evt);\n            });\n            \n            window.setTimeout(function()\n            {\n                input.focus();\n            }, 0);\n            \n            ui.menus.addMenuItems(menu, ['-', 'quickStart', 'keyboardShortcuts', 'support', '-', 'about'], parent);\n        })));\n        \n        // Needed for creating elements in Format panel\n        ui.toolbar = ui.createToolbar(ui.createDiv('geToolbar'));\n        ui.defaultLibraryName = mxResources.get('untitledLibrary');\n\n        // Fixes event handling for popup menu in Quip\n        var popupMenuHandlerPopup = graph.popupMenuHandler.popup;\n        \n        graph.popupMenuHandler.popup = function()\n        {\n            popupMenuHandlerPopup.apply(this, arguments);\n            quip.apps.addDetachedNode(ReactDOM.findDOMNode(this.div));\n        };\n        \n        if (preview == null)\n        {\n            quip.apps.enableResizing({maintainAspectRatio: true, minWidth: 100, minHeight: 100});\n        }\n\n        var undoMgr = ui.editor.undoManager;\n        graph.getSelectionModel().addListener(mxEvent.CHANGE, updateActions);\n        undoMgr.addListener(mxEvent.ADD, updateActions);\n        undoMgr.addListener(mxEvent.UNDO, updateActions);\n        undoMgr.addListener(mxEvent.REDO, updateActions);\n        undoMgr.addListener(mxEvent.CLEAR, updateActions);\n        updateActions();\n        \n        // Resets view after page change\n        ui.editor.addListener('pageSelected', function()\n        {\n            if (!fullscreen)\n            {\n                fitDiagram(true, true);\n            }\n        });\n        \n        ui.addListener('pageViewChanged', function()\n        {\n            fitDiagram(true);\n        });\n\n        ui.reloadFromRecord = function(forceUpdate)\n        {\n            var tempConfig = rootRecord.get(\"config\");\n\n            if (!quip.apps.isAppFocused())\n            {\n                if (ui.initialConfig != tempConfig)\n                {\n                    ui.initialConfig = tempConfig;\n                    forceUpdate = true;\n                    \n                    viewerConfig = (tempConfig != null && tempConfig.length > 0) ? JSON.parse(tempConfig) : {};\n                    border = (viewerConfig.border != null) ? viewerConfig.border : 0;\n                    padding = (viewerConfig.padding != null) ? viewerConfig.padding : padding;\n                    locked = (viewerConfig.locked != null) ? viewerConfig.locked : false;\n                }\n                \n                if (forceUpdate)\n                {\n                    updateActions();\n                    updateBorder();\n                    fitDiagram(forceUpdate);\n                }\n            }\n            else\n            {\n                viewerConfig = (tempConfig != null && tempConfig.length > 0) ? JSON.parse(tempConfig) : {};\n                locked = viewerConfig.locked;\n            }\n            \n            if (ui != null && ui.editor.editable == locked)\n            {\n                toggleLocked(true);\n            }\n        };\n\n        initSession(fitWindow)\n        \n        if (ui.session == null)\n        {\n            if (!isDocumentEditable())\n            {\n                var w = quip.apps.getContainerWidth();\n                quip.apps.setWidthAndAspectRatio(w, 40 / w);\n                container.style.backgroundImage = '';\n                container.style.height = '40px';\n                var test = document.createElement('div');\n                var error = document.createElement('div');\n                error.style.cssText = 'text-align:center;position:absolute;left:0px;right:0px;top:0px;bottom:0px;';\n                error.setAttribute('id', 'error');\n                error.innerHTML = '<div style=\"background:#fafafa;border:#c0c0c0 solid 1px;' +\n                    'padding:6px 12px 6px 12px;display:inline-block;border-radius:8px;color:#808080;\">' +\n                    'Unsupported browser</div>';\n                container.appendChild(error);\n                \n                // Block resizing until diagram was created\n                quip.apps.disableResizing();\n                updateActions();\n            }\n            else if (dlg == null && !isDocumentTemplate())\n            {\n                createNewDialog();\n            }\n        }\n        else if (rootRecord.get('snapshot') == null && !viewerConfig.noPreview)\n        {\n            var edits = rootRecord.get('edits');\n            \n            if (edits != null && edits.count() > 0)\n            {\n                try\n                {\n                    // Updates snapshot if last change is older than 30 seconds\n                    // to avoid too many snapshots to be created when the page\n                    // is loaded while the diagram is being edited\n                    if (new Date().getTime() - JSON.parse(edits.get(\n                        edits.count() - 1).get('data')).timestamp > 30000)\n                    {\n                        updateSnapshot();\n                    }\n                }\n                catch (e)\n                {\n                    // ignore\n                }\n            }\n        }\n        \n        ui.vHandle.style.display = (document.getElementById('error') == null && dlg == null &&\n            quip.apps.isAppFocused() && !fullscreen) ? '' : 'none';\n        container.appendChild(ui.vHandle);\n        quip.apps.addDetachedNode(ReactDOM.findDOMNode(ui.vHandle));\n        clearSelection();\n\n        if (onLoad != null)\n        {\n            onLoad();\n        }\n    }, function()\n    {\n        return (createUi) ? new EditorUi(new Editor(true, null, null,\n        \tnull, isDocumentEditable()), container, true) : null;\n    });\n} // end createViewer\n\nfunction updateSnapshot()\n{\n    if (dlg == null && (ui.pages == null || ui.currentPage == ui.pages[0]))\n    {\n        // Math is currently not supported\n        if (graph.mathEnabled)\n        {\n            debug('invalidate snapshot', rootRecord.getId());\n            rootRecord.clear('snapshot');\n            \n            return;\n        }\n        \n        var snapshot = rootRecord.get(\"snapshot\");\n        snapshotObj = null;\n        \n        try\n        {\n            snapshotObj = (snapshot != null) ? JSON.parse(snapshot) : null;\n        }\n        catch (e)\n        {\n            // ignore\n        }\n        \n        if (snapshotObj != null && snapshotObj.edits == rootRecord.get(\"edits\").count())\n        {\n            return;\n        }\n        \n        var exp = graph.createSvgImageExport();\n        \n        // Overrides rendering to add tooltips\n        var expDrawCellState = exp.drawCellState;\n\n        exp.drawCellState = function(state, canvas)\n        {\n            var svgDoc = canvas.root.ownerDocument;\n            var g = svgDoc.createElementNS(mxConstants.NS_SVG, 'g');\n\n            // Temporary replaces root for content rendering\n            var prev = canvas.root;\n            prev.appendChild(g);\n            canvas.root = g;\n            \n            expDrawCellState.apply(this, arguments);\n            \n            // Adds tooltip if group is not empty\n            if (g.firstChild == null)\n            {\n                g.parentNode.removeChild(g);\n            }\n            else\n            {\n                var tooltip = graph.getTooltipForCell(state.cell);\n                \n                if (tooltip != null && tooltip.length > 0)\n                {\n                    var title = svgDoc.createElementNS(mxConstants.NS_SVG, 'title');\n                    mxUtils.write(title, tooltip);\n                    g.appendChild(title);\n                }\n            }\n            \n            // Restores previous root\n            canvas.root = prev;\n        };\n        \n        var bg = graph.background;\n        \n        if (bg == mxConstants.NONE)\n        {\n            bg = null;\n        }\n        \n        var svgRoot = graph.getSvg(bg, 1, 0, false, false, true, true, exp);\n\n        if (graph.shadowVisible)\n        {\n            ui.editor.graph.addSvgShadow(svgRoot);\n        }\n        \n        debug('update snapshot', rootRecord.getId());\n        var data = {\"svg\": mxUtils.getXml(svgRoot), \"timestamp\": new Date().getTime(),\n              \"edits\": rootRecord.get(\"edits\").count(), \"math\": graph.mathEnabled,\n              \"shadow\": graph.shadowVisible};\n        rootRecord.set(\"snapshot\", JSON.stringify(data));\n    }\n};\n\nquip.apps.initialize(\n{\n    menuCommands: menuCommands,\n    initializationCallback: function(root, params)\n    {\n        rootRecord = quip.apps.getRootRecord();\n        var revs = rootRecord.get(\"revisions\");\n        var edits = rootRecord.get(\"edits\");\n\n        if (revs != null && edits != null)\n        {\n            var tempConfig = rootRecord.get(\"config\");\n            viewerConfig = (tempConfig != null && tempConfig.length > 0) ? JSON.parse(tempConfig) : {};\n            border = (viewerConfig.border != null) ? viewerConfig.border : 0;\n            padding = (viewerConfig.padding != null) ? viewerConfig.padding : padding;\n            locked = (viewerConfig.locked != null) ? viewerConfig.locked : false;\n\n            rootRecord.listen(rootRecordListener);\n            edits.listen(editsListener);\n            revs.listen(revsListener);\n\n            root.innerHTML = initialHtml;\n            container = document.getElementById('graph');\n            var snapshot = rootRecord.get(\"snapshot\");\n            snapshotObj = null;\n            \n            try\n            {\n                snapshotObj = (snapshot != null) ? JSON.parse(snapshot) : null;\n            }\n            catch (e)\n            {\n                // ignore\n            }\n            \n            if (snapshotObj != null && (snapshotObj.edits != rootRecord.get(\"edits\").count() || snapshotObj.math))\n            {\n                debug('removing old snapshot');\n                rootRecord.clear('snapshot');\n                snapshotObj = null;\n            }\n            \n            if (snapshotObj != null && !viewerConfig.noPreview)\n            {\n                container.style.display = 'none';\n\n                preview = document.createElement('div');\n                preview.setAttribute('id', 'preview');\n                preview.style.cssText = 'text-align:center;padding:' + padding + 'px;overflow:auto;cursor:pointer;' +\n                    'width:100%;visibility:hidden;border: 1px solid ' + ((border > 0) ? 'lightGray' : 'transparent');\n                preview.innerHTML = snapshotObj.svg;\n\n                var svg = preview.getElementsByTagName('svg')[0];\n                var w = parseInt(svg.getAttribute('width'));\n                var h = parseInt(svg.getAttribute('height'));\n                preview.style.backgroundColor = svg.style.backgroundColor;\n                svg.style.backgroundColor = '';\n                svg.removeAttribute('height');\n                \n                // Crisp rendering of edges\n                svg.setAttribute('viewBox', '-0.5 -0.5 ' + w + ' ' + h);\n                                 \n                // Default for text blocks in static SVG and avoid clipping\n                svg.style.textAlign = 'left';\n                var cw = quip.apps.getContainerWidth();\n                \n                if (quip.apps.isMac() || quip.apps.isIOs() || quip.apps.isAndroid() ||\n                    (navigator.userAgent.indexOf('AppleWebKit/') >= 0 &&\n                    navigator.userAgent.indexOf('Chrome/') < 0 &&\n                    navigator.userAgent.indexOf('Edge/') < 0))\n                {\n                    svg.getElementsByTagName('g')[0].removeAttribute('filter');\n                }\n                \n                var mz = (viewerConfig.maxZoom != null) ? viewerConfig.maxZoom : defaultMaxZoom;\n                var f = Math.min(mz, cw / (w + 2 * padding));\n                root.appendChild(preview);\n\n                if (viewerConfig.fixedZoom)\n                {\n                    // Matches current fixedZoom view\n                    preview.style.padding = padding + 'px 0 0 0';\n                    svg.setAttribute('width', Math.ceil(w * mz));\n                    svg.setAttribute('height', Math.ceil(h * mz + 1));\n\n                    var ch = Math.max(50, Math.ceil(h * mz + Math.max(2, 2 * Math.max(1, padding + 2))));\n                    preview.style.height = (ch + 4) + 'px';\n                    quip.apps.setWidthAndAspectRatio(cw, (ch + 4) / cw);\n                }\n                else\n                {\n                    preview.style.paddingBottom = Math.max(1, padding - ((snapshotObj.shadow) ? 10 : 5)) + 'px';\n                    svg.style.maxWidth = Math.ceil(w * mz) + 'px';\n                    svg.removeAttribute('width');\n                    svg.style.width = '100%';\n\n                    quip.apps.setWidthAndAspectRatio(cw, (h * f + Math.max(2, 2 * padding) + 2) / cw);\n                }\n\n                svg.addEventListener('mousedown', function(evt)\n                {\n                    var target = evt.target;\n                    \n                    while (target != null && target.nodeName.toLowerCase() != 'a')\n                    {\n                        target = target.parentNode;\n                    }\n                    \n                    if (target != null)\n                    {\n                        ignoreFocus = true;\n                    }\n                    \n                    // Disables text selection\n                    return false;\n                });\n\n                svg.addEventListener('click', function(evt)\n                {\n                    var target = evt.target;\n                    \n                    while (target != null && target.nodeName.toLowerCase() != 'a')\n                    {\n                        target = target.parentNode;\n                    }\n                    \n                    if (target != null)\n                    {\n                        var href = target.getAttributeNS('http://www.w3.org/1999/xlink', 'href') || target.getAttribute('href');\n\n                        if (href.substring(0, 13) == 'data:page/id,')\n                        {\n                            // Handles links to pages\n                            initialPageId = href.substring(13);\n                        }\n                        else\n                        {\n                            quip.apps.openLink(href);\n                        }\n\n                        evt.preventDefault();\n                        ignoreFocus = false;\n                        hidePreview();\n                    }\n                });\n                \n                preview.style.visibility = 'visible';\n\n                main(false/*, function()\n                {\n                    // NOTE: Math is currently not supported - this code is not used\n                    if (quip.apps.isOnline() && snapshotObj.math)\n                    {\n                        Editor.MathJaxRender(preview);\n                        \n                        // Workaround for mathjax rendering not visible with translate\n                        var fo = svg.getElementsByTagName('foreignObject');\n                        \n                        for (var i = 0; i < fo.length; i++)\n                        {\n                            var g = fo[i].parentNode.parentNode;\n                            fo[i].firstChild.style.width = '100%';\n                            var tr = g.getAttribute('transform');\n                            var coords = tr.substring(10, tr.length - 1).split(',');\n                            fo[i].setAttribute('x', coords[0]);\n                            fo[i].setAttribute('y', coords[1]);\n                            g.removeAttribute('transform');\n                        }\n                    }\n                }*/);\n                \n                debug('using snapshot', rootRecord.getId());\n            }\n            else\n            {\n                main(true);\n            }\n        }\n        else\n        {\n            root.innerHTML = '<div style=\"text-align:center;\"><div style=\"background:#fafafa;border:#c0c0c0 solid 1px;' +\n                'padding:6px 12px 6px 12px;display:inline-block;border-radius:8px;color:#808080;\">' +\n                'Diagram not found</div></div>';\n            var w = quip.apps.getContainerWidth();\n            quip.apps.setWidthAndAspectRatio(w, 40 / w);\n        }\n    }\n});\n\nfunction updateBorder()\n{\n    graph.container.style.border = (fullscreen) ? 'none' : '1px solid ' +\n      ((ui.isDiagramEmpty() || border > 0) ? 'lightGray' : 'transparent');\n};\n\n// Update action states\nfunction updateActions()\n{\n    var cmds = [];\n    \n    if (isDocumentEditable())\n    {\n        if (dlg == null)\n        {\n            cmds = cmds.concat([quip.apps.DocumentMenuCommands.MENU_MAIN,\n                        quip.apps.DocumentMenuCommands.SEPARATOR,\n                        \"shapes\", \"format\",\n                        quip.apps.DocumentMenuCommands.SEPARATOR,\n                        \"insert\", \"delete\",\n                        quip.apps.DocumentMenuCommands.SEPARATOR,\n                        \"undo\", \"redo\",\n                        quip.apps.DocumentMenuCommands.SEPARATOR,\n                        \"fit\", \"zoomIn\", \"zoomOut\", \"fullscreen\"]);\n            \n            if (!isReadOnlyMode())\n            {\n                cmds = cmds.concat([quip.apps.DocumentMenuCommands.SEPARATOR,\n                                    ((locked) ? \"unlock\" : \"lock\")]);\n            }\n        }\n        else\n        {\n            cmds.push('help');\n        }\n    }\n    else\n    {\n        cmds = [quip.apps.DocumentMenuCommands.MENU_MAIN];\n        \n        if (document.getElementById('error') == null)\n        {\n            cmds = cmds.concat([quip.apps.DocumentMenuCommands.SEPARATOR,\n                \"fit\", \"zoomIn\", \"zoomOut\", \"fullscreen\"]);\n            \n            if (!isReadOnlyMode())\n            {\n                cmds = cmds.concat([quip.apps.DocumentMenuCommands.SEPARATOR,\n                                    ((locked) ? \"unlock\" : \"lock\")]);\n            }\n        }\n    }\n    \n    if (ui != null && ui.pages != null && ui.pages.length > 1)\n    {\n        cmds = cmds.concat([quip.apps.DocumentMenuCommands.SEPARATOR, \"prevPage\", \"nextPage\"]);\n    }\n\n    if (domain == 'test.draw.io')\n    {\n        cmds = cmds.concat([quip.apps.DocumentMenuCommands.SEPARATOR, \"debug\"]);\n    }\n    \n    quip.apps.updateToolbar({toolbarCommandIds: cmds});\n    cmds = (preview != null || document.getElementById('error') != null) ? ['about', 'preferences', 'outline', 'layers', 'findReplace',\n                                'tags', 'export', 'embed', 'print'] : [];\n    var deleteEnabled = true;\n    \n    if (isDocumentEditable() && ui != null && graph != null)\n    {\n        if (graph.isSelectionEmpty() && ui.pages != null && ui.pages.length == 1 && ui.isDiagramEmpty())\n        {\n            cmds.push(\"delete\");\n            deleteEnabled = false;\n        }\n        \n        if (!ui.canUndo())\n        {\n            cmds.push('undo');\n        }\n\n        if (!ui.canRedo())\n        {\n            cmds.push('redo');\n        }\n    }\n    else\n    {\n        cmds = cmds.concat([\"format\", \"shapes\"]);\n    }\n    \n    if (document.getElementById('error') != null)\n    {\n        cmds = cmds.concat([\"fit\", \"zoomIn\", \"zoomOut\", \"fullscreen\"]);\n    }\n    \n    // Allowed if locked to disable locking\n    if (!quip.apps.isDocumentEditable() || isDocumentTemplate())\n    {\n        cmds.push(\"preferences\");\n    }\n    \n    if (ui != null)\n    {\n        ui.actions.get('delete').setEnabled(deleteEnabled);\n        \n        // Safari cannot save binary files and export images without server-side\n        // For image and text files a workaround shows the data in an mxWindow\n        if (!ui.useCanvasForExport)\n        {\n            var imageExportEnabled = quip.apps.isOnline();\n            ui.actions.get('exportPng').setEnabled(imageExportEnabled);\n            ui.actions.get('exportJpg').setEnabled(imageExportEnabled);\n            \n            if (!imageExportEnabled)\n            {\n                cmds.push('exportPng');\n                cmds.push('exportJpg');\n            }\n        }\n\n        // Cannot download binary file in native apps and Safari\n        if ((quip.apps.isNative != null && quip.apps.isNative()) || mxClient.IS_SF)\n        {\n            ui.actions.get('exportVsdx').setEnabled(false);\n            cmds.push('exportVsdx');\n        }\n\n        // Cannot call print or open new window in native apps\n        if ((quip.apps.isNative != null && quip.apps.isNative()) ||\n        \t(Editor.config != null && Editor.config.pdfExport != null &&\n            !Editor.config.pdfExport))\n        {\n        \tui.actions.get('exportPdf').setEnabled(false);\n            cmds.push('exportPdf');\n            \n            ui.actions.get('print').setEnabled(false);\n            cmds.push('print');\n        }\n        \n        // Fullscreen does not work on mobile\n        if (quip.apps.isMobile())\n        {\n            ui.actions.get('fullscreen').setEnabled(false);\n            cmds.push('fullscreen');\n        }\n        \n        // Fullscreen does not work on mobile\n        if (ui.actions.get('plantUml') == null)\n        {\n            cmds.push('plantUml');\n        }\n    }\n    \n    quip.apps.updateToolbarCommandsState(cmds, []);\n};\n\nfunction createCmd(id, title)\n{\n    return {\n        id: id,\n        label: title,\n        handler: () =>\n        {\n            var action = ui.actions.get(id);\n\n            if (action != null)\n            {\n                graph.popupMenuHandler.hideMenu();\n                action.funct();\n            }\n        }\n    };\n};\n\nfunction addLayout(method, title)\n{\n    return {\n        id: method,\n        label: title,\n        handler: () => {\n            var dlg = new CreateGraphDialog(ui, title, method);\n            ui.showDialog(dlg.container, 620, 420, true, false);\n            // Executed after dialog is added to dom\n            dlg.init();\n        }\n    };\n}\n\n/**\n * \n */\nvar WrapperWindow = function(editorUi, title, x, y, w, h, fn)\n{\n    var graph = editorUi.editor.graph;\n    \n    var div = document.createElement('div');\n    div.className = 'geSidebarContainer';\n    div.style.position = 'absolute';\n    div.style.width = '100%';\n    div.style.height = '100%';\n    div.style.border = '1px solid whiteSmoke';\n    div.style.overflowX = 'hidden';\n    div.style.overflowY = 'auto';\n    \n    fn(div);\n\n    this.window = new mxWindow(title, div, x, y, w, h, true, true);\n    this.window.destroyOnClose = false;\n    this.window.setMaximizable(false);\n    this.window.setResizable(true);\n    this.window.setClosable(true);\n    this.window.setVisible(true);\n    \n    this.window.setLocation = function(x, y)\n    {\n        var iw = window.innerWidth || document.documentElement.clientWidth || document.body.clientWidth;\n        var ih = window.innerHeight || document.documentElement.clientHeight || document.body.clientHeight;\n        \n        x = Math.max(0, Math.min(x, iw - this.table.clientWidth));\n        y = Math.max(0, Math.min(y, ih - this.table.clientHeight - 48));\n\n        if (this.getX() != x || this.getY() != y)\n        {\n            mxWindow.prototype.setLocation.apply(this, arguments);\n        }\n    };\n};\n\n/**\n * TODO: Migrate to DiffSync (see DiffSync.js, DrawioFileSync.js) in drawio repo.\n * There are known issues with this implementation of edit replay wrt to indices.\n */\nvar Session = function(graph, sessionId, record, cache)\n{\n    this.localEdits = [];\n    this.lastCount = 0;\n    this.allEdits = {};\n    this.codec = new mxCodec();\n    this.codec.ui = ui;\n    this.graph = graph;\n    this.model = graph.model;\n    this.sessionId = sessionId;\n    this.record = record;\n};\n\nSession.prototype.linefeed = '&#xa;';\n\nSession.prototype.ignoreUpdates = false;\n\nSession.prototype.ignoreNotify = false;\n\nSession.prototype.init = function(lastEdit, fit)\n{\n    this.codec.lookup = function(id)\n    {\n        return graph.model.getCell(id);\n    };\n\n    var self = this;\n    \n    // Overrides command history to ignore remote changes\n    this.undoListener = ui.editor.undoListener;\n    \n    ui.editor.undoListener = mxUtils.bind(this, function(sender, evt)\n    {\n        if (!this.ignoreNotify)\n        {\n            self.undoListener.apply(ui.editor, arguments);\n        }\n    });\n    \n    // Overrides execute to replace cell references in changes\n    this.execute = this.model.execute;\n    \n    this.model.execute = function(change)\n    {\n        self.replaceRefs(change);\n        self.execute.apply(this, arguments);\n    };\n\n    // Writes model changes to Quip data model\n    var counter = 0;\n    \n    this.notifyListener = mxUtils.bind(this, function(sender, evt)\n    {\n        if (!this.ignoreNotify)\n        {\n            destroyNewDialog();\n\n            if (!isDocumentTemplate() && isDocumentEditable())\n            {\n                var edit = evt.getProperty('edit');\n                var encodedChanges = this.encodeChanges(edit.changes, edit.undone);\n                \n                if (encodedChanges.length > 0)\n                {\n                    var entry = {id: this.sessionId + '-' + (counter++), edit: edit};\n                    this.localEdits.push(entry);\n    \n                    var xml = '<edit>' + encodedChanges + '</edit>';\n                    var user = quip.apps.getViewingUser();\n                    var pageId = ui.currentPage.getId();\n    \n                    this.ignoreUpdates = true;\n                    var rec = {data: JSON.stringify({\"id\": entry.id, \"userid\": user.getId(), \"pageid\": pageId,\n                        \"username\": user.getName(), \"timestamp\": new Date().getTime(), \"data\": xml})};\n                    this.record.add(rec);\n                    debug('added edit', rec, xml);\n    \n                    window.setTimeout(mxUtils.bind(this, function()\n                    {\n                        this.ignoreUpdates = false;\n                    }), 0);\n                }\n            }\n        }\n        \n        updateContainerSize();\n    });\n\n    this.graph.model.addListener(mxEvent.NOTIFY, this.notifyListener);\n\n    // Converts diagram from 2nd generation to 3rd generation\n    if (lastEdit != null && lastEdit != \"\")\n    {\n        this.convertDiagram(lastEdit);\n    }\n    \n    this.recordListener = mxUtils.bind(this, function()\n    {\n        if (!this.ignoreUpdates && this.record.count() > 0)\n        {\n            this.processEdits(this.record);\n        }\n    });\n    \n    this.record.listen(this.recordListener);\n\n    if (this.record.count() > 0)\n    {\n        this.processEdits(this.record, true, fit);\n        \n        // Compresses history\n        if (!isReadOnlyMode())\n        {\n\t        var maxHistoryDays = 14;\n\t        \n\t        // Uses config for maxHistoryDays\n\t        if (Editor.config != null && Editor.config.maxHistoryDays != null)\n\t        {\n\t        \tmaxHistoryDays = Editor.config.maxHistoryDays;\n\t        }\n\t        \n\t        debug('checking', this.record.count(), 'entries for maximum age', maxHistoryDays, 'days');\n\t        \n\t        if (maxHistoryDays > 0)\n\t        {\n\t        \tvar lastEdit = JSON.parse(this.record.get(this.record.count() - 1).get('data'));\n\t        \tvar ageDays = Math.floor((new Date().getTime() - lastEdit.timestamp) / 86400000);\n\t        \t\n\t        \tdebug('oldest edit', ageDays, 'days ago');\n\t        \t\n\t        \tif (ageDays > maxHistoryDays)\n\t        \t{\n\t        \t\tcompressHistory();\n\t        \t\tdebug('history reset');\n\t        \t}\n\t        }\n        }\n    }\n    else\n    {\n        updateBorder();\n        fitDiagram(true, true);\n    }\n};\n\n\n/**\n * Function: destroy\n * \n * Destroys this session.\n */\nSession.prototype.destroy = function()\n{\n    if (this.undoListener != null && ui != null)\n    {\n        ui.editor.undoListener = this.undoListener;\n        this.undoListener = null;\n    }\n    \n    if (this.execute != null)\n    {\n        this.model.execute = this.execute;\n        this.execute = null;\n    }\n    \n    if (this.notifyListener != null)\n    {\n        this.graph.model.removeListener(this.notifyListener);\n        this.notifyListener = null;\n    }\n\n    if (this.recordListener != null)\n    {\n        this.record.unlisten(this.recordListener);\n        this.recordListener = null;\n    }\n};\n\nSession.prototype.reset = function()\n{\n    this.localEdits = [];\n    this.lastCount = 0;\n    this.allEdits = {};\n    \n    if (this.record.count() > 0)\n    {\n        this.processEdits(this.record, true);\n    }\n    else\n    {\n        updateBorder();\n        fitDiagram(true, true);\n    }\n};\n\nSession.prototype.convertDiagram = function(lastEdit)\n{\n    debug('converting diagram');\n    var active = false;\n     \n    // Deletes all and processes pending edits\n    while (this.record.count() > 0)\n    {\n        var edit = JSON.parse(this.record.get(0).get('data'));\n\n        if (active)\n        {\n            this.processEdit(edit, this.record.get(0));\n        }\n        \n        active = active || edit.id == lastEdit;\n        this.record.get(0).delete();\n    }\n    \n    this.allEdits = {};\n    saveDocument();\n    cleanupRevisions();\n};\n\nSession.prototype.replaceRefs = function(change)\n{\n    if (change.model != null)\n    {\n        var enc = mxCodecRegistry.getCodec(change.constructor);\n        \n        if (enc != null && enc.idrefs != null)\n        {\n            for (var i = 0; i < enc.idrefs.length; i++)\n            {\n                var current = change[enc.idrefs[i]];\n                var update = change.model.getCell(this.codec.getId(current));\n                \n                if (update != current && update != null)\n                {\n                    change[enc.idrefs[i]] = update;\n                }\n            }\n        }\n    }\n};\n\nSession.prototype.processEdits = function(record, initial, fit)\n{\n    debug('entering processEdits', record.count() + ' total', this.localEdits.length +\n          ' local', (record.count() - this.lastCount) + ' new');\n    var t0 = new Date().getTime();\n    \n    if (this.lastCount < record.count())\n    {\n        this.lastCount = record.count();\n        var seen = true;\n        var q = [];\n        \n        for (var i = 0; i < record.count(); i++)\n        {\n            var rec = record.get(i);\n            \n            if (seen && this.allEdits[rec.getId()] == null)\n            {\n                seen = false;\n            }\n            \n            if (!seen)\n            {\n                q.push({record: rec, edit: JSON.parse(rec.get('data'))});\n            }\n        }\n        \n        if (q.length > 0)\n        {\n            destroyNewDialog();\n            var local = q.length == this.localEdits.length;\n            \n            // Checks if all queued entries are local and in order\n            for (var i = 0; i < this.localEdits.length && local; i++)\n            {\n                local = local && q[i].edit.id == this.localEdits[i].id; \n            }\n\n            if (local)\n            {\n                for (var i = 0; i < this.localEdits.length; i++)\n                {\n                    this.allEdits[q[i].record.getId()] = this.localEdits[i].edit; \n                }\n                \n                this.localEdits = [];\n            }\n            else\n            {\n                this.ignoreNotify = true;\n                this.graph.container.style.visibility = 'hidden';\n                var selection = this.graph.getSelectionCells();\n                \n                // Undo all local edits\n                for (var i = this.localEdits.length - 1; i >= 0; i--)\n                {\n                    var edit = this.localEdits[i].edit;\n                    var notify = edit.notify;\n                    \n                    // Override is needed for active handler state\n                    edit.notify = function() {};\n                    \n                    if (edit.undone)\n                    {\n                        debug('redo local edit', i, this.localEdits[i].id);\n                        edit.redo();\n                    }\n                    else\n                    {\n                        debug('undo local edit', i, this.localEdits[i].id);\n                        edit.undo();\n                    }\n                    \n                    edit.notify = notify;\n                }\n                \n                // Undo edits that have been processed\n                for (var i = q.length - 1; i >= 0; i--)\n                {\n                    var temp = this.allEdits[q[i].record.getId()];\n                    \n                    if (temp != null)\n                    {\n                        var notify = temp.notify;\n                        temp.notify = function() {};\n                        \n                        if (temp.undone)\n                        {\n                            debug('redo stored edit', q[i].edit.id);\n                            temp.redo();\n                        }\n                        else\n                        {\n                            debug('undo stored edit', q[i].edit.id);\n                            temp.undo();\n                        }\n                        \n                        temp.notify = notify;\n                    }\n                }\n        \n                // Process all edits\n                debug('processing', q.length + ' edit(s)');\n                var processedEdits = [];\n                \n                for (var i = 0; i < q.length; i++)\n                {\n                    processedEdits.push(this.processEdit(q[i].edit, q[i].record));\n                }\n                \n                debug('updated model at ' + record.count() + ' edit(s) with ' + this.localEdits.length + ' pending');\n                \n                // Redo pending local edits\n                for (var i = 0; i < this.localEdits.length; i++)\n                {\n                    var edit = this.localEdits[i].edit;\n                    var notify = edit.notify;\n                    edit.notify = function() {};\n                    \n                    for (var j = 0; j < edit.changes.length; j++)\n                    {\n                        this.replaceRefs(edit.changes[j]);\n                    }\n                    \n                    if (edit.undone)\n                    {\n                        debug('redo pending local edit', i, this.localEdits[i].id);\n                        edit.redo();\n                    }\n                    else\n                    {\n                        debug('undo pending local edit', i, this.localEdits[i].id);\n                        edit.undo();\n                    }\n                    \n                    edit.notify = notify;\n                    processedEdits.push(edit);\n                }\n                \n                // Selects first page\n                if (initial && initialPageId != null)\n                {\n                    ui.selectPage(ui.getPageById(initialPageId), true);\n                    initialPageId = null;\n                }\n                else if (initial && ui.pages != null && ui.currentPage != ui.pages[0])\n                {\n                    ui.selectPage(ui.pages[0], true);\n                }\n                else\n                {\n                    // Invalidates cell states\n                    for (var i = 0; i < processedEdits.length; i++)\n                    {\n                        for (var j = 0; j < processedEdits[i].changes.length; j++)\n                        {\n                            graph.processChange(processedEdits[i].changes[j]);\n                        }\n                    }\n    \n                    // Updates text editor if cell changes during validation\n                    var redraw = this.graph.cellRenderer.redraw;\n                    \n                    this.graph.cellRenderer.redraw = function(state)\n                    {\n                        if (state.view.graph.isEditing(state.cell))\n                        {\n                            state.view.graph.cellEditor.resize();\n                            state.view.graph.scrollCellToVisible(state.cell);\n                        }\n                        \n                        redraw.apply(this, arguments);\n                    };\n                    \n                    // Revalidates diagram\n                    graph.view.validate();\n                    this.graph.cellRenderer.redraw = redraw;\n    \n                    // Restores selection\n                    if (selection.length > 0)\n                    {\n                        var temp = [];\n                        \n                        for (var i = 0; i < selection.length; i++)\n                        {\n                            var newCell = this.model.getCell(selection[i].id);\n                            \n                            if (newCell != null)\n                            {\n                                temp.push(newCell);\n                            }\n                        }\n        \n                        this.graph.setSelectionCells(temp);\n                    }\n                    else\n                    {\n                        ui.updateActionStates();                    \n                    }\n    \n                    ui.updateTabContainer();\n                    graph.sizeDidChange();\n                }\n                \n                updateActions();\n                updateBorder();\n    \n                if (quip.apps.isAppFocused() && !fit)\n                {\n                    updateContainerSize();\n                }\n                else\n                {\n                    fitDiagram(true, true);\n                }\n\n                this.graph.container.style.visibility = '';\n                this.ignoreNotify = false;\n            }\n        }\n    }\n\n    debug('leaving processEdits', (new Date().getTime() - t0) + 'ms');\n};\n\nSession.prototype.encodeChanges = function(changes, invert)\n{\n    var xml = [];\n    var step = (invert) ? -1 : 1;\n    var i0 = (invert) ? changes.length - 1 : 0;\n\n    for (var i = i0; i >= 0 && i < changes.length; i += step)\n    {   \n        // Newlines must be kept, they will be converted to\n        // &#xa; when the server sends data to the client\n        if (changes[i].constructor != SelectPage)\n        {\n            var node = this.codec.encode(changes[i]);\n            xml.push(mxUtils.getXml(node, this.linefeed));\n        }\n    }\n    \n    return xml.join('');\n};\n\nSession.prototype.processEdit = function(edit, record)\n{\n    var localEdit = null;\n    \n    // Finds local edit\n    for (var i = 0; i < this.localEdits.length; i++)\n    {\n        if (this.localEdits[i].id == edit.id)\n        {\n            debug('remove pending edit', edit.id);\n            localEdit = this.localEdits[i].edit;\n            this.localEdits.splice(i, 1);\n            \n            break;\n        }\n    }\n    \n    if (localEdit == null)\n    {\n        localEdit = this.allEdits[record.getId()];\n    }\n    \n    var undoableEdit = localEdit;\n    \n    if (undoableEdit == null)\n    {\n        var xml = (edit.data.charAt(0) == '<') ? edit.data : \n        \tGraph.decompress(edit.data);\n        undoableEdit = this.createUndoableEdit(this.decodeChanges(edit,\n        \tmxUtils.parseXml(xml).documentElement))\n    }\n    \n    if (undoableEdit.changes.length > 0)\n    {\n        this.allEdits[record.getId()] = undoableEdit;\n        var notify = undoableEdit.notify;\n        undoableEdit.notify = function() {};\n\n        for (var j = 0; j < undoableEdit.changes.length; j++)\n        {\n            this.replaceRefs(undoableEdit.changes[j]);\n        }\n        \n        if (localEdit == undoableEdit)\n        {\n            if (undoableEdit.undone)\n            {\n                debug('redo edit', edit.id, undoableEdit);\n                undoableEdit.redo();\n            }\n            else\n            {\n                debug('undo edit', edit.id, undoableEdit);\n                undoableEdit.undo();\n            }\n        }\n        else\n        {\n            debug('execute', edit, undoableEdit);\n            \n            // Fires change but no notify event\n            undoableEdit.source.fireEvent(new mxEventObject(mxEvent.CHANGE,\n                'edit', undoableEdit, 'changes', undoableEdit.changes));\n        }\n        \n        undoableEdit.notify = notify;\n    }\n    \n    return undoableEdit;\n};\n\n/**\n * Function: decodeChanges\n * \n * Decodes and executes the changes represented by the children in the\n * given node. Returns an array that contains all changes.\n */\nSession.prototype.decodeChanges = function(edit, node, exec)\n{\n    // Temporary codec\n    var tempCodec = new mxCodec(node.ownerDocument);\n    tempCodec.ui = ui;\n\n    // Parses and executes the changes on the model\n    var changes = [];\n    node = node.firstChild;\n    \n    while (node != null)\n    {\n        var change = this.decodeChange(edit, node, tempCodec, exec);\n        \n        if (change != null)\n        {\n            changes.push(change);\n        }\n        \n        node = node.nextSibling;\n    }\n    \n    return changes;\n};\n\n/**\n * Function: decodeChange\n * \n * Decodes, executes and returns the change object represented by the given\n * XML node.\n */\nSession.prototype.decodeChange = function(edit, node, tempCodec, exec)\n{\n    exec = (exec != null) ? exec : true;\n    var change = null;\n\n    if (node.nodeType == mxConstants.NODETYPE_ELEMENT)\n    {\n        try\n        {\n    \t\tvar page = null;\n    \t\t\n            if (node.nodeName == 'mxRootChange' || node.nodeName == 'ChangePage')\n            {\n                // Handles the special case were no ids should be\n                // resolved in the existing model. This change will\n                // replace all registered ids and cells from the\n                // model and insert a new cell hierarchy instead.\n                var tmp = new mxCodec(node.ownerDocument);\n                tmp.ui = ui;\n                change = tmp.decode(node);\n                page = change.relatedPage;\n            }\n\n\t\t\t// Special handling for pages\n\t\t\tif (change != null && node.nodeName == 'ChangePage' &&\n\t\t\t\tchange.index == null && page != null &&\n\t\t\t\tui.getPageById(page.getId()) != null)\n\t\t\t{\n\t\t\t\t// Finds page to be selected after removal\n\t\t\t\tvar tmp = mxUtils.indexOf(ui.pages, page);\n\n\t\t\t\tif (tmp == ui.pages.length - 1)\n\t\t\t\t{\n\t\t\t\t\ttmp--;\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\ttmp++;\n\t\t\t\t}\n\n\t\t\t\tchange.page = ui.pages[tmp];\n\t\t\t\tchange.previousPage = change.page;\n\t\t\t\tdebug('page removed', ui.pages.length, tmp, page.getId());\n\t\t\t}\n\t\t\telse if (page == null)\n\t\t\t{\n\t\t\t\tpage = ui.getPageById(edit.pageid);\n\t\t\t}\n\n            if (page != null)\n            {\n                var model = this.model;\n    \n                if (page.model == null)\n                {\n                    page.model = new mxGraphModel();\n                    page.model.prefix = guid() + '-';\n                    \n                    if (page.root == null && page.node != null)\n                    {\n                        ui.updatePageRoot(page);\n                    }\n                    \n                    if (page.root != null)\n                    {\n                        page.model.setRoot(page.root);\n                    }\n                    else\n                    {\n                        page.root = page.model.root;\n                    }\n                }\n                \n                if (page != ui.currentPage)\n                {\n                    model = page.model;\n                    debug('using page model', model);\n                }\n    \n                // Cell changes resolve IDs in the current model\n                if (change == null)\n                {    \n                    tempCodec.lookup = function(id)\n                    {\n                        return model.getCell(id);\n                    };\n                    \n                    change = tempCodec.decode(node);\n                }\n                \n\t\t\t\t// Model is required for cell changes and page\n\t\t\t\t// is required for page changes and they are\n\t\t\t\t// ignored in the opposite type of change\n\t\t\t\tchange.model = model;\n\t\t\t\tchange.page = page;\n\n                if (exec)\n                {\n                    change.execute();\n                    \n\t\t\t\t\t// Marks cached XML as dirty\n\t\t\t\t\tpage.needsUpdate = true;\n            \n                    // Workaround for references not being resolved if cells have\n                    // been removed from the model prior to being referenced. This\n                    // adds removed cells in the codec object lookup table.\n                    if (change != null && node.nodeName == 'mxChildChange' &&\n                        change.parent == null && change.child != null)\n                    {\n                        this.cellRemoved(change.child, tempCodec);\n                    }\n                }\n            }\n        }\n        catch (e)\n        {\n            debug('ignored', node, change, e);\n            change = null;\n        }\n    }\n    \n    return change;\n};\n\n/**\n * Function: cellRemoved\n * \n * Adds removed cells to the codec object lookup for references to the removed\n * cells after this point in time.\n */\nSession.prototype.cellRemoved = function(cell, codec)\n{\n    codec.putObject(cell.getId(), cell);\n    var childCount = this.model.getChildCount(cell);\n    \n    for (var i = 0; i < childCount; i++)\n    {\n        this.cellRemoved(this.model.getChildAt(cell, i), codec);\n    }\n};\n\n/**\n * Function: createUndoableEdit\n * \n * Creates a new <mxUndoableEdit> that implements the notify function to fire a\n * <change> and <notify> event via the model.\n */\nSession.prototype.createUndoableEdit = function(changes)\n{\n    var edit = new mxUndoableEdit(this.model, false);\n    edit.changes = changes;\n    \n    edit.notify = function()\n    {\n        // LATER: Remove changes property (deprecated)\n        edit.source.fireEvent(new mxEventObject(mxEvent.CHANGE,\n            'edit', edit, 'changes', edit.changes));\n        edit.source.fireEvent(new mxEventObject(mxEvent.NOTIFY,\n            'edit', edit, 'changes', edit.changes));\n    };\n    \n    return edit;\n};\n"],"sourceRoot":""}